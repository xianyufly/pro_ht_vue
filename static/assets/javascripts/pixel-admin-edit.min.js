(function(){if(!String.prototype.endsWith){String.prototype.endsWith=function(A){return this.indexOf(A,this.length-A.length)!==-1}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(C,E){var A,B,D;if(this===void 0||this===null){throw new TypeError('"this" is null or not defined')}B=this.length>>>0;E=+E||0;if(Math.abs(E)===Infinity){E=0}if(E<0){E+=B;if(E<0){E=0}}for(A=D=E;E<=B?D<B:D>B;A=E<=B?++D:--D){if(this[A]===C){return A}}return -1}}if(!Function.prototype.bind){Function.prototype.bind=function(D){var B,C,E,A;if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}B=Array.prototype.slice.call(arguments,1);A=this;E=function(){};C=function(){return A.apply((this instanceof E&&D?this:D),B.concat(Array.prototype.slice.call(arguments)))};E.prototype=this.prototype;C.prototype=new E();return C}}if(!Object.keys){Object.keys=(function(){var A,C,B;B=Object.prototype.hasOwnProperty;C={toString:null}.propertyIsEnumerable("toString")?false:true;A=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return function(J){var H,E,D,G,I,F,K;if(typeof J!=="object"&&(typeof J!=="function"||J===null)){throw new TypeError("Object.keys called on non-object")}D=[];for(G=0,F=J.length;G<F;G++){E=J[G];if(B.call(J,E)){D.push(E)}}if(C){for(I=0,K=A.length;I<K;I++){H=A[I];if(B.call(J,H)){D.push(H)}}}return D}}).call(this)}window.getScreenSize=function(B,A){if(B.is(":visible")){return"small"}else{if(A.is(":visible")){return"tablet"}else{return"desktop"}}};window.elHasClass=function(A,B){return(" "+A.className+" ").indexOf(" "+B+" ")>-1};window.elRemoveClass=function(A,B){return A.className=(" "+A.className+" ").replace(" "+B+" "," ").trim()}}).call(this);(function(){var A,B;B={is_mobile:false,resize_delay:400,stored_values_prefix:"pa_",main_menu:{accordion:true,animation_speed:250,store_state:true,store_state_key:"mmstate",disable_animation_on:[],dropdown_close_delay:300,detect_active:true,detect_active_predicate:function(C,D){return C===D}},consts:{COLORS:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"]}};A=function(){this.init=[];this.plugins={};this.settings={};this.localStorageSupported=typeof window.Storage!=="undefined"?true:false;return this};A.prototype.start=function(E,D){if(E==null){E=[]}if(D==null){D={}}var C=this;var F=function(){var G,H,J,I;$("html").addClass("pxajs");if(E.length>0){$.merge(C.init,E)}C.settings=$.extend(true,{},B,D||{});C.settings.is_mobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());if(C.settings.is_mobile){if(FastClick){FastClick.attach(document.body)}}I=C.init;for(H=0,J=I.length;H<J;H++){G=I[H];$.proxy(G,C)()}};F();return this};A.prototype.addInitializer=function(C){return this.init.push(C)};A.prototype.initPlugin=function(C,D){this.plugins[C]=D;if(D.init){return D.init()}};A.prototype.storeValue=function(D,G,F){var E;if(F==null){F=false}if(this.localStorageSupported&&!F){try{window.localStorage.setItem(this.settings.stored_values_prefix+D,G);return}catch(C){E=C;1}}return document.cookie=this.settings.stored_values_prefix+D+"="+escape(G)};A.prototype.storeValues=function(G,D){var E,C,H,I;if(D==null){D=false}if(this.localStorageSupported&&!D){try{for(C in G){H=G[C];window.localStorage.setItem(this.settings.stored_values_prefix+C,H)}return}catch(F){E=F;1}}I=[];for(C in G){H=G[C];I.push(document.cookie=this.settings.stored_values_prefix+C+"="+escape(H))}return I};A.prototype.getStoredValue=function(N,G,O){var L,D,C,K,M,F,I,E,H;if(G==null){G=false}if(O==null){O=null}if(this.localStorageSupported&&!G){try{F=window.localStorage.getItem(this.settings.stored_values_prefix+N);return(F?F:O)}catch(J){C=J;1}}D=document.cookie.split(";");for(E=0,H=D.length;E<H;E++){L=D[E];M=L.indexOf("=");K=L.substr(0,M).replace(/^\s+|\s+$/g,"");I=L.substr(M+1).replace(/^\s+|\s+$/g,"");if(K===(this.settings.stored_values_prefix+N)){return I}}return O};A.prototype.getStoredValues=function(M,P,O){var Q,U,L,G,H,S,C,F,D,I,J,R,K,E,T;if(P==null){P=false}if(O==null){O=null}F={};for(I=0,K=M.length;I<K;I++){H=M[I];F[H]=O}if(this.localStorageSupported&&!P){try{for(J=0,E=M.length;J<E;J++){H=M[J];C=window.localStorage.getItem(this.settings.stored_values_prefix+H);if(C){F[H]=C}}return F}catch(N){L=N;1}}U=document.cookie.split(";");for(R=0,T=U.length;R<T;R++){Q=U[R];S=Q.indexOf("=");G=Q.substr(0,S).replace(/^\s+|\s+$/g,"");D=Q.substr(S+1).replace(/^\s+|\s+$/g,"");if(G===(this.settings.stored_values_prefix+H)){F[H]=D}}return F};A.Constructor=A;window.PixelAdmin=new A}).call(this);(function(){var A;A=function(B){var C;C=null;return function(){if(C){clearTimeout(C)}return C=setTimeout(function(){C=null;return B.call(this)},PixelAdmin.settings.resize_delay)}};PixelAdmin.addInitializer(function(){var C,B,D,E;E=null;D=$(window);C=$('<div id="small-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');B=$('<div id="tablet-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');$("body").append(C).append(B);return D.on("resize",A(function(){D.trigger("pa.resize");if(C.is(":visible")){if(E!=="small"){D.trigger("pa.screen.small")}return E="small"}else{if(B.is(":visible")){if(E!=="tablet"){D.trigger("pa.screen.tablet")}return E="tablet"}else{if(E!=="desktop"){D.trigger("pa.screen.desktop")}return E="desktop"}}}))})}).call(this);function FastClick(C){var B,A=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=C;if(!C||!C.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(A,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(A,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(A,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(A,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(A,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(A,arguments)};if(FastClick.notNeeded(C)){return}if(this.deviceIsAndroid){C.addEventListener("mouseover",this.onMouse,true);C.addEventListener("mousedown",this.onMouse,true);C.addEventListener("mouseup",this.onMouse,true)}C.addEventListener("click",this.onClick,true);C.addEventListener("touchstart",this.onTouchStart,false);C.addEventListener("touchmove",this.onTouchMove,false);C.addEventListener("touchend",this.onTouchEnd,false);C.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){C.removeEventListener=function(D,F,E){var G=Node.prototype.removeEventListener;if(D==="click"){G.call(C,D,F.hijacked||F,E)}else{G.call(C,D,F,E)}};C.addEventListener=function(D,G,E){var F=Node.prototype.addEventListener;if(D==="click"){F.call(C,D,G.hijacked||(G.hijacked=function(H){if(!H.propagationStopped){G(H)}}),E)}else{F.call(C,D,G,E)}}}if(typeof C.onclick==="function"){B=C.onclick;C.addEventListener("click",function(D){B(D)},false);C.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(A){switch(A.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(A.disabled){return true}break;case"input":if((this.deviceIsIOS&&A.type==="file")||A.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(A.className)};FastClick.prototype.needsFocus=function(A){switch(A.nodeName.toLowerCase()){case"textarea":return true;case"select":return !this.deviceIsAndroid;case"input":switch(A.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !A.disabled&&!A.readOnly;default:return(/\bneedsfocus\b/).test(A.className)}};FastClick.prototype.sendClick=function(D,C){var B,A;if(document.activeElement&&document.activeElement!==D){document.activeElement.blur()}A=C.changedTouches[0];B=document.createEvent("MouseEvents");B.initMouseEvent(this.determineEventType(D),true,true,window,1,A.screenX,A.screenY,A.clientX,A.clientY,false,false,false,false,0,null);B.forwardedTouchEvent=true;D.dispatchEvent(B)};FastClick.prototype.determineEventType=function(A){if(this.deviceIsAndroid&&A.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(B){var A;if(this.deviceIsIOS&&B.setSelectionRange&&B.type.indexOf("date")!==0&&B.type!=="time"){A=B.value.length;B.setSelectionRange(A,A)}else{B.focus()}};FastClick.prototype.updateScrollParent=function(C){var A,B;A=C.fastClickScrollParent;if(!A||!A.contains(C)){B=C;do{if(B.scrollHeight>B.offsetHeight){A=B;C.fastClickScrollParent=B;break}B=B.parentElement}while(B)}if(A){A.fastClickLastScrollTop=A.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(A){if(A.nodeType===Node.TEXT_NODE){return A.parentNode}return A};FastClick.prototype.onTouchStart=function(B){var C,A,D;if(B.targetTouches.length>1){return true}C=this.getTargetElementFromEventTarget(B.target);A=B.targetTouches[0];if(this.deviceIsIOS){D=window.getSelection();if(D.rangeCount&&!D.isCollapsed){return true}if(!this.deviceIsIOS4){if(A.identifier===this.lastTouchIdentifier){B.preventDefault();return false}this.lastTouchIdentifier=A.identifier;this.updateScrollParent(C)}}this.trackingClick=true;this.trackingClickStart=B.timeStamp;this.targetElement=C;this.touchStartX=A.pageX;this.touchStartY=A.pageY;if((B.timeStamp-this.lastClickTime)<200){B.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(B){var C=B.changedTouches[0],A=this.touchBoundary;if(Math.abs(C.pageX-this.touchStartX)>A||Math.abs(C.pageY-this.touchStartY)>A){return true}return false};FastClick.prototype.onTouchMove=function(A){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(A.target)||this.touchHasMoved(A)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(A){if(A.control!==undefined){return A.control}if(A.htmlFor){return document.getElementById(A.htmlFor)}return A.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(E){var C,F,D,A,B,G=this.targetElement;if(!this.trackingClick){return true}if((E.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=E.timeStamp;F=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){B=E.changedTouches[0];G=document.elementFromPoint(B.pageX-window.pageXOffset,B.pageY-window.pageYOffset)||G;G.fastClickScrollParent=this.targetElement.fastClickScrollParent}D=G.tagName.toLowerCase();if(D==="label"){C=this.findControl(G);if(C){this.focus(G);if(this.deviceIsAndroid){return false}G=C}}else{if(this.needsFocus(G)){if((E.timeStamp-F)>100||(this.deviceIsIOS&&window.top!==window&&D==="input")){this.targetElement=null;return false}this.focus(G);if(!this.deviceIsIOS4||D!=="select"){this.targetElement=null;E.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){A=G.fastClickScrollParent;if(A&&A.fastClickLastScrollTop!==A.scrollTop){return true}}if(!this.needsClick(G)){E.preventDefault();this.sendClick(G,E)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(A){if(!this.targetElement){return true}if(A.forwardedTouchEvent){return true}if(!A.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(A.stopImmediatePropagation){A.stopImmediatePropagation()}else{A.propagationStopped=true}A.stopPropagation();A.preventDefault();return false}return true};FastClick.prototype.onClick=function(B){var A;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(B.target.type==="submit"&&B.detail===0){return true}A=this.onMouse(B);if(!A){this.targetElement=null}return A};FastClick.prototype.destroy=function(){var A=this.layer;if(this.deviceIsAndroid){A.removeEventListener("mouseover",this.onMouse,true);A.removeEventListener("mousedown",this.onMouse,true);A.removeEventListener("mouseup",this.onMouse,true)}A.removeEventListener("click",this.onClick,true);A.removeEventListener("touchstart",this.onTouchStart,false);A.removeEventListener("touchmove",this.onTouchMove,false);A.removeEventListener("touchend",this.onTouchEnd,false);A.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(B){var C;var A;if(typeof window.ontouchstart==="undefined"){return true}A=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(A){if(FastClick.prototype.deviceIsAndroid){C=document.querySelector("meta[name=viewport]");if(C){if(C.content.indexOf("user-scalable=no")!==-1){return true}if(A>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(B.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(A){return new FastClick(A)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}(function(A,B,E){var D={filterId:0};var C=function(M,I){var K={intensity:5,forceSVGUrl:false},L=E.extend(K,I);this.$elm=M instanceof E?M:E(M);var H=false;var J=" -webkit- -moz- -o- -ms- ".split(" "),N={},O=function(T){if(N[T]||N[T]===""){return N[T]+T}var R=B.createElement("div");var S=["","Moz","Webkit","O","ms","Khtml"];for(var Q in S){if(typeof R.style[S[Q]+T]!=="undefined"){N[T]=S[Q];return S[Q]+T}}return T.toLowerCase()},F=function(){var Q=B.createElement("div");Q.style.cssText=J.join("filter:blur(2px); ");return !!Q.style.length&&((B.documentMode===undefined||B.documentMode>9))}(),P=function(){var R=false;try{R=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(Q){}return R}(),G=function(){var Q="<svg id='vague-svg-blur' style='position:absolute;' width='0' height='0' ><filter id='blur-effect-id-"+D.filterId+"'><feGaussianBlur stdDeviation='"+L.intensity+"' /></filter></svg>";E("body").append(Q)};this.init=function(){if(P){G()}this.$elm.data("vague-filter-id",D.filterId);D.filterId++};this.blur=function(){var U,R=A.location,T=L.forceSVGUrl?R.protocol+"//"+R.host+R.pathname:"",Q=this.$elm.data("vague-filter-id"),S={};if(F){U="blur("+L.intensity+"px)"}else{if(P){U="url("+T+"#blur-effect-id-"+Q+")"}else{U="progid:DXImageTransform.Microsoft.Blur(pixelradius="+L.intensity+")"}}S[O("Filter")]=U;this.$elm.css(S);H=true};this.unblur=function(){var Q={};Q[O("Filter")]="none";this.$elm.css(Q);H=false};this.toggleblur=function(){if(H){this.unblur()}else{this.blur()}};this.destroy=function(){if(P){E("filter#blur-effect-id-"+this.$elm.data("vague-filter-id")).parent().remove()}this.unblur()};return this.init()};E.fn.Vague=function(F){return new C(this,F)};A.Vague=C}(window,document,jQuery));(function(A){if(typeof A.fn.each2=="undefined"){A.extend(A.fn,{each2:function(D){var E=A([0]),B=-1,C=this.length;while(++B<C&&(E.context=E[0]=this[B])&&D.call(E[0],B,E)!==false){}return this}})}})(jQuery);(function(T,R){if(window.Select2!==R){return}var V,e,W,A,b,O,M={x:0,y:0},c,i,V={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(q){q=q.which?q.which:q;switch(q){case V.LEFT:case V.RIGHT:case V.UP:case V.DOWN:return true}return false},isControl:function(q){var r=q.which;switch(r){case V.SHIFT:case V.CTRL:case V.ALT:return true}if(q.metaKey){return true}return false},isFunctionKey:function(q){q=q.which?q.which:q;return q>=112&&q<=123}},N="<div class='select2-measure-scrollbar'></div>",I={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z"};c=T(document);b=(function(){var q=1;return function(){return q++}}());function Z(s){var v,q,r,u;if(!s||s.length<1){return s}v="";for(q=0,r=s.length;q<r;q++){u=s.charAt(q);v+=I[u]||u}return v}function Y(u,q){var r=0,s=q.length;for(;r<s;r=r+1){if(d(u,q[r])){return r}}return -1}function G(){var r=T(N);r.appendTo("body");var q={width:r.width()-r[0].clientWidth,height:r.height()-r[0].clientHeight};r.remove();return q}function d(r,q){if(r===q){return true}if(r===R||q===R){return false}if(r===null||q===null){return false}if(r.constructor===String){return r+""===q+""}if(q.constructor===String){return q+""===r+""}return false}function h(u,q){var v,r,s;if(u===null||u.length<1){return[]}v=u.split(q);for(r=0,s=v.length;r<s;r=r+1){v[r]=T.trim(v[r])}return v}function f(q){return q.outerWidth(false)-q.width()}function j(r){var q="keyup-change-value";r.on("keydown",function(){if(T.data(r,q)===R){T.data(r,q,r.val())}});r.on("keyup",function(){var s=T.data(r,q);if(s!==R&&r.val()!==s){T.removeData(r,q);r.trigger("keyup-change")}})}c.on("mousemove",function(q){M.x=q.pageX;M.y=q.pageY});function n(q){q.on("mousemove",function(r){var s=M;if(s===R||s.x!==r.pageX||s.y!==r.pageY){T(r.target).trigger("mousemove-filtered",r)}})}function Q(r,u,s){s=s||R;var q;return function(){var v=arguments;window.clearTimeout(q);q=window.setTimeout(function(){u.apply(s,v)},r)}}function X(s){var r=false,q;return function(){if(r===false){q=s();r=true}return q}}function L(r,s){var q=Q(r,function(u){s.trigger("scroll-debounced",u)});s.on("scroll",function(u){if(Y(u.target,s.get())>=0){q(u)}})}function D(q){if(q[0]===document.activeElement){return}window.setTimeout(function(){var r=q[0],s=q.val().length,u;q.focus();if(q.is(":visible")&&r===document.activeElement){if(r.setSelectionRange){r.setSelectionRange(s,s)}else{if(r.createTextRange){u=r.createTextRange();u.collapse(false);u.select()}}}},0)}function E(q){q=T(q)[0];var r=0;var s=0;if("selectionStart" in q){r=q.selectionStart;s=q.selectionEnd-r}else{if("selection" in document){q.focus();var u=document.selection.createRange();s=document.selection.createRange().text.length;u.moveStart("character",-q.value.length);r=u.text.length-s}}return{offset:r,length:s}}function F(q){q.preventDefault();q.stopPropagation()}function g(q){q.preventDefault();q.stopImmediatePropagation()}function K(q){if(!O){var r=q[0].currentStyle||window.getComputedStyle(q[0],null);O=T(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:r.fontSize,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontWeight:r.fontWeight,letterSpacing:r.letterSpacing,textTransform:r.textTransform,whiteSpace:"nowrap"});O.attr("class","select2-sizer");T("body").append(O)}O.text(q.val());return O.width()}function o(r,v,w){var s,q=[],u;s=r.attr("class");if(s){s=""+s;T(s.split(" ")).each2(function(){if(this.indexOf("select2-")===0){q.push(this)}})}s=v.attr("class");if(s){s=""+s;T(s.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){u=w(this);if(u){q.push(u)}}})}r.attr("class",q.join(" "))}function B(s,u,w,q){var r=Z(s.toUpperCase()).indexOf(Z(u.toUpperCase())),v=u.length;if(r<0){w.push(q(s));return}w.push(q(s.substring(0,r)));w.push("<span class='select2-match'>");w.push(q(s.substring(r,r+v)));w.push("</span>");w.push(q(s.substring(r+v,s.length)))}function l(r){var q={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(r).replace(/[&<>"'\/\\]/g,function(s){return q[s]})}function J(v){var q,u=null,w=v.quietMillis||100,s=v.url,r=this;return function(x){window.clearTimeout(q);q=window.setTimeout(function(){var Ac=v.data,y=s,z=v.transport||T.fn.select2.ajaxDefaults.transport,Aa={type:v.type||"GET",cache:v.cache||false,jsonpCallback:v.jsonpCallback||R,dataType:v.dataType||"json"},Ab=T.extend({},T.fn.select2.ajaxDefaults.params,Aa);Ac=Ac?Ac.call(r,x.term,x.page,x.context):null;y=(typeof y==="function")?y.call(r,x.term,x.page,x.context):y;if(u){u.abort()}if(v.params){if(T.isFunction(v.params)){T.extend(Ab,v.params.call(r))}else{T.extend(Ab,v.params)}}T.extend(Ab,{url:y,dataType:v.dataType,data:Ac,success:function(Ae){var Ad=v.results(Ae,x.page);x.callback(Ad)}});u=z.call(r,Ab)},w)}}function m(u){var w=u,r,q,v=function(x){return""+x.text};if(T.isArray(w)){q=w;w={results:q}}if(T.isFunction(w)===false){q=w;w=function(){return q}}var s=w();if(s.text){v=s.text;if(!T.isFunction(v)){r=s.text;v=function(x){return x[r]}}}return function(x){var y=x.term,Aa={results:[]},z;if(y===""){x.callback(w());return}z=function(Ae,Ac){var Ab,Ad;Ae=Ae[0];if(Ae.children){Ab={};for(Ad in Ae){if(Ae.hasOwnProperty(Ad)){Ab[Ad]=Ae[Ad]}}Ab.children=[];T(Ae.children).each2(function(Af,Ag){z(Ag,Ab.children)});if(Ab.children.length||x.matcher(y,v(Ab),Ae)){Ac.push(Ab)}}else{if(x.matcher(y,v(Ae),Ae)){Ac.push(Ae)}}};T(w().results).each2(function(Ab,Ac){z(Ac,Aa.results)});x.callback(Aa)}}function C(r){var q=T.isFunction(r);return function(s){var u=s.term,v={results:[]};T(q?r():r).each(function(){var x=this.text!==R,w=x?this.text:this;if(u===""||s.matcher(u,w)){v.results.push(x?this:{id:this,text:this})}});s.callback(v)}}function H(q,r){if(T.isFunction(q)){return true}if(!q){return false}throw new Error(r+" must be a function or a falsy value")}function S(q){return T.isFunction(q)?q():q}function U(r){var q=0;T.each(r,function(s,u){if(u.children){q+=U(u.children)}else{q++}});return q}function k(z,x,y,w){var q=z,r=false,Ab,s,v,Aa,u;if(!w.createSearchChoice||!w.tokenSeparators||w.tokenSeparators.length<1){return R}while(true){s=-1;for(v=0,Aa=w.tokenSeparators.length;v<Aa;v++){u=w.tokenSeparators[v];s=z.indexOf(u);if(s>=0){break}}if(s<0){break}Ab=z.substring(0,s);z=z.substring(s+u.length);if(Ab.length>0){Ab=w.createSearchChoice.call(this,Ab,x);if(Ab!==R&&Ab!==null&&w.id(Ab)!==R&&w.id(Ab)!==null){r=false;for(v=0,Aa=x.length;v<Aa;v++){if(d(w.id(Ab),w.id(x[v]))){r=true;break}}if(!r){y(Ab)}}}}if(q!==z){return z}}function P(q,s){var r=function(){};r.prototype=new q;r.prototype.constructor=r;r.prototype.parent=q.prototype;r.prototype=T.extend(r.prototype,s);return r}e=P(Object,{bind:function(q){var r=this;return function(){q.apply(r,arguments)}},init:function(r){var u,v,s=".select2-results";this.opts=r=this.prepareOpts(r);this.id=r.id;if(r.element.data("select2")!==R&&r.element.data("select2")!==null){r.element.data("select2").destroy()}this.container=this.createContainer();this.containerId="s2id_"+(r.element.attr("id")||"autogen"+b());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=X(function(){return r.element.closest("body")});o(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",r.element.attr("style"));this.container.css(S(r.containerCss));this.container.addClass(S(r.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",F);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");o(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(S(r.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",F);this.results=u=this.container.find(s);this.search=v=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",F);n(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent));L(80,this.results);this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded));T(this.container).on("change",".select2-input",function(x){x.stopPropagation()});T(this.dropdown).on("change",".select2-input",function(x){x.stopPropagation()});if(T.fn.mousewheel){u.mousewheel(function(y,x,Ab,Aa){var z=u.scrollTop();if(Aa>0&&z-Aa<=0){u.scrollTop(0);F(y)}else{if(Aa<0&&u.get(0).scrollHeight-u.scrollTop()+Aa<=u.height()){u.scrollTop(u.get(0).scrollHeight-u.height());F(y)}}})}j(v);v.on("keyup-change input paste",this.bind(this.updateResults));v.on("focus",function(){v.addClass("select2-focused")});v.on("blur",function(){v.removeClass("select2-focused")});this.dropdown.on("mouseup",s,this.bind(function(x){if(T(x.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(x);this.selectHighlighted(x)}}));this.dropdown.on("click mouseup mousedown",function(x){x.stopPropagation()});if(T.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(r.maximumInputLength!==null){this.search.attr("maxlength",r.maximumInputLength)}var q=r.element.prop("disabled");if(q===R){q=false}this.enable(!q);var w=r.element.prop("readonly");if(w===R){w=false}this.readonly(w);i=i||G();this.autofocus=r.element.prop("autofocus");r.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.nextSearchTerm=R},destroy:function(){var r=this.opts.element,q=r.data("select2");this.close();if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(q!==R){q.container.remove();q.dropdown.remove();r.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){r.attr({tabindex:this.elementTabIndex})}else{r.removeAttr("tabindex")}r.show()}},optionToData:function(q){if(q.is("option")){return{id:q.prop("value"),text:q.text(),element:q.get(),css:q.attr("class"),disabled:q.prop("disabled"),locked:d(q.attr("locked"),"locked")||d(q.data("locked"),true)}}else{if(q.is("optgroup")){return{text:q.attr("label"),children:[],element:q.get(),css:q.attr("class")}}}},prepareOpts:function(r){var v,u,q,s,w=this;v=r.element;if(v.get(0).tagName.toLowerCase()==="select"){this.select=u=r.element}if(u){T.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in r){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}r=T.extend({},{populateResults:function(y,Aa,z){var Ab,x=this.opts.id;Ab=function(Ak,An,Ac){var Aj,Am,Ad,Ae,Ai,Ah,Al,Ag,Af,Ao;Ak=r.sortResults(Ak,An,z);for(Aj=0,Am=Ak.length;Aj<Am;Aj=Aj+1){Ad=Ak[Aj];Ai=(Ad.disabled===true);Ae=(!Ai)&&(x(Ad)!==R);Ah=Ad.children&&Ad.children.length>0;Al=T("<li></li>");Al.addClass("select2-results-dept-"+Ac);Al.addClass("select2-result");Al.addClass(Ae?"select2-result-selectable":"select2-result-unselectable");if(Ai){Al.addClass("select2-disabled")}if(Ah){Al.addClass("select2-result-with-children")}Al.addClass(w.opts.formatResultCssClass(Ad));Ag=T(document.createElement("div"));Ag.addClass("select2-result-label");Ao=r.formatResult(Ad,Ag,z,w.opts.escapeMarkup);if(Ao!==R){Ag.html(Ao)}Al.append(Ag);if(Ah){Af=T("<ul></ul>");Af.addClass("select2-result-sub");Ab(Ad.children,Af,Ac+1);Al.append(Af)}Al.data("select2-data",Ad);An.append(Al)}};Ab(Aa,y,0)}},T.fn.select2.defaults,r);if(typeof(r.id)!=="function"){q=r.id;r.id=function(x){return x[q]}}if(T.isArray(r.element.data("select2Tags"))){if("tags" in r){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+r.element.attr("id")}r.tags=r.element.data("select2Tags")}if(u){r.query=this.bind(function(z){var Ac={results:[],more:false},Aa=z.term,x,y,Ab;Ab=function(Af,Ae){var Ad;if(Af.is("option")){if(z.matcher(Aa,Af.text(),Af)){Ae.push(w.optionToData(Af))}}else{if(Af.is("optgroup")){Ad=w.optionToData(Af);Af.children().each2(function(Ag,Ah){Ab(Ah,Ad.children)});if(Ad.children.length>0){Ae.push(Ad)}}}};x=v.children();if(this.getPlaceholder()!==R&&x.length>0){y=this.getPlaceholderOption();if(y){x=x.not(y)}}x.each2(function(Ad,Ae){Ab(Ae,Ac.results)});z.callback(Ac)});r.id=function(x){return x.id};r.formatResultCssClass=function(x){return x.css}}else{if(!("query" in r)){if("ajax" in r){s=r.element.data("ajax-url");if(s&&s.length>0){r.ajax.url=s}r.query=J.call(r.element,r.ajax)}else{if("data" in r){r.query=m(r.data)}else{if("tags" in r){r.query=C(r.tags);if(r.createSearchChoice===R){r.createSearchChoice=function(x){return{id:T.trim(x),text:T.trim(x)}}}if(r.initSelection===R){r.initSelection=function(y,x){var z=[];T(h(y.val(),r.separator)).each(function(){var Ab={id:this,text:this},Aa=r.tags;if(T.isFunction(Aa)){Aa=Aa()}T(Aa).each(function(){if(d(this.id,Ab.id)){Ab=this;return false}});z.push(Ab)});x(z)}}}}}}}if(typeof(r.query)!=="function"){throw"query function not defined for Select2 "+r.element.attr("id")}return r},monitorSource:function(){var q=this.opts.element,r,s;q.on("change.select2",this.bind(function(u){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));r=this.bind(function(){var u=q.prop("disabled");if(u===R){u=false}this.enable(!u);var v=q.prop("readonly");if(v===R){v=false}this.readonly(v);o(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(S(this.opts.containerCssClass));o(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(S(this.opts.dropdownCssClass))});q.on("propertychange.select2",r);if(this.mutationCallback===R){this.mutationCallback=function(u){u.forEach(r)}}s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(s!==R){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new s(this.mutationCallback);this.propertyObserver.observe(q.get(0),{attributes:true,subtree:false})}},triggerSelect:function(r){var q=T.Event("select2-selecting",{val:this.id(r),object:r});this.opts.element.trigger(q);return !q.isDefaultPrevented()},triggerChange:function(q){q=q||{};q=T.extend({},q,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(q);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var r=this._enabled&&!this._readonly,q=!r;if(r===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",q);this.close();this.enabledInterface=r;return true},enable:function(q){if(q===R){q=true}if(this._enabled===q){return}this._enabled=q;this.opts.element.prop("disabled",!q);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(q){if(q===R){q=false}if(this._readonly===q){return false}this._readonly=q;this.opts.element.prop("readonly",q);this.enableInterface();return true},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var z=this.dropdown,Ai=this.container.offset(),Af=this.container.outerHeight(false),Ac=this.container.outerWidth(false),Al=z.outerHeight(false),Ak=T(window),Ag=Ak.width(),Ab=Ak.height(),Ah=Ak.scrollLeft()+Ag,u=Ak.scrollTop()+Ab,x=Ai.top+Af,q=Ai.left,Am=x+Al<=u,r=(Ai.top-Al)>=this.body().scrollTop(),Aj=z.outerWidth(false),Ad=q+Aj<=Ah,y=z.hasClass("select2-drop-above"),Aa,v,Ae,s,w;if(y){v=true;if(!r&&Am){Ae=true;v=false}}else{v=false;if(!Am&&r){Ae=true;v=true}}if(Ae){z.hide();Ai=this.container.offset();Af=this.container.outerHeight(false);Ac=this.container.outerWidth(false);Al=z.outerHeight(false);Ah=Ak.scrollLeft()+Ag;u=Ak.scrollTop()+Ab;x=Ai.top+Af;q=Ai.left;Aj=z.outerWidth(false);Ad=q+Aj<=Ah;z.show()}if(this.opts.dropdownAutoWidth){w=T(".select2-results",z)[0];z.addClass("select2-drop-auto-width");z.css("width","");Aj=z.outerWidth(false)+(w.scrollHeight===w.clientHeight?0:i.width);Aj>Ac?Ac=Aj:Aj=Ac;Ad=q+Aj<=Ah}else{this.container.removeClass("select2-drop-auto-width")}if(this.body().css("position")!=="static"){Aa=this.body().offset();x-=Aa.top;q-=Aa.left}if(!Ad){q=Ai.left+Ac-Aj}s={left:q,width:Ac};if(v){s.bottom=Ab-Ai.top;s.top="auto";this.container.addClass("select2-drop-above");z.addClass("select2-drop-above")}else{s.top=x;s.bottom="auto";this.container.removeClass("select2-drop-above");z.removeClass("select2-drop-above")}s=T.extend(s,S(this.opts.dropdownCss));z.css(s)},shouldOpen:function(){var q;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}q=T.Event("select2-opening");this.opts.element.trigger(q);return !q.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();return true},opening:function(){var s=this.containerId,u="scroll."+s,r="resize."+s,v="orientationchange."+s,w;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}w=T("#select2-drop-mask");if(w.length==0){w=T(document.createElement("div"));w.attr("id","select2-drop-mask").attr("class","select2-drop-mask");w.hide();w.appendTo(this.body());w.on("mousedown touchstart click",function(y){var x=T("#select2-drop"),z;if(x.length>0){z=x.data("select2");if(z.opts.selectOnBlur){z.selectHighlighted({noFocus:true})}z.close({focus:true});y.preventDefault();y.stopPropagation()}})}if(this.dropdown.prev()[0]!==w[0]){this.dropdown.before(w)}T("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");w.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var q=this;this.container.parents().add(window).each(function(){T(this).on(r+" "+u+" "+v,function(x){q.positionDropdown()})})},close:function(){if(!this.opened()){return}var r=this.containerId,s="scroll."+r,q="resize."+r,u="orientationchange."+r;this.container.parents().add(window).each(function(){T(this).off(s).off(q).off(u)});this.clearDropdownAlignmentPreference();T("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(T.Event("select2-close"))},externalSearch:function(q){this.open();this.search.val(q);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var v=this.results,s,r,w,z,u,x,q;r=this.highlight();if(r<0){return}if(r==0){v.scrollTop(0);return}s=this.findHighlightableChoices().find(".select2-result-label");w=T(s[r]);z=w.offset().top+w.outerHeight(true);if(r===s.length-1){q=v.find("li.select2-more-results");if(q.length>0){z=q.offset().top+q.outerHeight(true)}}u=v.offset().top+v.outerHeight(true);if(z>u){v.scrollTop(v.scrollTop()+(z-u))}x=w.offset().top-v.offset().top;if(x<0&&w.css("display")!="none"){v.scrollTop(v.scrollTop()+x)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(q){var s=this.findHighlightableChoices(),u=this.highlight();while(u>-1&&u<s.length){u+=q;var r=T(s[u]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(u);break}}},highlight:function(s){var r=this.findHighlightableChoices(),q,u;if(arguments.length===0){return Y(r.filter(".select2-highlighted")[0],r.get())}if(s>=r.length){s=r.length-1}if(s<0){s=0}this.removeHighlight();q=T(r[s]);q.addClass("select2-highlighted");this.ensureHighlightVisible();u=q.data("select2-data");if(u){this.opts.element.trigger({type:"select2-highlight",val:this.id(u),choice:u})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(s){var q=T(s.target).closest(".select2-result-selectable");if(q.length>0&&!q.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(q))}else{if(q.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var v=this.results,x=v.find("li.select2-more-results"),w,u=this.resultsPage+1,s=this,r=this.search.val(),q=this.context;if(x.length===0){return}w=x.offset().top-v.offset().top-v.height();if(w<=this.opts.loadMorePadding){x.addClass("select2-active");this.opts.query({element:this.opts.element,term:r,page:u,context:q,matcher:this.opts.matcher,callback:this.bind(function(y){if(!s.opened()){return}s.opts.populateResults.call(this,v,y.results,{term:r,page:u,context:q});s.postprocessResults(y,false,false);if(y.more===true){x.detach().appendTo(v).text(s.opts.formatLoadMore(u+1));window.setTimeout(function(){s.loadMoreIfNeeded()},10)}else{x.remove()}s.positionDropdown();s.resultsPage=u;s.context=y.context;this.opts.element.trigger({type:"select2-loaded",items:y})})})}},tokenize:function(){},updateResults:function(Ac){var u=this.search,y=this.results,z=this.opts,s,Ab=this,x,w=u.val(),r=T.data(this.container,"select2-last-term"),Aa;if(Ac!==true&&r&&d(w,r)){return}T.data(this.container,"select2-last-term",w);if(Ac!==true&&(this.showSearchInput===false||!this.opened())){return}function Ad(){u.removeClass("select2-active");Ab.positionDropdown()}function q(Ae){y.html(Ae);Ad()}Aa=++this.queryCount;var v=this.getMaximumSelectionSize();if(v>=1){s=this.data();if(T.isArray(s)&&s.length>=v&&H(z.formatSelectionTooBig,"formatSelectionTooBig")){q("<li class='select2-selection-limit'>"+z.formatSelectionTooBig(v)+"</li>");return}}if(u.val().length<z.minimumInputLength){if(H(z.formatInputTooShort,"formatInputTooShort")){q("<li class='select2-no-results'>"+z.formatInputTooShort(u.val(),z.minimumInputLength)+"</li>")}else{q("")}if(Ac&&this.showSearch){this.showSearch(true)}return}if(z.maximumInputLength&&u.val().length>z.maximumInputLength){if(H(z.formatInputTooLong,"formatInputTooLong")){q("<li class='select2-no-results'>"+z.formatInputTooLong(u.val(),z.maximumInputLength)+"</li>")}else{q("")}return}if(z.formatSearching&&this.findHighlightableChoices().length===0){q("<li class='select2-searching'>"+z.formatSearching()+"</li>")}u.addClass("select2-active");this.removeHighlight();x=this.tokenize();if(x!=R&&x!=null){u.val(x)}this.resultsPage=1;z.query({element:z.element,term:u.val(),page:this.resultsPage,context:null,matcher:z.matcher,callback:this.bind(function(Af){var Ae;if(Aa!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");return}this.context=(Af.context===R)?null:Af.context;if(this.opts.createSearchChoice&&u.val()!==""){Ae=this.opts.createSearchChoice.call(Ab,u.val(),Af.results);if(Ae!==R&&Ae!==null&&Ab.id(Ae)!==R&&Ab.id(Ae)!==null){if(T(Af.results).filter(function(){return d(Ab.id(this),Ab.id(Ae))}).length===0){Af.results.unshift(Ae)}}}if(Af.results.length===0&&H(z.formatNoMatches,"formatNoMatches")){q("<li class='select2-no-results'>"+z.formatNoMatches(u.val())+"</li>");return}y.empty();Ab.opts.populateResults.call(this,y,Af.results,{term:u.val(),page:this.resultsPage,context:null});if(Af.more===true&&H(z.formatLoadMore,"formatLoadMore")){y.append("<li class='select2-more-results'>"+Ab.opts.escapeMarkup(z.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){Ab.loadMoreIfNeeded()},10)}this.postprocessResults(Af,Ac);Ad();this.opts.element.trigger({type:"select2-loaded",items:Af})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){D(this.search)},selectHighlighted:function(r){var s=this.highlight(),q=this.results.find(".select2-highlighted"),u=q.closest(".select2-result").data("select2-data");if(u){this.highlight(s);this.onSelect(u,r)}else{if(r&&r.noFocus){this.close()}}},getPlaceholder:function(){var q;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((q=this.getPlaceholderOption())!==R?q.text():R)},getPlaceholderOption:function(){if(this.select){var q=this.select.children("option").first();if(this.opts.placeholderOption!==R){return(this.opts.placeholderOption==="first"&&q)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(q.text()===""&&q.val()===""){return q}}}},initContainerWidth:function(){function q(){var w,v,u,s,x,y;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){w=this.opts.element.attr("style");if(w!==R){v=w.split(";");for(s=0,x=v.length;s<x;s=s+1){y=v[s].replace(/\s/g,"");u=y.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(u!==null&&u.length>=1){return u[1]}}}if(this.opts.width==="resolve"){w=this.opts.element.css("width");if(w.indexOf("%")>0){return w}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(T.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var r=q.call(this);if(r!==null){this.container.css("width",r)}}});W=P(e,{createContainer:function(){var q=T(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return q},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var q,s,r;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}this.search.focus();q=this.search.get(0);if(q.createTextRange){s=q.createTextRange();s.collapse(false);s.select()}else{if(q.setSelectionRange){r=this.search.val().length;q.setSelectionRange(r,r)}}if(this.search.val()===""){if(this.nextSearchTerm!=R){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(T.Event("select2-open"))},close:function(q){if(!this.opened()){return}this.parent.close.apply(this,arguments);q=q||{focus:true};this.focusser.removeAttr("disabled");if(q.focus){this.focusser.focus()}},focus:function(){if(this.opened()){this.close()}else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){T("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var s,r=this.container,q=this.dropdown;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=s=r.find(".select2-choice");this.focusser=r.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+b());T("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(u){if(!this.isInterfaceEnabled()){return}if(u.which===V.PAGE_UP||u.which===V.PAGE_DOWN){F(u);return}switch(u.which){case V.UP:case V.DOWN:this.moveHighlight((u.which===V.UP)?-1:1);F(u);return;case V.ENTER:this.selectHighlighted();F(u);return;case V.TAB:this.selectHighlighted({noFocus:true});return;case V.ESC:this.cancel(u);F(u);return}}));this.search.on("blur",this.bind(function(u){if(document.activeElement===this.body().get(0)){window.setTimeout(this.bind(function(){this.search.focus()}),0)}}));this.focusser.on("keydown",this.bind(function(u){if(!this.isInterfaceEnabled()){return}if(u.which===V.TAB||V.isControl(u)||V.isFunctionKey(u)||u.which===V.ESC){return}if(this.opts.openOnEnter===false&&u.which===V.ENTER){F(u);return}if(u.which==V.DOWN||u.which==V.UP||(u.which==V.ENTER&&this.opts.openOnEnter)){if(u.altKey||u.ctrlKey||u.shiftKey||u.metaKey){return}this.open();F(u);return}if(u.which==V.DELETE||u.which==V.BACKSPACE){if(this.opts.allowClear){this.clear()}F(u);return}}));j(this.focusser);this.focusser.on("keyup-change input",this.bind(function(u){if(this.opts.minimumResultsForSearch>=0){u.stopPropagation();if(this.opened()){return}this.open()}}));s.on("mousedown","abbr",this.bind(function(u){if(!this.isInterfaceEnabled()){return}this.clear();g(u);this.close();this.selection.focus()}));s.on("mousedown",this.bind(function(u){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(T.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}F(u)}));q.on("mousedown",this.bind(function(){this.search.focus()}));s.on("focus",this.bind(function(u){F(u)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(T.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(T.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(T.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(q){var u=this.selection.data("select2-data");if(u){var r=T.Event("select2-clearing");this.opts.element.trigger(r);if(r.isDefaultPrevented()){return}var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(q!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(u),choice:u});this.triggerChange({removed:u})}}},initSelection:function(){var r;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var q=this;this.opts.initSelection.call(null,this.opts.element,function(s){if(s!==R&&s!==null){q.updateSelection(s);q.close();q.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var q;if(!this.getPlaceholder()){return false}return((q=this.getPlaceholderOption())!==R&&q.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===R)||(this.opts.element.val()===null)},prepareOpts:function(){var q=this.parent.prepareOpts.apply(this,arguments),r=this;if(q.element.get(0).tagName.toLowerCase()==="select"){q.initSelection=function(u,s){var v=u.find("option").filter(function(){return this.selected});s(r.optionToData(v))}}else{if("data" in q){q.initSelection=q.initSelection||function(v,s){var w=v.val();var u=null;q.query({matcher:function(Aa,y,x){var z=d(w,q.id(x));if(z){u=x}return z},callback:!T.isFunction(s)?T.noop:function(){s(u)}})}}}return q},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===R){return R}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var q=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&q!==R){if(this.select&&this.getPlaceholderOption()===R){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(q));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(x,u,s){var r=0,w=this,v=true;this.findHighlightableChoices().each2(function(y,z){if(d(w.id(z.data("select2-data")),w.opts.element.val())){r=y;return false}});if(s!==false){if(u===true&&r>=0){this.highlight(r)}else{this.highlight(0)}}if(u===true){var q=this.opts.minimumResultsForSearch;if(q>=0){this.showSearch(U(x.results)>=q)}}},showSearch:function(q){if(this.showSearchInput===q){return}this.showSearchInput=q;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!q);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!q);T(this.dropdown,this.container).toggleClass("select2-with-searchbox",q)},onSelect:function(u,s){if(!this.triggerSelect(u)){return}var r=this.opts.element.val(),q=this.data();this.opts.element.val(this.id(u));this.updateSelection(u);this.opts.element.trigger({type:"select2-selected",val:this.id(u),choice:u});this.nextSearchTerm=this.opts.nextSearchTerm(u,this.search.val());this.close();if(!s||!s.noFocus){this.focusser.focus()}if(!d(r,this.id(u))){this.triggerChange({added:u,removed:q})}},updateSelection:function(u){var s=this.selection.find(".select2-chosen"),q,r;this.selection.data("select2-data",u);s.empty();if(u!==null){q=this.opts.formatSelection(u,s,this.opts.escapeMarkup)}if(q!==R){s.append(q)}r=this.opts.formatSelectionCssClass(u,s);if(r!==R){s.addClass(r)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==R){this.container.addClass("select2-allowclear")}},val:function(){var u,q=false,v=null,r=this,s=this.data();if(arguments.length===0){return this.opts.element.val()}u=arguments[0];if(arguments.length>1){q=arguments[1]}if(this.select){this.select.val(u).find("option").filter(function(){return this.selected}).each2(function(w,x){v=r.optionToData(x);return false});this.updateSelection(v);this.setPlaceholder();if(q){this.triggerChange({added:v,removed:s})}}else{if(!u&&u!==0){this.clear(q);return}if(this.opts.initSelection===R){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(u);this.opts.initSelection(this.opts.element,function(w){r.opts.element.val(!w?"":r.id(w));r.updateSelection(w);r.setPlaceholder();if(q){r.triggerChange({added:w,removed:s})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(r){var s,q=false;if(arguments.length===0){s=this.selection.data("select2-data");if(s==R){s=null}return s}else{if(arguments.length>1){q=arguments[1]}if(!r){this.clear(q)}else{s=this.data();this.opts.element.val(!r?"":this.id(r));this.updateSelection(r);if(q){this.triggerChange({added:r,removed:s})}}}}});A=P(e,{createContainer:function(){var q=T(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return q},prepareOpts:function(){var q=this.parent.prepareOpts.apply(this,arguments),r=this;if(q.element.get(0).tagName.toLowerCase()==="select"){q.initSelection=function(u,s){var v=[];u.find("option").filter(function(){return this.selected}).each2(function(w,x){v.push(r.optionToData(x))});s(v)}}else{if("data" in q){q.initSelection=q.initSelection||function(w,s){var v=h(w.val(),q.separator);var u=[];q.query({matcher:function(Aa,y,x){var z=T.grep(v,function(Ab){return d(Ab,q.id(x))}).length;if(z){u.push(x)}return z},callback:!T.isFunction(s)?T.noop:function(){var z=[];for(var x=0;x<v.length;x++){var Ab=v[x];for(var Aa=0;Aa<u.length;Aa++){var y=u[Aa];if(d(Ab,q.id(y))){z.push(y);u.splice(Aa,1);break}}}s(z)}})}}}return q},selectChoice:function(q){var r=this.container.find(".select2-search-choice-focus");if(r.length&&q&&q[0]==r[0]){}else{if(r.length){this.opts.element.trigger("choice-deselected",r)}r.removeClass("select2-search-choice-focus");if(q&&q.length){this.close();q.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",q)}}},destroy:function(){T("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var r=".select2-choices",s;this.searchContainer=this.container.find(".select2-search-field");this.selection=s=this.container.find(r);var q=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(u){q.search[0].focus();q.selectChoice(T(this))});this.search.attr("id","s2id_autogen"+b());T("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(u){if(!this.isInterfaceEnabled()){return}++this.keydowns;var z=s.find(".select2-search-choice-focus");var y=z.prev(".select2-search-choice:not(.select2-locked)");var v=z.next(".select2-search-choice:not(.select2-locked)");var w=E(this.search);if(z.length&&(u.which==V.LEFT||u.which==V.RIGHT||u.which==V.BACKSPACE||u.which==V.DELETE||u.which==V.ENTER)){var x=z;if(u.which==V.LEFT&&y.length){x=y}else{if(u.which==V.RIGHT){x=v.length?v:null}else{if(u.which===V.BACKSPACE){this.unselect(z.first());this.search.width(10);x=y.length?y:v}else{if(u.which==V.DELETE){this.unselect(z.first());this.search.width(10);x=v.length?v:null}else{if(u.which==V.ENTER){x=null}}}}}this.selectChoice(x);F(u);if(!x||!x.length){this.open()}return}else{if(((u.which===V.BACKSPACE&&this.keydowns==1)||u.which==V.LEFT)&&(w.offset==0&&!w.length)){this.selectChoice(s.find(".select2-search-choice:not(.select2-locked)").last());F(u);return}else{this.selectChoice(null)}}if(this.opened()){switch(u.which){case V.UP:case V.DOWN:this.moveHighlight((u.which===V.UP)?-1:1);F(u);return;case V.ENTER:this.selectHighlighted();F(u);return;case V.TAB:this.selectHighlighted({noFocus:true});this.close();return;case V.ESC:this.cancel(u);F(u);return}}if(u.which===V.TAB||V.isControl(u)||V.isFunctionKey(u)||u.which===V.BACKSPACE||u.which===V.ESC){return}if(u.which===V.ENTER){if(this.opts.openOnEnter===false){return}else{if(u.altKey||u.ctrlKey||u.shiftKey||u.metaKey){return}}}this.open();if(u.which===V.PAGE_UP||u.which===V.PAGE_DOWN){F(u)}if(u.which===V.ENTER){F(u)}}));this.search.on("keyup",this.bind(function(u){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(u){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}u.stopImmediatePropagation();this.opts.element.trigger(T.Event("select2-blur"))}));this.container.on("click",r,this.bind(function(u){if(!this.isInterfaceEnabled()){return}if(T(u.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(T.Event("select2-focus"))}this.open();this.focusSearch();u.preventDefault()}));this.container.on("focus",r,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(T.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var r;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var q=this;this.opts.initSelection.call(null,this.opts.element,function(s){if(s!==R&&s!==null){q.updateSelection(s);q.close();q.clearSearch()}})}},clearSearch:function(){var r=this.getPlaceholder(),q=this.getMaxSearchWidth();if(r!==R&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(r).addClass("select2-default");this.search.width(q>0?q:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(true);this.search.focus();this.opts.element.trigger(T.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(u){var s=[],q=[],r=this;T(u).each(function(){if(Y(r.id(this),s)<0){s.push(r.id(this));q.push(this)}});u=q;this.selection.find(".select2-search-choice").remove();T(u).each(function(){r.addSelectedChoice(this)});r.postprocessResults()},tokenize:function(){var q=this.search.val();q=this.opts.tokenizer.call(this,q,this.data(),this.bind(this.onSelect),this.opts);if(q!=null&&q!=R){this.search.val(q);if(q.length>0){this.open()}}},onSelect:function(r,q){if(!this.triggerSelect(r)){return}this.addSelectedChoice(r);this.opts.element.trigger({type:"selected",val:this.id(r),choice:r});if(this.select||!this.opts.closeOnSelect){this.postprocessResults(r,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:r});if(!q||!q.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(r){var s=!r.locked,y=T("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),u=T("<li class='select2-search-choice select2-locked'><div></div></li>");var q=s?y:u,x=this.id(r),w=this.getVal(),z,v;z=this.opts.formatSelection(r,q.find("div"),this.opts.escapeMarkup);if(z!=R){q.find("div").replaceWith("<div>"+z+"</div>")}v=this.opts.formatSelectionCssClass(r,q.find("div"));if(v!=R){q.addClass(v)}if(s){q.find(".select2-search-choice-close").on("mousedown",F).on("click dblclick",this.bind(function(Aa){if(!this.isInterfaceEnabled()){return}T(Aa.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(T(Aa.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();F(Aa)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}q.data("select2-data",r);q.insertBefore(this.searchContainer);w.push(x);this.setVal(w)},unselect:function(v){var u=this.getVal(),q,s;v=v.closest(".select2-search-choice");if(v.length===0){throw"Invalid argument: "+v+". Must be .select2-search-choice"}q=v.data("select2-data");if(!q){return}while((s=Y(this.id(q),u))>=0){u.splice(s,1);this.setVal(u);if(this.select){this.postprocessResults()}}var r=T.Event("select2-removing");r.val=this.id(q);r.choice=q;this.opts.element.trigger(r);if(r.isDefaultPrevented()){return}v.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(q),choice:q});this.triggerChange({removed:q})},postprocessResults:function(x,s,r){var v=this.getVal(),w=this.results.find(".select2-result"),u=this.results.find(".select2-result-with-children"),q=this;w.each2(function(y,z){var Aa=q.id(z.data("select2-data"));if(Y(Aa,v)>=0){z.addClass("select2-selected");z.find(".select2-result-selectable").addClass("select2-selected")}});u.each2(function(y,z){if(!z.is(".select2-result-selectable")&&z.find(".select2-result-selectable:not(.select2-selected)").length===0){z.addClass("select2-selected")}});if(this.highlight()==-1&&r!==false){q.highlight(0)}if(!this.opts.createSearchChoice&&!w.filter(".select2-result:not(.select2-selected)").length>0){if(!x||x&&!x.more&&this.results.find(".select2-no-results").length===0){if(H(q.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+q.opts.formatNoMatches(q.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-f(this.search)},resizeSearch:function(){var s,u,w,r,v,q=f(this.search);s=K(this.search)+10;u=this.search.offset().left;w=this.selection.width();r=this.selection.offset().left;v=w-(u-r)-q;if(v<s){v=w-q}if(v<40){v=w-q}if(v<=0){v=s}this.search.width(Math.floor(v))},getVal:function(){var q;if(this.select){q=this.select.val();return q===null?[]:q}else{q=this.opts.element.val();return h(q,this.opts.separator)}},setVal:function(r){var q;if(this.select){this.select.val(r)}else{q=[];T(r).each(function(){if(Y(this,q)<0){q.push(this)}});this.opts.element.val(q.length===0?"":q.join(this.opts.separator))}},buildChangeDetails:function(r,s){var s=s.slice(0),r=r.slice(0);for(var q=0;q<s.length;q++){for(var u=0;u<r.length;u++){if(d(this.opts.id(s[q]),this.opts.id(r[u]))){s.splice(q,1);if(q>0){q--}r.splice(u,1);u--}}}return{added:s,removed:r}},val:function(u,q){var s,r=this;if(arguments.length===0){return this.getVal()}s=this.data();if(!s.length){s=[]}if(!u&&u!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(q){this.triggerChange({added:this.data(),removed:s})}return}this.setVal(u);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(q){this.triggerChange(this.buildChangeDetails(s,this.data()))}}else{if(this.opts.initSelection===R){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(w){var v=T.map(w,r.id);r.setVal(v);r.updateSelection(w);r.clearSearch();if(q){r.triggerChange(r.buildChangeDetails(s,r.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var r=[],q=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){r.push(q.opts.id(T(this).data("select2-data")))});this.setVal(r);this.triggerChange()},data:function(v,q){var r=this,u,s;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return T(this).data("select2-data")}).get()}else{s=this.data();if(!v){v=[]}u=T.map(v,function(w){return r.opts.id(w)});this.setVal(u);this.updateSelection(v);this.clearSearch();if(q){this.triggerChange(this.buildChangeDetails(s,this.data()))}}}});T.fn.select2=function(){var r=Array.prototype.slice.call(arguments,0),w,x,Aa,v,y,z=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],s=["opened","isFocused","container","dropdown"],q=["val","data"],u={search:"externalSearch"};this.each(function(){if(r.length===0||typeof(r[0])==="object"){w=r.length===0?{}:T.extend({},r[0]);w.element=T(this);if(w.element.get(0).tagName.toLowerCase()==="select"){y=w.element.prop("multiple")}else{y=w.multiple||false;if("tags" in w){w.multiple=y=true}}x=y?new A():new W();x.init(w)}else{if(typeof(r[0])==="string"){if(Y(r[0],z)<0){throw"Unknown method: "+r[0]}v=R;x=T(this).data("select2");if(x===R){return}Aa=r[0];if(Aa==="container"){v=x.container}else{if(Aa==="dropdown"){v=x.dropdown}else{if(u[Aa]){Aa=u[Aa]}v=x[Aa].apply(x,r.slice(1))}}if(Y(r[0],s)>=0||(Y(r[0],q)&&r.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+r}}});return(v===R)?this:v};T.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(r,s,u,q){var v=[];B(r.text,u.term,v,q);return v.join("")},formatSelection:function(s,r,q){return s?q(s.text):R},sortResults:function(s,q,r){return s},formatResultCssClass:function(q){return R},formatSelectionCssClass:function(r,q){return R},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(s,q){var r=q-s.length;return"Please enter "+r+" more character"+(r==1?"":"s")},formatInputTooLong:function(r,s){var q=r.length-s;return"Please delete "+q+" character"+(q==1?"":"s")},formatSelectionTooBig:function(q){return"You can only select "+q+" item"+(q==1?"":"s")},formatLoadMore:function(q){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(q){return q.id},matcher:function(r,q){return Z(""+q).toUpperCase().indexOf(Z(""+r).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:l,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(q){return q},adaptDropdownCssClass:function(q){return null},nextSearchTerm:function(q,r){return R}};T.fn.select2.ajaxDefaults={transport:T.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:J,local:m,tags:C},util:{debounce:Q,markMatch:B,escapeMarkup:l,stripDiacritics:Z},"class":{"abstract":e,"single":W,"multi":A}}}(jQuery));
/*
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(F,C){var D=0,A=/^ui-id-\d+$/;F.ui=F.ui||{};F.extend(F.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});F.fn.extend({focus:(function(G){return function(I,H){return typeof I==="number"?this.each(function(){var J=this;setTimeout(function(){F(J).focus();if(H){H.call(J)}},I)}):G.apply(this,arguments)}})(F.fn.focus),scrollParent:function(){var G;if((F.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){G=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(F.css(this,"position"))&&(/(auto|scroll)/).test(F.css(this,"overflow")+F.css(this,"overflow-y")+F.css(this,"overflow-x"))}).eq(0)}else{G=this.parents().filter(function(){return(/(auto|scroll)/).test(F.css(this,"overflow")+F.css(this,"overflow-y")+F.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!G.length?F(document):G},zIndex:function(H){if(H!==C){return this.css("zIndex",H)}if(this.length){var I=F(this[0]),G,J;while(I.length&&I[0]!==document){G=I.css("position");if(G==="absolute"||G==="relative"||G==="fixed"){J=parseInt(I.css("zIndex"),10);if(!isNaN(J)&&J!==0){return J}}I=I.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++D)}})},removeUniqueId:function(){return this.each(function(){if(A.test(this.id)){F(this).removeAttr("id")}})}});function B(J,L){var G,H,K,I=J.nodeName.toLowerCase();if("area"===I){G=J.parentNode;H=G.name;if(!J.href||!H||G.nodeName.toLowerCase()!=="map"){return false}K=F("img[usemap=#"+H+"]")[0];return !!K&&E(K)}return(/input|select|textarea|button|object/.test(I)?!J.disabled:"a"===I?J.href||L:L)&&E(J)}function E(G){return F.expr.filters.visible(G)&&!F(G).parents().addBack().filter(function(){return F.css(this,"visibility")==="hidden"}).length}F.extend(F.expr[":"],{data:F.expr.createPseudo?F.expr.createPseudo(function(G){return function(H){return !!F.data(H,G)}}):function(I,G,H){return !!F.data(I,H[3])},focusable:function(G){return B(G,!isNaN(F.attr(G,"tabindex")))},tabbable:function(G){var I=F.attr(G,"tabindex"),H=isNaN(I);return(H||I>=0)&&B(G,!H)}});if(!F("<a>").outerWidth(1).jquery){F.each(["Width","Height"],function(H,I){var K=I==="Width"?["Left","Right"]:["Top","Bottom"],G=I.toLowerCase(),J={innerWidth:F.fn.innerWidth,innerHeight:F.fn.innerHeight,outerWidth:F.fn.outerWidth,outerHeight:F.fn.outerHeight};function L(O,M,P,N){F.each(K,function(){M-=parseFloat(F.css(O,"padding"+this))||0;if(P){M-=parseFloat(F.css(O,"border"+this+"Width"))||0}if(N){M-=parseFloat(F.css(O,"margin"+this))||0}});return M}F.fn["inner"+I]=function(M){if(M===C){return J["inner"+I].call(this)}return this.each(function(){F(this).css(G,L(this,M)+"px")})};F.fn["outer"+I]=function(M,N){if(typeof M!=="number"){return J["outer"+I].call(this,M)}return this.each(function(){F(this).css(G,L(this,M,true,N)+"px")})}})}if(!F.fn.addBack){F.fn.addBack=function(G){return this.add(G==null?this.prevObject:this.prevObject.filter(G))}}if(F("<a>").data("a-b","a").removeData("a-b").data("a-b")){F.fn.removeData=(function(G){return function(H){if(arguments.length){return G.call(this,F.camelCase(H))}else{return G.call(this)}}})(F.fn.removeData)}F.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());F.support.selectstart="onselectstart" in document.createElement("div");F.fn.extend({disableSelection:function(){return this.bind((F.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(G){G.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});F.extend(F.ui,{plugin:{add:function(J,G,K){var H,I=F.ui[J].prototype;for(H in K){I.plugins[H]=I.plugins[H]||[];I.plugins[H].push([G,K[H]])}},call:function(H,I,K){var G,J=H.plugins[I];if(!J||!H.element[0].parentNode||H.element[0].parentNode.nodeType===11){return}for(G=0;G<J.length;G++){if(H.options[J[G][0]]){J[G][1].apply(H.element,K)}}}},hasScroll:function(G,I){if(F(G).css("overflow")==="hidden"){return false}var H=(I&&I==="left")?"scrollLeft":"scrollTop",J=false;if(G[H]>0){return true}G[H]=1;J=(G[H]>0);G[H]=0;return J}})})(jQuery);
/*
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(E,A){var C=0,D=Array.prototype.slice,B=E.cleanData;E.cleanData=function(H){for(var F=0,I;(I=H[F])!=null;F++){try{E(I).triggerHandler("remove")}catch(G){}}B(H)};E.widget=function(H,G,M){var K,J,F,L,I={},N=H.split(".")[0];H=H.split(".")[1];K=N+"-"+H;if(!M){M=G;G=E.Widget}E.expr[":"][K.toLowerCase()]=function(O){return !!E.data(O,K)};E[N]=E[N]||{};J=E[N][H];F=E[N][H]=function(O,P){if(!this._createWidget){return new F(O,P)}if(arguments.length){this._createWidget(O,P)}};E.extend(F,J,{version:M.version,_proto:E.extend({},M),_childConstructors:[]});L=new G();L.options=E.widget.extend({},L.options);E.each(M,function(O,P){if(!E.isFunction(P)){I[O]=P;return}I[O]=(function(){var Q=function(){return G.prototype[O].apply(this,arguments)},R=function(S){return G.prototype[O].apply(this,S)};return function(){var T=this._super,U=this._superApply,S;this._super=Q;this._superApply=R;S=P.apply(this,arguments);this._super=T;this._superApply=U;return S}})()});F.prototype=E.widget.extend(L,{widgetEventPrefix:J?(L.widgetEventPrefix||H):H},I,{constructor:F,namespace:N,widgetName:H,widgetFullName:K});if(J){E.each(J._childConstructors,function(O,P){var Q=P.prototype;E.widget(Q.namespace+"."+Q.widgetName,F,P._proto)});delete J._childConstructors}else{G._childConstructors.push(F)}E.widget.bridge(H,F)};E.widget.extend=function(J){var H=D.call(arguments,1),F=0,K=H.length,G,I;for(;F<K;F++){for(G in H[F]){I=H[F][G];if(H[F].hasOwnProperty(G)&&I!==A){if(E.isPlainObject(I)){J[G]=E.isPlainObject(J[G])?E.widget.extend({},J[G],I):E.widget.extend({},I)}else{J[G]=I}}}}return J};E.widget.bridge=function(G,F){var H=F.prototype.widgetFullName||G;E.fn[G]=function(J){var K=typeof J==="string",L=D.call(arguments,1),I=this;J=!K&&L.length?E.widget.extend.apply(null,[J].concat(L)):J;if(K){this.each(function(){var M,N=E.data(this,H);if(!N){return E.error("cannot call methods on "+G+" prior to initialization; attempted to call method '"+J+"'")}if(!E.isFunction(N[J])||J.charAt(0)==="_"){return E.error("no such method '"+J+"' for "+G+" widget instance")}M=N[J].apply(N,L);if(M!==N&&M!==A){I=M&&M.jquery?I.pushStack(M.get()):M;return false}})}else{this.each(function(){var M=E.data(this,H);if(M){M.option(J||{})._init()}else{E.data(this,H,new F(J,this))}})}return I}};E.Widget=function(){};E.Widget._childConstructors=[];E.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(F,G){G=E(G||this.defaultElement||this)[0];this.element=E(G);this.uuid=C++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=E.widget.extend({},this.options,this._getCreateOptions(),F);this.bindings=E();this.hoverable=E();this.focusable=E();if(G!==this){E.data(G,this.widgetFullName,this);this._on(true,this.element,{remove:function(H){if(H.target===G){this.destroy()}}});this.document=E(G.style?G.ownerDocument:G.document||G);this.window=E(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:E.noop,_getCreateEventData:E.noop,_create:E.noop,_init:E.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(E.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:E.noop,widget:function(){return this.element},option:function(G,J){var I=G,F,K,H;if(arguments.length===0){return E.widget.extend({},this.options)}if(typeof G==="string"){I={};F=G.split(".");G=F.shift();if(F.length){K=I[G]=E.widget.extend({},this.options[G]);for(H=0;H<F.length-1;H++){K[F[H]]=K[F[H]]||{};K=K[F[H]]}G=F.pop();if(arguments.length===1){return K[G]===A?null:K[G]}K[G]=J}else{if(arguments.length===1){return this.options[G]===A?null:this.options[G]}I[G]=J}}this._setOptions(I);return this},_setOptions:function(G){var F;for(F in G){this._setOption(F,G[F])}return this},_setOption:function(F,G){this.options[F]=G;if(F==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!G).attr("aria-disabled",G);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(H,I,F){var J,G=this;if(typeof H!=="boolean"){F=I;I=H;H=false}if(!F){F=I;I=this.element;J=this.widget()}else{I=J=E(I);this.bindings=this.bindings.add(I)}E.each(F,function(N,L){function P(){if(!H&&(G.options.disabled===true||E(this).hasClass("ui-state-disabled"))){return}return(typeof L==="string"?G[L]:L).apply(G,arguments)}if(typeof L!=="string"){P.guid=L.guid=L.guid||P.guid||E.guid++}var K=N.match(/^(\w+)\s*(.*)$/),M=K[1]+G.eventNamespace,O=K[2];if(O){J.delegate(O,M,P)}else{I.bind(M,P)}})},_off:function(G,F){F=(F||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;G.unbind(F).undelegate(F)},_delay:function(G,I){function H(){return(typeof G==="string"?F[G]:G).apply(F,arguments)}var F=this;return setTimeout(H,I||0)},_hoverable:function(F){this.hoverable=this.hoverable.add(F);this._on(F,{mouseenter:function(G){E(G.currentTarget).addClass("ui-state-hover")},mouseleave:function(G){E(G.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(F){this.focusable=this.focusable.add(F);this._on(F,{focusin:function(G){E(G.currentTarget).addClass("ui-state-focus")},focusout:function(G){E(G.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(F,I,K){var H,G,J=this.options[F];K=K||{};I=E.Event(I);I.type=(F===this.widgetEventPrefix?F:this.widgetEventPrefix+F).toLowerCase();I.target=this.element[0];G=I.originalEvent;if(G){for(H in G){if(!(H in I)){I[H]=G[H]}}}this.element.trigger(I,K);return !(E.isFunction(J)&&J.apply(this.element[0],[I].concat(K))===false||I.isDefaultPrevented())}};E.each({show:"fadeIn",hide:"fadeOut"},function(F,G){E.Widget.prototype["_"+F]=function(L,J,H){if(typeof J==="string"){J={effect:J}}var I,K=!J?F:J===true||typeof J==="number"?G:J.effect||G;J=J||{};if(typeof J==="number"){J={duration:J}}I=!E.isEmptyObject(J);J.complete=H;if(J.delay){L.delay(J.delay)}if(I&&E.effects&&E.effects.effect[K]){L[F](J)}else{if(K!==F&&L[K]){L[K](J.duration,J.easing,H)}else{L.queue(function(M){E(this)[F]();if(H){H.call(L[0])}M()})}}}})})(jQuery);
/*
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(C,B){var A=false;C(document).mouseup(function(){A=false});C.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D._mouseDown(E)}).bind("click."+this.widgetName,function(E){if(true===C.data(E.target,D.widgetName+".preventClickEvent")){C.removeData(E.target,D.widgetName+".preventClickEvent");E.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(F){if(A){return}(this._mouseStarted&&this._mouseUp(F));this._mouseDownEvent=F;var D=this,G=(F.which===1),E=(typeof this.options.cancel==="string"&&F.target.nodeName?C(F.target).closest(this.options.cancel).length:false);if(!G||E||!this._mouseCapture(F)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){D.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(F)&&this._mouseDelayMet(F)){this._mouseStarted=(this._mouseStart(F)!==false);if(!this._mouseStarted){F.preventDefault();return true}}if(true===C.data(F.target,this.widgetName+".preventClickEvent")){C.removeData(F.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(H){return D._mouseMove(H)};this._mouseUpDelegate=function(H){return D._mouseUp(H)};C(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);F.preventDefault();A=true;return true},_mouseMove:function(D){if(C.ui.ie&&(!document.documentMode||document.documentMode<9)&&!D.button){return this._mouseUp(D)}if(this._mouseStarted){this._mouseDrag(D);return D.preventDefault()}if(this._mouseDistanceMet(D)&&this._mouseDelayMet(D)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,D)!==false);(this._mouseStarted?this._mouseDrag(D):this._mouseUp(D))}return !this._mouseStarted},_mouseUp:function(D){C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(D.target===this._mouseDownEvent.target){C.data(D.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(D)}return false},_mouseDistanceMet:function(D){return(Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
/*
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(K,A){K.ui=K.ui||{};var E,C=Math.max,M=Math.abs,D=Math.round,H=/left|center|right/,B=/top|center|bottom/,G=/[\+\-]\d+(\.[\d]+)?%?/,L=/^\w+/,O=/%$/,J=K.fn.position;function N(Q,R,P){return[parseFloat(Q[0])*(O.test(Q[0])?R/100:1),parseFloat(Q[1])*(O.test(Q[1])?P/100:1)]}function I(Q,P){return parseInt(K.css(Q,P),10)||0}function F(P){var Q=P[0];if(Q.nodeType===9){return{width:P.width(),height:P.height(),offset:{top:0,left:0}}}if(K.isWindow(Q)){return{width:P.width(),height:P.height(),offset:{top:P.scrollTop(),left:P.scrollLeft()}}}if(Q.preventDefault){return{width:0,height:0,offset:{top:Q.pageY,left:Q.pageX}}}return{width:P.outerWidth(),height:P.outerHeight(),offset:P.offset()}}K.position={scrollbarWidth:function(){if(E!==A){return E}var R,P,Q=K("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),S=Q.children()[0];K("body").append(Q);R=S.offsetWidth;Q.css("overflow","scroll");P=S.offsetWidth;if(R===P){P=Q[0].clientWidth}Q.remove();return(E=R-P)},getScrollInfo:function(Q){var S=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-x"),P=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-y"),R=S==="scroll"||(S==="auto"&&Q.width<Q.element[0].scrollWidth),T=P==="scroll"||(P==="auto"&&Q.height<Q.element[0].scrollHeight);return{width:T?K.position.scrollbarWidth():0,height:R?K.position.scrollbarWidth():0}},getWithinInfo:function(S){var Q=K(S||window),R=K.isWindow(Q[0]),P=!!Q[0]&&Q[0].nodeType===9;return{element:Q,isWindow:R,isDocument:P,offset:Q.offset()||{left:0,top:0},scrollLeft:Q.scrollLeft(),scrollTop:Q.scrollTop(),width:R?Q.width():Q.outerWidth(),height:R?Q.height():Q.outerHeight()}}};K.fn.position=function(X){if(!X||!X.of){return J.apply(this,arguments)}X=K.extend({},X);var Q,b,U,V,T,P,Y=K(X.of),Z=K.position.getWithinInfo(X.within),S=K.position.getScrollInfo(Z),R=(X.collision||"flip").split(" "),W={};P=F(Y);if(Y[0].preventDefault){X.at="left top"}b=P.width;U=P.height;V=P.offset;T=K.extend({},V);K.each(["my","at"],function(){var d=(X[this]||"").split(" "),c,e;if(d.length===1){d=H.test(d[0])?d.concat(["center"]):B.test(d[0])?["center"].concat(d):["center","center"]}d[0]=H.test(d[0])?d[0]:"center";d[1]=B.test(d[1])?d[1]:"center";c=G.exec(d[0]);e=G.exec(d[1]);W[this]=[c?c[0]:0,e?e[0]:0];X[this]=[L.exec(d[0])[0],L.exec(d[1])[0]]});if(R.length===1){R[1]=R[0]}if(X.at[0]==="right"){T.left+=b}else{if(X.at[0]==="center"){T.left+=b/2}}if(X.at[1]==="bottom"){T.top+=U}else{if(X.at[1]==="center"){T.top+=U/2}}Q=N(W.at,b,U);T.left+=Q[0];T.top+=Q[1];return this.each(function(){var c,j,f=K(this),l=f.outerWidth(),e=f.outerHeight(),m=I(this,"marginLeft"),i=I(this,"marginTop"),g=l+m+I(this,"marginRight")+S.width,d=e+i+I(this,"marginBottom")+S.height,h=K.extend({},T),k=N(W.my,f.outerWidth(),f.outerHeight());if(X.my[0]==="right"){h.left-=l}else{if(X.my[0]==="center"){h.left-=l/2}}if(X.my[1]==="bottom"){h.top-=e}else{if(X.my[1]==="center"){h.top-=e/2}}h.left+=k[0];h.top+=k[1];if(!K.support.offsetFractions){h.left=D(h.left);h.top=D(h.top)}c={marginLeft:m,marginTop:i};K.each(["left","top"],function(o,n){if(K.ui.position[R[o]]){K.ui.position[R[o]][n](h,{targetWidth:b,targetHeight:U,elemWidth:l,elemHeight:e,collisionPosition:c,collisionWidth:g,collisionHeight:d,offset:[Q[0]+k[0],Q[1]+k[1]],my:X.my,at:X.at,within:Z,elem:f})}});if(X.using){j=function(r){var o=V.left-h.left,n=o+b-l,q=V.top-h.top,u=q+U-e,s={target:{element:Y,left:V.left,top:V.top,width:b,height:U},element:{element:f,left:h.left,top:h.top,width:l,height:e},horizontal:n<0?"left":o>0?"right":"center",vertical:u<0?"top":q>0?"bottom":"middle"};if(b<l&&M(o+n)<b){s.horizontal="center"}if(U<e&&M(q+u)<U){s.vertical="middle"}if(C(M(o),M(n))>C(M(q),M(u))){s.important="horizontal"}else{s.important="vertical"}X.using.call(this,r,s)}}f.offset(K.extend(h,{using:j}))})};K.ui.position={fit:{left:function(W,Q){var X=Q.within,P=X.isWindow?X.scrollLeft:X.offset.left,S=X.width,V=W.left-Q.collisionPosition.marginLeft,R=P-V,T=V+Q.collisionWidth-S-P,U;if(Q.collisionWidth>S){if(R>0&&T<=0){U=W.left+R+Q.collisionWidth-S-P;W.left+=R-U}else{if(T>0&&R<=0){W.left=P}else{if(R>T){W.left=P+S-Q.collisionWidth}else{W.left=P}}}}else{if(R>0){W.left+=R}else{if(T>0){W.left-=T}else{W.left=C(W.left-V,W.left)}}}},top:function(W,R){var X=R.within,Q=X.isWindow?X.scrollTop:X.offset.top,U=R.within.height,S=W.top-R.collisionPosition.marginTop,V=Q-S,T=S+R.collisionHeight-U-Q,P;if(R.collisionHeight>U){if(V>0&&T<=0){P=W.top+V+R.collisionHeight-U-Q;W.top+=V-P}else{if(T>0&&V<=0){W.top=Q}else{if(V>T){W.top=Q+U-R.collisionHeight}else{W.top=Q}}}}else{if(V>0){W.top+=V}else{if(T>0){W.top-=T}else{W.top=C(W.top-S,W.top)}}}}},flip:{left:function(b,T){var d=T.within,Q=d.offset.left+d.scrollLeft,V=d.width,P=d.isWindow?d.scrollLeft:d.offset.left,Z=b.left-T.collisionPosition.marginLeft,U=Z-P,W=Z+T.collisionWidth-V-P,X=T.my[0]==="left"?-T.elemWidth:T.my[0]==="right"?T.elemWidth:0,S=T.at[0]==="left"?T.targetWidth:T.at[0]==="right"?-T.targetWidth:0,R=-2*T.offset[0],Y,c;if(U<0){Y=b.left+X+S+R+T.collisionWidth-V-Q;if(Y<0||Y<M(U)){b.left+=X+S+R}}else{if(W>0){c=b.left-T.collisionPosition.marginLeft+X+S+R-P;if(c>0||M(c)<W){b.left+=X+S+R}}}},top:function(b,T){var c=T.within,R=c.offset.top+c.scrollTop,Y=c.height,e=c.isWindow?c.scrollTop:c.offset.top,U=b.top-T.collisionPosition.marginTop,Z=U-e,W=U+T.collisionHeight-Y-e,V=T.my[1]==="top",X=V?-T.elemHeight:T.my[1]==="bottom"?T.elemHeight:0,P=T.at[1]==="top"?T.targetHeight:T.at[1]==="bottom"?-T.targetHeight:0,S=-2*T.offset[1],d,Q;if(Z<0){Q=b.top+X+P+S+T.collisionHeight-Y-R;if((b.top+X+P+S)>Z&&(Q<0||Q<M(Z))){b.top+=X+P+S}}else{if(W>0){d=b.top-T.collisionPosition.marginTop+X+P+S-e;if((b.top+X+P+S)>W&&(d>0||M(d)<W)){b.top+=X+P+S}}}}},flipfit:{left:function(){K.ui.position.flip.left.apply(this,arguments);K.ui.position.fit.left.apply(this,arguments)},top:function(){K.ui.position.flip.top.apply(this,arguments);K.ui.position.fit.top.apply(this,arguments)}}};(function(){var P,Q,R,U,S,T=document.getElementsByTagName("body")[0],V=document.createElement("div");P=document.createElement(T?"div":"body");R={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(T){K.extend(R,{position:"absolute",left:"-1000px",top:"-1000px"})}for(S in R){P.style[S]=R[S]}P.appendChild(V);Q=T||document.documentElement;Q.insertBefore(P,Q.firstChild);V.style.cssText="position: absolute; left: 10.7432222px;";U=K(V).offset().left;K.support.offsetFractions=U>10&&U<11;P.innerHTML="";Q.removeChild(P)})()}(jQuery));
/*
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(D,B){function A(G,F,E){return(G>F)&&(G<(F+E))}function C(E){return(/left|right/).test(E.css("float"))||(/inline|table-cell/).test(E.css("display"))}D.widget("ui.sortable",D.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var E=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?E.axis==="x"||C(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var E=this.items.length-1;E>=0;E--){this.items[E].item.removeData(this.widgetName+"-item")}return this},_setOption:function(E,F){if(E==="disabled"){this.options[E]=F;this.widget().toggleClass("ui-sortable-disabled",!!F)}else{D.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(H,I){var E=null,G=false,F=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(H);D(H.target).parents().each(function(){if(D.data(this,F.widgetName+"-item")===F){E=D(this);return false}});if(D.data(H.target,F.widgetName+"-item")===F){E=D(H.target)}if(!E){return false}if(this.options.handle&&!I){D(this.options.handle,E).find("*").addBack().each(function(){if(this===H.target){G=true}});if(!G){return false}}this.currentItem=E;this._removeCurrentsFromItems();return true},_mouseStart:function(I,J,F){var E,H,G=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(I);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};D.extend(this.offset,{click:{left:I.pageX-this.offset.left,top:I.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(I);this.originalPageX=I.pageX;this.originalPageY=I.pageY;(G.cursorAt&&this._adjustOffsetFromHelper(G.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(G.containment){this._setContainment()}if(G.cursor&&G.cursor!=="auto"){H=this.document.find("body");this.storedCursor=H.css("cursor");H.css("cursor",G.cursor);this.storedStylesheet=D("<style>*{ cursor: "+G.cursor+" !important; }</style>").appendTo(H)}if(G.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",G.opacity)}if(G.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",G.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",I,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!F){for(E=this.containers.length-1;E>=0;E--){this.containers[E]._trigger("activate",I,this._uiHash(this))}}if(D.ui.ddmanager){D.ui.ddmanager.current=this}if(D.ui.ddmanager&&!G.dropBehaviour){D.ui.ddmanager.prepareOffsets(this,I)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(I);return true},_mouseDrag:function(J){var F,I,K,H,G=this.options,E=false;this.position=this._generatePosition(J);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-J.pageY<G.scrollSensitivity){this.scrollParent[0].scrollTop=E=this.scrollParent[0].scrollTop+G.scrollSpeed}else{if(J.pageY-this.overflowOffset.top<G.scrollSensitivity){this.scrollParent[0].scrollTop=E=this.scrollParent[0].scrollTop-G.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-J.pageX<G.scrollSensitivity){this.scrollParent[0].scrollLeft=E=this.scrollParent[0].scrollLeft+G.scrollSpeed}else{if(J.pageX-this.overflowOffset.left<G.scrollSensitivity){this.scrollParent[0].scrollLeft=E=this.scrollParent[0].scrollLeft-G.scrollSpeed}}}else{if(J.pageY-D(document).scrollTop()<G.scrollSensitivity){E=D(document).scrollTop(D(document).scrollTop()-G.scrollSpeed)}else{if(D(window).height()-(J.pageY-D(document).scrollTop())<G.scrollSensitivity){E=D(document).scrollTop(D(document).scrollTop()+G.scrollSpeed)}}if(J.pageX-D(document).scrollLeft()<G.scrollSensitivity){E=D(document).scrollLeft(D(document).scrollLeft()-G.scrollSpeed)}else{if(D(window).width()-(J.pageX-D(document).scrollLeft())<G.scrollSensitivity){E=D(document).scrollLeft(D(document).scrollLeft()+G.scrollSpeed)}}}if(E!==false&&D.ui.ddmanager&&!G.dropBehaviour){D.ui.ddmanager.prepareOffsets(this,J)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(F=this.items.length-1;F>=0;F--){I=this.items[F];K=I.item[0];H=this._intersectsWithPointer(I);if(!H){continue}if(I.instance!==this.currentContainer){continue}if(K!==this.currentItem[0]&&this.placeholder[H===1?"next":"prev"]()[0]!==K&&!D.contains(this.placeholder[0],K)&&(this.options.type==="semi-dynamic"?!D.contains(this.element[0],K):true)){this.direction=H===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(I)){this._rearrange(J,I)}else{break}this._trigger("change",J,this._uiHash());break}}this._contactContainers(J);if(D.ui.ddmanager){D.ui.ddmanager.drag(this,J)}this._trigger("sort",J,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(I,H){if(!I){return}if(D.ui.ddmanager&&!this.options.dropBehaviour){D.ui.ddmanager.drop(this,I)}if(this.options.revert){var G=this,E=this.placeholder.offset(),J=this.options.axis,F={};if(!J||J==="x"){F.left=E.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!J||J==="y"){F.top=E.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;D(this.helper).animate(F,parseInt(this.options.revert,10)||500,function(){G._clear(I)})}else{this._clear(I,H)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var E=this.containers.length-1;E>=0;E--){this.containers[E]._trigger("deactivate",null,this._uiHash(this));if(this.containers[E].containerCache.over){this.containers[E]._trigger("out",null,this._uiHash(this));this.containers[E].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}D.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){D(this.domPosition.prev).after(this.currentItem)}else{D(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(E){var G=this._getItemsAsjQuery(E&&E.connected),F=[];E=E||{};D(G).each(function(){var H=(D(E.item||this).attr(E.attribute||"id")||"").match(E.expression||(/(.+)[\-=_](.+)/));if(H){F.push((E.key||H[1]+"[]")+"="+(E.key&&E.expression?H[1]:H[2]))}});if(!F.length&&E.key){F.push(E.key+"=")}return F.join("&")},toArray:function(E){var G=this._getItemsAsjQuery(E&&E.connected),F=[];E=E||{};G.each(function(){F.push(D(E.item||this).attr(E.attribute||"id")||"")});return F},_intersectsWith:function(R){var F=this.positionAbs.left,I=F+this.helperProportions.width,G=this.positionAbs.top,J=G+this.helperProportions.height,L=R.left,E=L+R.width,H=R.top,M=H+R.height,N=this.offset.click.top,K=this.offset.click.left,O=(this.options.axis==="x")||((G+N)>H&&(G+N)<M),P=(this.options.axis==="y")||((F+K)>L&&(F+K)<E),Q=O&&P;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>R[this.floating?"width":"height"])){return Q}else{return(L<F+(this.helperProportions.width/2)&&I-(this.helperProportions.width/2)<E&&H<G+(this.helperProportions.height/2)&&J-(this.helperProportions.height/2)<M)}},_intersectsWithPointer:function(H){var E=(this.options.axis==="x")||A(this.positionAbs.top+this.offset.click.top,H.top,H.height),J=(this.options.axis==="y")||A(this.positionAbs.left+this.offset.click.left,H.left,H.width),F=E&&J,G=this._getDragVerticalDirection(),I=this._getDragHorizontalDirection();if(!F){return false}return this.floating?(((I&&I==="right")||G==="down")?2:1):(G&&(G==="down"?2:1))},_intersectsWithSides:function(F){var E=A(this.positionAbs.top+this.offset.click.top,F.top+(F.height/2),F.height),G=A(this.positionAbs.left+this.offset.click.left,F.left+(F.width/2),F.width),I=this._getDragVerticalDirection(),H=this._getDragHorizontalDirection();if(this.floating&&H){return((H==="right"&&G)||(H==="left"&&!G))}else{return I&&((I==="down"&&E)||(I==="up"&&!E))}},_getDragVerticalDirection:function(){var E=this.positionAbs.top-this.lastPositionAbs.top;return E!==0&&(E>0?"down":"up")},_getDragHorizontalDirection:function(){var E=this.positionAbs.left-this.lastPositionAbs.left;return E!==0&&(E>0?"right":"left")},refresh:function(E){this._refreshItems(E);this.refreshPositions();return this},_connectWith:function(){var E=this.options;return E.connectWith.constructor===String?[E.connectWith]:E.connectWith},_getItemsAsjQuery:function(F){var K,I,E,G,L=[],J=[],M=this._connectWith();if(M&&F){for(K=M.length-1;K>=0;K--){E=D(M[K]);for(I=E.length-1;I>=0;I--){G=D.data(E[I],this.widgetFullName);if(G&&G!==this&&!G.options.disabled){J.push([D.isFunction(G.options.items)?G.options.items.call(G.element):D(G.options.items,G.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),G])}}}}J.push([D.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):D(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function H(){L.push(this)}for(K=J.length-1;K>=0;K--){J[K][0].each(H)}return D(L)},_removeCurrentsFromItems:function(){var E=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=D.grep(this.items,function(F){for(var G=0;G<E.length;G++){if(E[G]===F.item[0]){return false}}return true})},_refreshItems:function(O){this.items=[];this.containers=[this];var K,I,E,F,P,G,L,H,N=this.items,J=[[D.isFunction(this.options.items)?this.options.items.call(this.element[0],O,{item:this.currentItem}):D(this.options.items,this.element),this]],M=this._connectWith();if(M&&this.ready){for(K=M.length-1;K>=0;K--){E=D(M[K]);for(I=E.length-1;I>=0;I--){F=D.data(E[I],this.widgetFullName);if(F&&F!==this&&!F.options.disabled){J.push([D.isFunction(F.options.items)?F.options.items.call(F.element[0],O,{item:this.currentItem}):D(F.options.items,F.element),F]);this.containers.push(F)}}}}for(K=J.length-1;K>=0;K--){P=J[K][1];G=J[K][0];for(I=0,H=G.length;I<H;I++){L=D(G[I]);L.data(this.widgetName+"-item",P);N.push({item:L,instance:P,width:0,height:0,left:0,top:0})}}},refreshPositions:function(G){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var E,H,I,F;for(E=this.items.length-1;E>=0;E--){H=this.items[E];if(H.instance!==this.currentContainer&&this.currentContainer&&H.item[0]!==this.currentItem[0]){continue}I=this.options.toleranceElement?D(this.options.toleranceElement,H.item):H.item;if(!G){H.width=I.outerWidth();H.height=I.outerHeight()}F=I.offset();H.left=F.left;H.top=F.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(E=this.containers.length-1;E>=0;E--){F=this.containers[E].element.offset();this.containers[E].containerCache.left=F.left;this.containers[E].containerCache.top=F.top;this.containers[E].containerCache.width=this.containers[E].element.outerWidth();this.containers[E].containerCache.height=this.containers[E].element.outerHeight()}}return this},_createPlaceholder:function(F){F=F||this;var E,G=F.options;if(!G.placeholder||G.placeholder.constructor===String){E=G.placeholder;G.placeholder={element:function(){var I=F.currentItem[0].nodeName.toLowerCase(),H=D("<"+I+">",F.document[0]).addClass(E||F.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(I==="tr"){F.currentItem.children().each(function(){D("<td>&#160;</td>",F.document[0]).attr("colspan",D(this).attr("colspan")||1).appendTo(H)})}else{if(I==="img"){H.attr("src",F.currentItem.attr("src"))}}if(!E){H.css("visibility","hidden")}return H},update:function(I,H){if(E&&!G.forcePlaceholderSize){return}if(!H.height()){H.height(F.currentItem.innerHeight()-parseInt(F.currentItem.css("paddingTop")||0,10)-parseInt(F.currentItem.css("paddingBottom")||0,10))}if(!H.width()){H.width(F.currentItem.innerWidth()-parseInt(F.currentItem.css("paddingLeft")||0,10)-parseInt(F.currentItem.css("paddingRight")||0,10))}}}}F.placeholder=D(G.placeholder.element.call(F.element,F.currentItem));F.currentItem.after(F.placeholder);G.placeholder.update(F,F.placeholder)},_contactContainers:function(Q){var K,I,N,L,M,G,F,E,P,J,O=null,H=null;for(K=this.containers.length-1;K>=0;K--){if(D.contains(this.currentItem[0],this.containers[K].element[0])){continue}if(this._intersectsWith(this.containers[K].containerCache)){if(O&&D.contains(this.containers[K].element[0],O.element[0])){continue}O=this.containers[K];H=K}else{if(this.containers[K].containerCache.over){this.containers[K]._trigger("out",Q,this._uiHash(this));this.containers[K].containerCache.over=0}}}if(!O){return}if(this.containers.length===1){if(!this.containers[H].containerCache.over){this.containers[H]._trigger("over",Q,this._uiHash(this));this.containers[H].containerCache.over=1}}else{N=10000;L=null;J=O.floating||C(this.currentItem);M=J?"left":"top";G=J?"width":"height";F=this.positionAbs[M]+this.offset.click[M];for(I=this.items.length-1;I>=0;I--){if(!D.contains(this.containers[H].element[0],this.items[I].item[0])){continue}if(this.items[I].item[0]===this.currentItem[0]){continue}if(J&&!A(this.positionAbs.top+this.offset.click.top,this.items[I].top,this.items[I].height)){continue}E=this.items[I].item.offset()[M];P=false;if(Math.abs(E-F)>Math.abs(E+this.items[I][G]-F)){P=true;E+=this.items[I][G]}if(Math.abs(E-F)<N){N=Math.abs(E-F);L=this.items[I];this.direction=P?"up":"down"}}if(!L&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[H]){return}L?this._rearrange(Q,L,null,true):this._rearrange(Q,null,this.containers[H].element,true);this._trigger("change",Q,this._uiHash());this.containers[H]._trigger("change",Q,this._uiHash(this));this.currentContainer=this.containers[H];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[H]._trigger("over",Q,this._uiHash(this));this.containers[H].containerCache.over=1}},_createHelper:function(F){var E=this.options,G=D.isFunction(E.helper)?D(E.helper.apply(this.element[0],[F,this.currentItem])):(E.helper==="clone"?this.currentItem.clone():this.currentItem);if(!G.parents("body").length){D(E.appendTo!=="parent"?E.appendTo:this.currentItem[0].parentNode)[0].appendChild(G[0])}if(G[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!G[0].style.width||E.forceHelperSize){G.width(this.currentItem.width())}if(!G[0].style.height||E.forceHelperSize){G.height(this.currentItem.height())}return G},_adjustOffsetFromHelper:function(E){if(typeof E==="string"){E=E.split(" ")}if(D.isArray(E)){E={left:+E[0],top:+E[1]||0}}if("left" in E){this.offset.click.left=E.left+this.margins.left}if("right" in E){this.offset.click.left=this.helperProportions.width-E.right+this.margins.left}if("top" in E){this.offset.click.top=E.top+this.margins.top}if("bottom" in E){this.offset.click.top=this.helperProportions.height-E.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var E=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&D.contains(this.scrollParent[0],this.offsetParent[0])){E.left+=this.scrollParent.scrollLeft();E.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&D.ui.ie)){E={top:0,left:0}}return{top:E.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:E.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var E=this.currentItem.position();return{top:E.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:E.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var G,E,H,F=this.options;if(F.containment==="parent"){F.containment=this.helper[0].parentNode}if(F.containment==="document"||F.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,D(F.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(D(F.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(F.containment)){G=D(F.containment)[0];E=D(F.containment).offset();H=(D(G).css("overflow")!=="hidden");this.containment=[E.left+(parseInt(D(G).css("borderLeftWidth"),10)||0)+(parseInt(D(G).css("paddingLeft"),10)||0)-this.margins.left,E.top+(parseInt(D(G).css("borderTopWidth"),10)||0)+(parseInt(D(G).css("paddingTop"),10)||0)-this.margins.top,E.left+(H?Math.max(G.scrollWidth,G.offsetWidth):G.offsetWidth)-(parseInt(D(G).css("borderLeftWidth"),10)||0)-(parseInt(D(G).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,E.top+(H?Math.max(G.scrollHeight,G.offsetHeight):G.offsetHeight)-(parseInt(D(G).css("borderTopWidth"),10)||0)-(parseInt(D(G).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(E,F){if(!F){F=this.position}var I=E==="absolute"?1:-1,H=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&D.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,G=(/(html|body)/i).test(H[0].tagName);return{top:(F.top+this.offset.relative.top*I+this.offset.parent.top*I-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(G?0:H.scrollTop()))*I)),left:(F.left+this.offset.relative.left*I+this.offset.parent.left*I-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():G?0:H.scrollLeft())*I))}},_generatePosition:function(G){var H,F,J=this.options,I=G.pageX,L=G.pageY,K=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&D.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,E=(/(html|body)/i).test(K[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(G.pageX-this.offset.click.left<this.containment[0]){I=this.containment[0]+this.offset.click.left}if(G.pageY-this.offset.click.top<this.containment[1]){L=this.containment[1]+this.offset.click.top}if(G.pageX-this.offset.click.left>this.containment[2]){I=this.containment[2]+this.offset.click.left}if(G.pageY-this.offset.click.top>this.containment[3]){L=this.containment[3]+this.offset.click.top}}if(J.grid){H=this.originalPageY+Math.round((L-this.originalPageY)/J.grid[1])*J.grid[1];L=this.containment?((H-this.offset.click.top>=this.containment[1]&&H-this.offset.click.top<=this.containment[3])?H:((H-this.offset.click.top>=this.containment[1])?H-J.grid[1]:H+J.grid[1])):H;F=this.originalPageX+Math.round((I-this.originalPageX)/J.grid[0])*J.grid[0];I=this.containment?((F-this.offset.click.left>=this.containment[0]&&F-this.offset.click.left<=this.containment[2])?F:((F-this.offset.click.left>=this.containment[0])?F-J.grid[0]:F+J.grid[0])):F}}return{top:(L-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(E?0:K.scrollTop())))),left:(I-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():E?0:K.scrollLeft())))}},_rearrange:function(H,F,I,E){I?I[0].appendChild(this.placeholder[0]):F.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?F.item[0]:F.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var G=this.counter;this._delay(function(){if(G===this.counter){this.refreshPositions(!E)}})},_clear:function(G,F){this.reverting=false;var E,H=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(E in this._storedCSS){if(this._storedCSS[E]==="auto"||this._storedCSS[E]==="static"){this._storedCSS[E]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!F){H.push(function(J){this._trigger("receive",J,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!F){H.push(function(J){this._trigger("update",J,this._uiHash())})}if(this!==this.currentContainer){if(!F){H.push(function(J){this._trigger("remove",J,this._uiHash())});H.push((function(J){return function(K){J._trigger("receive",K,this._uiHash(this))}}).call(this,this.currentContainer));H.push((function(J){return function(K){J._trigger("update",K,this._uiHash(this))}}).call(this,this.currentContainer))}}function I(J,K,L){return function(M){L._trigger(J,M,K._uiHash(K))}}for(E=this.containers.length-1;E>=0;E--){if(!F){H.push(I("deactivate",this,this.containers[E]))}if(this.containers[E].containerCache.over){H.push(I("out",this,this.containers[E]));this.containers[E].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!F){this._trigger("beforeStop",G,this._uiHash());for(E=0;E<H.length;E++){H[E].call(this,G)}this._trigger("stop",G,this._uiHash())}this.fromOutside=false;return false}if(!F){this._trigger("beforeStop",G,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!F){for(E=0;E<H.length;E++){H[E].call(this,G)}this._trigger("stop",G,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(D.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(E){var F=E||this;return{helper:F.helper,placeholder:F.placeholder||D([]),position:F.position,originalPosition:F.originalPosition,offset:F.positionAbs,item:F.currentItem,sender:E?E.element:null}}})})(jQuery);
/*
 * jQuery UI Slider 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(C,B){var A=5;C.widget("ui.slider",C.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var E,G,F=this.options,I=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),D="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",H=[];G=(F.values&&F.values.length)||1;if(I.length>G){I.slice(G).remove();I=I.slice(0,G)}for(E=I.length;E<G;E++){H.push(D)}this.handles=I.add(C(H.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(J){C(this).data("ui-slider-handle-index",J)})},_createRange:function(){var D=this.options,E="";if(D.range){if(D.range===true){if(!D.values){D.values=[this._valueMin(),this._valueMin()]}else{if(D.values.length&&D.values.length!==2){D.values=[D.values[0],D.values[0]]}else{if(C.isArray(D.values)){D.values=D.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=C("<div></div>").appendTo(this.element);E="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""})}this.range.addClass(E+((D.range==="min"||D.range==="max")?" ui-slider-range-"+D.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){var D=this.handles.add(this.range).filter("a");this._off(D);this._on(D,this._handleEvents);this._hoverable(D);this._focusable(D)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(H){var L,D,J,M,F,G,E,I,N=this,K=this.options;if(K.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();L={x:H.pageX,y:H.pageY};D=this._normValueFromMouse(L);J=this._valueMax()-this._valueMin()+1;this.handles.each(function(O){var P=Math.abs(D-N.values(O));if((J>P)||(J===P&&(O===N._lastChangedValue||N.values(O)===K.min))){J=P;M=C(this);F=O}});G=this._start(H,F);if(G===false){return false}this._mouseSliding=true;this._handleIndex=F;M.addClass("ui-state-active").focus();E=M.offset();I=!C(H.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=I?{left:0,top:0}:{left:H.pageX-E.left-(M.width()/2),top:H.pageY-E.top-(M.height()/2)-(parseInt(M.css("borderTopWidth"),10)||0)-(parseInt(M.css("borderBottomWidth"),10)||0)+(parseInt(M.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(H,F,D)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(E){var D={x:E.pageX,y:E.pageY},F=this._normValueFromMouse(D);this._slide(E,this._handleIndex,F);return false},_mouseStop:function(D){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(D,this._handleIndex);this._change(D,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(G){var I,E,H,F,D;if(this.orientation==="horizontal"){I=this.elementSize.width;E=G.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{I=this.elementSize.height;E=G.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}H=(E/I);if(H>1){H=1}if(H<0){H=0}if(this.orientation==="vertical"){H=1-H}F=this._valueMax()-this._valueMin();D=this._valueMin()+H*F;return this._trimAlignValue(D)},_start:function(D,E){var F={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){F.value=this.values(E);F.values=this.values()}return this._trigger("start",D,F)},_slide:function(G,H,F){var D,I,E;if(this.options.values&&this.options.values.length){D=this.values(H?0:1);if((this.options.values.length===2&&this.options.range===true)&&((H===0&&F>D)||(H===1&&F<D))){F=D}if(F!==this.values(H)){I=this.values();I[H]=F;E=this._trigger("slide",G,{handle:this.handles[H],value:F,values:I});D=this.values(H?0:1);if(E!==false){this.values(H,F)}}}else{if(F!==this.value()){E=this._trigger("slide",G,{handle:this.handles[H],value:F});if(E!==false){this.value(F)}}}},_stop:function(D,E){var F={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){F.value=this.values(E);F.values=this.values()}this._trigger("stop",D,F)},_change:function(D,E){if(!this._keySliding&&!this._mouseSliding){var F={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){F.value=this.values(E);F.values=this.values()}this._lastChangedValue=E;this._trigger("change",D,F)}},value:function(D){if(arguments.length){this.options.value=this._trimAlignValue(D);this._refreshValue();this._change(null,0);return}return this._value()},values:function(F,H){var G,D,E;if(arguments.length>1){this.options.values[F]=this._trimAlignValue(H);this._refreshValue();this._change(null,F);return}if(arguments.length){if(C.isArray(arguments[0])){G=this.options.values;D=arguments[0];for(E=0;E<G.length;E+=1){G[E]=this._trimAlignValue(D[E]);this._change(null,E)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(F)}else{return this.value()}}}else{return this._values()}},_setOption:function(D,G){var E,F=0;if(D==="range"&&this.options.range===true){if(G==="min"){this.options.value=this._values(0);this.options.values=null}else{if(G==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(C.isArray(this.options.values)){F=this.options.values.length}C.Widget.prototype._setOption.apply(this,arguments);switch(D){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(E=0;E<F;E+=1){this._change(null,E)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var D=this.options.value;D=this._trimAlignValue(D);return D},_values:function(E){var F,G,D;if(arguments.length){F=this.options.values[E];F=this._trimAlignValue(F);return F}else{if(this.options.values&&this.options.values.length){G=this.options.values.slice();for(D=0;D<G.length;D+=1){G[D]=this._trimAlignValue(G[D])}return G}else{return[]}}},_trimAlignValue:function(G){if(G<=this._valueMin()){return this._valueMin()}if(G>=this._valueMax()){return this._valueMax()}var D=(this.options.step>0)?this.options.step:1,E=(G-this._valueMin())%D,F=G-E;if(Math.abs(E)*2>=D){F+=(E>0)?D:(-D)}return parseFloat(F.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var D,F,J,I,G,H=this.options.range,L=this.options,K=this,M=(!this._animateOff)?L.animate:false,E={};if(this.options.values&&this.options.values.length){this.handles.each(function(N){F=(K.values(N)-K._valueMin())/(K._valueMax()-K._valueMin())*100;E[K.orientation==="horizontal"?"left":"bottom"]=F+"%";C(this).stop(1,1)[M?"animate":"css"](E,L.animate);if(K.options.range===true){if(K.orientation==="horizontal"){if(N===0){K.range.stop(1,1)[M?"animate":"css"]({left:F+"%"},L.animate)}if(N===1){K.range[M?"animate":"css"]({width:(F-D)+"%"},{queue:false,duration:L.animate})}}else{if(N===0){K.range.stop(1,1)[M?"animate":"css"]({bottom:(F)+"%"},L.animate)}if(N===1){K.range[M?"animate":"css"]({height:(F-D)+"%"},{queue:false,duration:L.animate})}}}D=F})}else{J=this.value();I=this._valueMin();G=this._valueMax();F=(G!==I)?(J-I)/(G-I)*100:0;E[this.orientation==="horizontal"?"left":"bottom"]=F+"%";this.handle.stop(1,1)[M?"animate":"css"](E,L.animate);if(H==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[M?"animate":"css"]({width:F+"%"},L.animate)}if(H==="max"&&this.orientation==="horizontal"){this.range[M?"animate":"css"]({width:(100-F)+"%"},{queue:false,duration:L.animate})}if(H==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[M?"animate":"css"]({height:F+"%"},L.animate)}if(H==="max"&&this.orientation==="vertical"){this.range[M?"animate":"css"]({height:(100-F)+"%"},{queue:false,duration:L.animate})}}},_handleEvents:{keydown:function(H){var F,G,E,D,I=C(H.target).data("ui-slider-handle-index");switch(H.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:H.preventDefault();if(!this._keySliding){this._keySliding=true;C(H.target).addClass("ui-state-active");F=this._start(H,I);if(F===false){return}}break}D=this.options.step;if(this.options.values&&this.options.values.length){G=E=this.values(I)}else{G=E=this.value()}switch(H.keyCode){case C.ui.keyCode.HOME:E=this._valueMin();break;case C.ui.keyCode.END:E=this._valueMax();break;case C.ui.keyCode.PAGE_UP:E=this._trimAlignValue(G+((this._valueMax()-this._valueMin())/A));break;case C.ui.keyCode.PAGE_DOWN:E=this._trimAlignValue(G-((this._valueMax()-this._valueMin())/A));break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(G===this._valueMax()){return}E=this._trimAlignValue(G+D);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(G===this._valueMin()){return}E=this._trimAlignValue(G-D);break}this._slide(H,I,E)},click:function(D){D.preventDefault()},keyup:function(D){var E=C(D.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(D,E);this._change(D,E);C(D.target).removeClass("ui-state-active")}}}})}(jQuery));
/*
 * jQuery UI Accordion 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(E,B){var A=0,D={},C={};D.height=D.paddingTop=D.paddingBottom=D.borderTopWidth=D.borderBottomWidth="hide";C.height=C.paddingTop=C.paddingBottom=C.borderTopWidth=C.borderBottomWidth="show";E.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var F=this.options;this.prevShow=this.prevHide=E();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!F.collapsible&&(F.active===false||F.active==null)){F.active=0}this._processPanels();if(F.active<0){F.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?E():this.active.next(),content:!this.active.length?E():this.active.next()}},_createIcons:function(){var F=this.options.icons;if(F){E("<span>").addClass("ui-accordion-header-icon ui-icon "+F.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(F.header).addClass(F.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var F;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();F=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){F.css("height","")}},_setOption:function(F,G){if(F==="active"){this._activate(G);return}if(F==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(G)}this._super(F,G);if(F==="collapsible"&&!G&&this.options.active===false){this._activate(0)}if(F==="icons"){this._destroyIcons();if(G){this._createIcons()}}if(F==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!G)}},_keydown:function(H){if(H.altKey||H.ctrlKey){return}var G=E.ui.keyCode,F=this.headers.length,I=this.headers.index(H.target),J=false;switch(H.keyCode){case G.RIGHT:case G.DOWN:J=this.headers[(I+1)%F];break;case G.LEFT:case G.UP:J=this.headers[(I-1+F)%F];break;case G.SPACE:case G.ENTER:this._eventHandler(H);break;case G.HOME:J=this.headers[0];break;case G.END:J=this.headers[F-1];break}if(J){E(H.target).attr("tabIndex",-1);E(J).attr("tabIndex",0);J.focus();H.preventDefault()}},_panelKeyDown:function(F){if(F.keyCode===E.ui.keyCode.UP&&F.ctrlKey){E(F.currentTarget).prev().focus()}},refresh:function(){var F=this.options;this._processPanels();if((F.active===false&&F.collapsible===true)||!this.headers.length){F.active=false;this.active=E()}else{if(F.active===false){this._activate(0)}else{if(this.active.length&&!E.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){F.active=false;this.active=E()}else{this._activate(Math.max(0,F.active-1))}}else{F.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var I,G=this.options,J=G.heightStyle,H=this.element.parent(),F=this.accordionId="ui-accordion-"+(this.element.attr("id")||++A);this.active=this._findActive(G.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(L){var N=E(this),O=N.attr("id"),K=N.next(),M=K.attr("id");if(!O){O=F+"-header-"+L;N.attr("id",O)}if(!M){M=F+"-panel-"+L;K.attr("id",M)}N.attr("aria-controls",M);K.attr("aria-labelledby",O)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(G.event);if(J==="fill"){I=H.height();this.element.siblings(":visible").each(function(){var L=E(this),K=L.css("position");if(K==="absolute"||K==="fixed"){return}I-=L.outerHeight(true)});this.headers.each(function(){I-=E(this).outerHeight(true)});this.headers.next().each(function(){E(this).height(Math.max(0,I-E(this).innerHeight()+E(this).height()))}).css("overflow","auto")}else{if(J==="auto"){I=0;this.headers.next().each(function(){I=Math.max(I,E(this).css("height","").height())}).height(I)}}},_activate:function(G){var F=this._findActive(G)[0];if(F===this.active[0]){return}F=F||this.active[0];this._eventHandler({target:F,currentTarget:F,preventDefault:E.noop})},_findActive:function(F){return typeof F==="number"?this.headers.eq(F):E()},_setupEvents:function(F){var G={keydown:"_keydown"};if(F){E.each(F.split(" "),function(I,H){G[H]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,G);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(I){var K=this.options,L=this.active,F=E(I.currentTarget),N=F[0]===L[0],H=N&&K.collapsible,M=H?E():F.next(),G=L.next(),J={oldHeader:L,oldPanel:G,newHeader:H?E():F,newPanel:M};I.preventDefault();if((N&&!K.collapsible)||(this._trigger("beforeActivate",I,J)===false)){return}K.active=H?false:this.headers.index(F);this.active=N?E():F;this._toggle(J);L.removeClass("ui-accordion-header-active ui-state-active");if(K.icons){L.children(".ui-accordion-header-icon").removeClass(K.icons.activeHeader).addClass(K.icons.header)}if(!N){F.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(K.icons){F.children(".ui-accordion-header-icon").removeClass(K.icons.header).addClass(K.icons.activeHeader)}F.next().addClass("ui-accordion-content-active")}},_toggle:function(H){var G=H.newPanel,F=this.prevShow.length?this.prevShow:H.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=G;this.prevHide=F;if(this.options.animate){this._animate(G,F,H)}else{F.hide();G.show();this._toggleComplete(H)}F.attr({"aria-hidden":"true"});F.prev().attr("aria-selected","false");if(G.length&&F.length){F.prev().attr({"tabIndex":-1,"aria-expanded":"false"})}else{if(G.length){this.headers.filter(function(){return E(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}G.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(O,H,F){var M,N,J,K=this,P=0,G=O.length&&(!H.length||(O.index()<H.index())),I=this.options.animate||{},L=G&&I.down||I,Q=function(){K._toggleComplete(F)};if(typeof L==="number"){J=L}if(typeof L==="string"){N=L}N=N||L.easing||I.easing;J=J||L.duration||I.duration;if(!H.length){return O.animate(C,J,N,Q)}if(!O.length){return H.animate(D,J,N,Q)}M=O.show().outerHeight();H.animate(D,{duration:J,easing:N,step:function(S,R){R.now=Math.round(S)}});O.hide().animate(C,{duration:J,easing:N,complete:Q,step:function(S,R){R.now=Math.round(S);if(R.prop!=="height"){P+=R.now}else{if(K.options.heightStyle!=="content"){R.now=Math.round(M-H.outerHeight()-P);P=0}}}})},_toggleComplete:function(G){var F=G.oldPanel;F.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(F.length){F.parent()[0].className=F.parent()[0].className}this._trigger("activate",null,G)}})})(jQuery);
/*
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(B,A){B.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,B.proxy(function(C){if(this.options.disabled){C.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(C){C.preventDefault()},"click .ui-state-disabled > a":function(C){C.preventDefault()},"click .ui-menu-item:has(a)":function(C){var D=B(C.target).closest(".ui-menu-item");if(!this.mouseHandled&&D.not(".ui-state-disabled").length){this.select(C);if(!C.isPropagationStopped()){this.mouseHandled=true}if(D.has(".ui-menu").length){this.expand(C)}else{if(!this.element.is(":focus")&&B(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(C){var D=B(C.currentTarget);D.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(C,D)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(D,E){var C=this.active||this.element.children(".ui-menu-item").eq(0);if(!E){this.focus(D,C)}},blur:function(C){this._delay(function(){if(!B.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(C)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(C){if(!B(C.target).closest(".ui-menu").length){this.collapseAll(C)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var C=B(this);if(C.data("ui-menu-submenu-carat")){C.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(F){var D,H,C,E,J,I=true;function G(K){return K.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(F.keyCode){case B.ui.keyCode.PAGE_UP:this.previousPage(F);break;case B.ui.keyCode.PAGE_DOWN:this.nextPage(F);break;case B.ui.keyCode.HOME:this._move("first","first",F);break;case B.ui.keyCode.END:this._move("last","last",F);break;case B.ui.keyCode.UP:this.previous(F);break;case B.ui.keyCode.DOWN:this.next(F);break;case B.ui.keyCode.LEFT:this.collapse(F);break;case B.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(F)}break;case B.ui.keyCode.ENTER:case B.ui.keyCode.SPACE:this._activate(F);break;case B.ui.keyCode.ESCAPE:this.collapse(F);break;default:I=false;H=this.previousFilter||"";C=String.fromCharCode(F.keyCode);E=false;clearTimeout(this.filterTimer);if(C===H){E=true}else{C=H+C}J=new RegExp("^"+G(C),"i");D=this.activeMenu.children(".ui-menu-item").filter(function(){return J.test(B(this).children("a").text())});D=E&&D.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):D;if(!D.length){C=String.fromCharCode(F.keyCode);J=new RegExp("^"+G(C),"i");D=this.activeMenu.children(".ui-menu-item").filter(function(){return J.test(B(this).children("a").text())})}if(D.length){this.focus(F,D);if(D.length>1){this.previousFilter=C;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(I){F.preventDefault()}},_activate:function(C){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(C)}else{this.select(C)}}},refresh:function(){var C,E=this.options.icons.submenu,D=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);D.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var H=B(this),F=H.prev("a"),G=B("<span>").addClass("ui-menu-icon ui-icon "+E).data("ui-menu-submenu-carat",true);F.attr("aria-haspopup","true").prepend(G);H.attr("aria-labelledby",F.attr("id"))});C=D.add(this.element);C.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});C.children(":not(.ui-menu-item)").each(function(){var F=B(this);if(!/[^\-\u2014\u2013\s]/.test(F.text())){F.addClass("ui-widget-content ui-menu-divider")}});C.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!B.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(C,D){if(C==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(D.submenu)}this._super(C,D)},focus:function(D,C){var E,F;this.blur(D,D&&D.type==="focus");this._scrollIntoView(C);this.active=C.first();F=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",F.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(D&&D.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}E=C.children(".ui-menu");if(E.length&&D&&(/^mouse/.test(D.type))){this._startOpening(E)}this.activeMenu=C.parent();this._trigger("focus",D,{item:C})},_scrollIntoView:function(F){var E,H,D,G,C,I;if(this._hasScroll()){E=parseFloat(B.css(this.activeMenu[0],"borderTopWidth"))||0;H=parseFloat(B.css(this.activeMenu[0],"paddingTop"))||0;D=F.offset().top-this.activeMenu.offset().top-E-H;G=this.activeMenu.scrollTop();C=this.activeMenu.height();I=F.height();if(D<0){this.activeMenu.scrollTop(G+D)}else{if(D+I>C){this.activeMenu.scrollTop(G+D-C+I)}}}},blur:function(C,D){if(!D){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",C,{item:this.active})},_startOpening:function(C){clearTimeout(this.timer);if(C.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(C)},this.delay)},_open:function(D){var C=B.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(D.parents(".ui-menu")).hide().attr("aria-hidden","true");D.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(C)},collapseAll:function(D,C){clearTimeout(this.timer);this.timer=this._delay(function(){var E=C?this.element:B(D&&D.target).closest(this.element.find(".ui-menu"));if(!E.length){E=this.element}this._close(E);this.blur(D);this.activeMenu=E},this.delay)},_close:function(C){if(!C){C=this.active?this.active.parent():this.element}C.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(D){var C=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(C&&C.length){this._close();this.focus(D,C)}},expand:function(D){var C=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(C&&C.length){this._open(C.parent());this._delay(function(){this.focus(D,C)})}},next:function(C){this._move("next","first",C)},previous:function(C){this._move("prev","last",C)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(E,D,F){var C;if(this.active){if(E==="first"||E==="last"){C=this.active[E==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{C=this.active[E+"All"](".ui-menu-item").eq(0)}}if(!C||!C.length||!this.active){C=this.activeMenu.children(".ui-menu-item")[D]()}this.focus(F,C)},nextPage:function(E){var D,F,C;if(!this.active){this.next(E);return}if(this.isLastItem()){return}if(this._hasScroll()){F=this.active.offset().top;C=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){D=B(this);return D.offset().top-F-C<0});this.focus(E,D)}else{this.focus(E,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(E){var D,F,C;if(!this.active){this.next(E);return}if(this.isFirstItem()){return}if(this._hasScroll()){F=this.active.offset().top;C=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){D=B(this);return D.offset().top-F+C>0});this.focus(E,D)}else{this.focus(E,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(D){this.active=this.active||B(D.target).closest(".ui-menu-item");var C={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(D,true)}this._trigger("select",D,C)}})}(jQuery));
/*
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
(function(B,A){B.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var F,E,C,H=this.element[0].nodeName.toLowerCase(),G=H==="textarea",D=H==="input";this.isMultiLine=G?true:D?false:this.element.prop("isContentEditable");this.valueMethod=this.element[G||D?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(J){if(this.element.prop("readOnly")){F=true;C=true;E=true;return}F=false;C=false;E=false;var I=B.ui.keyCode;switch(J.keyCode){case I.PAGE_UP:F=true;this._move("previousPage",J);break;case I.PAGE_DOWN:F=true;this._move("nextPage",J);break;case I.UP:F=true;this._keyEvent("previous",J);break;case I.DOWN:F=true;this._keyEvent("next",J);break;case I.ENTER:case I.NUMPAD_ENTER:if(this.menu.active){F=true;J.preventDefault();this.menu.select(J)}break;case I.TAB:if(this.menu.active){this.menu.select(J)}break;case I.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(J);J.preventDefault()}break;default:E=true;this._searchTimeout(J);break}},keypress:function(J){if(F){F=false;if(!this.isMultiLine||this.menu.element.is(":visible")){J.preventDefault()}return}if(E){return}var I=B.ui.keyCode;switch(J.keyCode){case I.PAGE_UP:this._move("previousPage",J);break;case I.PAGE_DOWN:this._move("nextPage",J);break;case I.UP:this._keyEvent("previous",J);break;case I.DOWN:this._keyEvent("next",J);break}},input:function(I){if(C){C=false;I.preventDefault();return}this._searchTimeout(I)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(I){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(I);this._change(I)}});this._initSource();this.menu=B("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(J){J.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var I=this.menu.element[0];if(!B(J.target).closest(".ui-menu-item").length){this._delay(function(){var K=this;this.document.one("mousedown",function(L){if(L.target!==K.element[0]&&L.target!==I&&!B.contains(I,L.target)){K.close()}})})}},menufocus:function(K,I){if(this.isNewMenu){this.isNewMenu=false;if(K.originalEvent&&/^mouse/.test(K.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){B(K.target).trigger(K.originalEvent)});return}}var J=I.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",K,{item:J})){if(K.originalEvent&&/^key/.test(K.originalEvent.type)){this._value(J.value)}}else{this.liveRegion.text(J.value)}},menuselect:function(K,I){var J=I.item.data("ui-autocomplete-item"),L=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=L;this._delay(function(){this.previous=L;this.selectedItem=J})}if(false!==this._trigger("select",K,{item:J})){this._value(J.value)}this.term=this._value();this.close(K);this.selectedItem=J}});this.liveRegion=B("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(C,D){this._super(C,D);if(C==="source"){this._initSource()}if(C==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(C==="disabled"&&D&&this.xhr){this.xhr.abort()}},_appendTo:function(){var C=this.options.appendTo;if(C){C=C.jquery||C.nodeType?B(C):this.document.find(C).eq(0)}if(!C){C=this.element.closest(".ui-front")}if(!C.length){C=this.document[0].body}return C},_initSource:function(){var C,D,E=this;if(B.isArray(this.options.source)){C=this.options.source;this.source=function(F,G){G(B.ui.autocomplete.filter(C,F.term))}}else{if(typeof this.options.source==="string"){D=this.options.source;this.source=function(F,G){if(E.xhr){E.xhr.abort()}E.xhr=B.ajax({url:D,data:F,dataType:"json",success:function(H){G(H)},error:function(){G([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(C){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,C)}},this.options.delay)},search:function(D,C){D=D!=null?D:this._value();this.term=this._value();if(D.length<this.options.minLength){return this.close(C)}if(this._trigger("search",C)===false){return}return this._search(D)},_search:function(C){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:C},this._response())},_response:function(){var C=++this.requestIndex;return B.proxy(function(D){if(C===this.requestIndex){this.__response(D)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(C){if(C){C=this._normalize(C)}this._trigger("response",null,{content:C});if(!this.options.disabled&&C&&C.length&&!this.cancelSearch){this._suggest(C);this._trigger("open")}else{this._close()}},close:function(C){this.cancelSearch=true;this._close(C)},_close:function(C){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",C)}},_change:function(C){if(this.previous!==this._value()){this._trigger("change",C,{item:this.selectedItem})}},_normalize:function(C){if(C.length&&C[0].label&&C[0].value){return C}return B.map(C,function(D){if(typeof D==="string"){return{label:D,value:D}}return B.extend({label:D.label||D.value,value:D.value||D.label},D)})},_suggest:function(D){var C=this.menu.element.empty();this._renderMenu(C,D);this.isNewMenu=true;this.menu.refresh();C.show();this._resizeMenu();C.position(B.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var C=this.menu.element;C.outerWidth(Math.max(C.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(D,E){var C=this;B.each(E,function(G,F){C._renderItemData(D,F)})},_renderItemData:function(D,C){return this._renderItem(D,C).data("ui-autocomplete-item",C)},_renderItem:function(D,C){return B("<li>").append(B("<a>").text(C.label)).appendTo(D)},_move:function(D,C){if(!this.menu.element.is(":visible")){this.search(null,C);return}if(this.menu.isFirstItem()&&/^previous/.test(D)||this.menu.isLastItem()&&/^next/.test(D)){this._value(this.term);this.menu.blur();return}this.menu[D](C)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(C,D){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(C,D);D.preventDefault()}}});B.extend(B.ui.autocomplete,{escapeRegex:function(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(C,E){var D=new RegExp(B.ui.autocomplete.escapeRegex(E),"i");return B.grep(C,function(F){return D.test(F.label||F.value||F)})}});B.widget("ui.autocomplete",B.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(C){return C+(C>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(C){var D;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(C&&C.length){D=this.options.messages.results(C.length)}else{D=this.options.messages.noResults}this.liveRegion.text(D)}})}(jQuery));
/*
 * jQuery UI Spinner 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.widget.js
 *  jquery.ui.button.js
 */
(function(B){function A(C){return function(){var D=this.element.val();C.apply(this,arguments);this._refresh();if(D!==this.element.val()){this._trigger("change")}}}B.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var C={},D=this.element;B.each(["min","max","step"],function(E,F){var G=D.attr(F);if(G!==undefined&&G.length){C[F]=G}});return C},_events:{keydown:function(C){if(this._start(C)&&this._keydown(C)){C.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(C){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",C)}},mousewheel:function(D,C){if(!C){return}if(!this.spinning&&!this._start(D)){return false}this._spin((C>0?1:-1)*this.options.step,D);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(D)}},100);D.preventDefault()},"mousedown .ui-spinner-button":function(D){var E;E=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function C(){var F=this.element[0]===this.document[0].activeElement;if(!F){this.element.focus();this.previous=E;this._delay(function(){this.previous=E})}}D.preventDefault();C.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;C.call(this)});if(this._start(D)===false){return}this._repeat(null,B(D.currentTarget).hasClass("ui-spinner-up")?1:-1,D)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(C){if(!B(C.currentTarget).hasClass("ui-state-active")){return}if(this._start(C)===false){return false}this._repeat(null,B(C.currentTarget).hasClass("ui-spinner-up")?1:-1,C)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var C=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=C.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(C.height()*0.5)&&C.height()>0){C.height(C.height())}if(this.options.disabled){this.disable()}},_keydown:function(D){var C=this.options,E=B.ui.keyCode;switch(D.keyCode){case E.UP:this._repeat(null,1,D);return true;case E.DOWN:this._repeat(null,-1,D);return true;case E.PAGE_UP:this._repeat(null,C.page,D);return true;case E.PAGE_DOWN:this._repeat(null,-C.page,D);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(C){if(!this.spinning&&this._trigger("start",C)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(C,D,E){C=C||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,D,E)},C);this._spin(D*this.options.step,E)},_spin:function(C,D){var E=this.value()||0;if(!this.counter){this.counter=1}E=this._adjustValue(E+C*this._increment(this.counter));if(!this.spinning||this._trigger("spin",D,{value:E})!==false){this._value(E);this.counter++}},_increment:function(C){var D=this.options.incremental;if(D){return B.isFunction(D)?D(C):Math.floor(C*C*C/50000-C*C/500+17*C/200+1)}return 1},_precision:function(){var C=this._precisionOf(this.options.step);if(this.options.min!==null){C=Math.max(C,this._precisionOf(this.options.min))}return C},_precisionOf:function(D){var C=D.toString(),E=C.indexOf(".");return E===-1?0:C.length-E-1},_adjustValue:function(E){var F,D,C=this.options;F=C.min!==null?C.min:0;D=E-F;D=Math.round(D/C.step)*C.step;E=F+D;E=parseFloat(E.toFixed(this._precision()));if(C.max!==null&&E>C.max){return C.max}if(C.min!==null&&E<C.min){return C.min}return E},_stop:function(C){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",C)},_setOption:function(D,E){if(D==="culture"||D==="numberFormat"){var C=this._parse(this.element.val());this.options[D]=E;this.element.val(this._format(C));return}if(D==="max"||D==="min"||D==="step"){if(typeof E==="string"){E=this._parse(E)}}if(D==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(E.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(E.down)}this._super(D,E);if(D==="disabled"){if(E){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:A(function(C){this._super(C);this._value(this.element.val())}),_parse:function(C){if(typeof C==="string"&&C!==""){C=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(C,10,this.options.culture):+C}return C===""||isNaN(C)?null:C},_format:function(C){if(C===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(C,this.options.numberFormat,this.options.culture):C},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(D,E){var C;if(D!==""){C=this._parse(D);if(C!==null){if(!E){C=this._adjustValue(C)}D=this._format(C)}}this.element.val(D);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:A(function(C){this._stepUp(C)}),_stepUp:function(C){if(this._start()){this._spin((C||1)*this.options.step);this._stop()}},stepDown:A(function(C){this._stepDown(C)}),_stepDown:function(C){if(this._start()){this._spin((C||1)*-this.options.step);this._stop()}},pageUp:A(function(C){this._stepUp((C||1)*this.options.page)}),pageDown:A(function(C){this._stepDown((C||1)*this.options.page)}),value:function(C){if(!arguments.length){return this._parse(this.element.val())}A(this._value).call(this,C)},widget:function(){return this.uiSpinner}})}(jQuery));
/*
 * jQuery UI Progressbar 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
(function(B,A){B.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=B("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(C){if(C===A){return this.options.value}this.options.value=this._constrainedValue(C);this._refreshValue()},_constrainedValue:function(C){if(C===A){C=this.options.value}this.indeterminate=C===false;if(typeof C!=="number"){C=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,C))},_setOptions:function(C){var D=C.value;delete C.value;this._super(C);this.options.value=this._constrainedValue(D);this._refreshValue()},_setOption:function(C,D){if(C==="max"){D=Math.max(this.min,D)}this._super(C,D)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var D=this.options.value,C=this._percentage();this.valueDiv.toggle(this.indeterminate||D>this.min).toggleClass("ui-corner-right",D===this.options.max).width(C.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=B("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":D});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==D){this.oldValue=D;this._trigger("change")}if(D===this.options.max){this._trigger("complete")}}})})(jQuery);
/*
 * jQuery UI Tabs 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(F,D){var E=0,B=/#.*$/;function C(){return ++E}function A(G){G=G.cloneNode(false);return G.hash.length>1&&decodeURIComponent(G.href.replace(B,""))===decodeURIComponent(location.href.replace(B,""))}F.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var G=this,H=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",H.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(I){if(F(this).is(".ui-state-disabled")){I.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(F(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();H.active=this._initialActive();if(F.isArray(H.disabled)){H.disabled=F.unique(H.disabled.concat(F.map(this.tabs.filter(".ui-state-disabled"),function(I){return G.tabs.index(I)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(H.active)}else{this.active=F()}this._refresh();if(this.active.length){this.load(H.active)}},_initialActive:function(){var H=this.options.active,G=this.options.collapsible,I=location.hash.substring(1);if(H===null){if(I){this.tabs.each(function(J,K){if(F(K).attr("aria-controls")===I){H=J;return false}})}if(H===null){H=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(H===null||H===-1){H=this.tabs.length?0:false}}if(H!==false){H=this.tabs.index(this.tabs.eq(H));if(H===-1){H=G?false:0}}if(!G&&H===false&&this.anchors.length){H=0}return H},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?F():this._getPanelForTab(this.active)}},_tabKeydown:function(I){var J=F(this.document[0].activeElement).closest("li"),H=this.tabs.index(J),G=true;if(this._handlePageNav(I)){return}switch(I.keyCode){case F.ui.keyCode.RIGHT:case F.ui.keyCode.DOWN:H++;break;case F.ui.keyCode.UP:case F.ui.keyCode.LEFT:G=false;H--;break;case F.ui.keyCode.END:H=this.anchors.length-1;break;case F.ui.keyCode.HOME:H=0;break;case F.ui.keyCode.SPACE:I.preventDefault();clearTimeout(this.activating);this._activate(H);return;case F.ui.keyCode.ENTER:I.preventDefault();clearTimeout(this.activating);this._activate(H===this.options.active?false:H);return;default:return}I.preventDefault();clearTimeout(this.activating);H=this._focusNextTab(H,G);if(!I.ctrlKey){J.attr("aria-selected","false");this.tabs.eq(H).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",H)},this.delay)}},_panelKeydown:function(G){if(this._handlePageNav(G)){return}if(G.ctrlKey&&G.keyCode===F.ui.keyCode.UP){G.preventDefault();this.active.focus()}},_handlePageNav:function(G){if(G.altKey&&G.keyCode===F.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(G.altKey&&G.keyCode===F.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(H,G){var I=this.tabs.length-1;function J(){if(H>I){H=0}if(H<0){H=I}return H}while(F.inArray(J(),this.options.disabled)!==-1){H=G?H+1:H-1}return H},_focusNextTab:function(H,G){H=this._findNextTab(H,G);this.tabs.eq(H).focus();return H},_setOption:function(G,H){if(G==="active"){this._activate(H);return}if(G==="disabled"){this._setupDisabled(H);return}this._super(G,H);if(G==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",H);if(!H&&this.options.active===false){this._activate(0)}}if(G==="event"){this._setupEvents(H)}if(G==="heightStyle"){this._setupHeightStyle(H)}},_tabId:function(G){return G.attr("aria-controls")||"ui-tabs-"+C()},_sanitizeSelector:function(G){return G?G.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var H=this.options,G=this.tablist.children(":has(a[href])");H.disabled=F.map(G.filter(".ui-state-disabled"),function(I){return G.index(I)});this._processTabs();if(H.active===false||!this.anchors.length){H.active=false;this.active=F()}else{if(this.active.length&&!F.contains(this.tablist[0],this.active[0])){if(this.tabs.length===H.disabled.length){H.active=false;this.active=F()}else{this._activate(this._findNextTab(Math.max(0,H.active-1),false))}}else{H.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var G=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return F("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=F();this.anchors.each(function(M,H){var N,O,K,J=F(H).uniqueId().attr("id"),L=F(H).closest("li"),I=L.attr("aria-controls");if(A(H)){N=H.hash;O=G.element.find(G._sanitizeSelector(N))}else{K=G._tabId(L);N="#"+K;O=G.element.find(N);if(!O.length){O=G._createPanel(K);O.insertAfter(G.panels[M-1]||G.tablist)}O.attr("aria-live","polite")}if(O.length){G.panels=G.panels.add(O)}if(I){L.data("ui-tabs-aria-controls",I)}L.attr({"aria-controls":N.substring(1),"aria-labelledby":J});O.attr("aria-labelledby",J)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(G){return F("<div>").attr("id",G).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(I){if(F.isArray(I)){if(!I.length){I=false}else{if(I.length===this.anchors.length){I=true}}}for(var G=0,H;(H=this.tabs[G]);G++){if(I===true||F.inArray(G,I)!==-1){F(H).addClass("ui-state-disabled").attr("aria-disabled","true")}else{F(H).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=I},_setupEvents:function(G){var H={click:function(I){I.preventDefault()}};if(G){F.each(G.split(" "),function(J,I){H[I]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,H);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(I){var H,G=this.element.parent();if(I==="fill"){H=G.height();H-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var K=F(this),J=K.css("position");if(J==="absolute"||J==="fixed"){return}H-=K.outerHeight(true)});this.element.children().not(this.panels).each(function(){H-=F(this).outerHeight(true)});this.panels.each(function(){F(this).height(Math.max(0,H-F(this).innerHeight()+F(this).height()))}).css("overflow","auto")}else{if(I==="auto"){H=0;this.panels.each(function(){H=Math.max(H,F(this).height("").height())}).height(H)}}},_eventHandler:function(P){var L=this.options,M=this.active,G=F(P.currentTarget),O=G.closest("li"),J=O[0]===M[0],I=J&&L.collapsible,N=I?F():this._getPanelForTab(O),H=!M.length?F():this._getPanelForTab(M),K={oldTab:M,oldPanel:H,newTab:I?F():O,newPanel:N};P.preventDefault();if(O.hasClass("ui-state-disabled")||O.hasClass("ui-tabs-loading")||this.running||(J&&!L.collapsible)||(this._trigger("beforeActivate",P,K)===false)){return}L.active=I?false:this.tabs.index(O);this.active=J?F():O;if(this.xhr){this.xhr.abort()}if(!H.length&&!N.length){F.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(N.length){this.load(this.tabs.index(O),P)}this._toggle(P,K)},_toggle:function(K,M){var I=this,H=M.newPanel,J=M.oldPanel;this.running=true;function G(){I.running=false;I._trigger("activate",K,M)}function L(){M.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(H.length&&I.options.show){I._show(H,I.options.show,G)}else{H.show();G()}}if(J.length&&this.options.hide){this._hide(J,this.options.hide,function(){M.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");L()})}else{M.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");J.hide();L()}J.attr({"aria-expanded":"false","aria-hidden":"true"});M.oldTab.attr("aria-selected","false");if(H.length&&J.length){M.oldTab.attr("tabIndex",-1)}else{if(H.length){this.tabs.filter(function(){return F(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}H.attr({"aria-expanded":"true","aria-hidden":"false"});M.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(H){var I,G=this._findActive(H);if(G[0]===this.active[0]){return}if(!G.length){G=this.active}I=G.find(".ui-tabs-anchor")[0];this._eventHandler({target:I,currentTarget:I,preventDefault:F.noop})},_findActive:function(G){return G===false?F():this.tabs.eq(G)},_getIndex:function(G){if(typeof G==="string"){G=this.anchors.index(this.anchors.filter("[href$='"+G+"']"))}return G},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(F.data(this,"ui-tabs-destroy")){F(this).remove()}else{F(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var G=F(this),H=G.data("ui-tabs-aria-controls");if(H){G.attr("aria-controls",H).removeData("ui-tabs-aria-controls")}else{G.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(G){var H=this.options.disabled;if(H===false){return}if(G===D){H=false}else{G=this._getIndex(G);if(F.isArray(H)){H=F.map(H,function(I){return I!==G?I:null})}else{H=F.map(this.tabs,function(J,I){return I!==G?I:null})}}this._setupDisabled(H)},disable:function(G){var H=this.options.disabled;if(H===true){return}if(G===D){H=true}else{G=this._getIndex(G);if(F.inArray(G,H)!==-1){return}if(F.isArray(H)){H=F.merge([G],H).sort()}else{H=[G]}}this._setupDisabled(H)},load:function(K,J){K=this._getIndex(K);var H=this,I=this.tabs.eq(K),L=I.find(".ui-tabs-anchor"),G=this._getPanelForTab(I),M={tab:I,panel:G};if(A(L[0])){return}this.xhr=F.ajax(this._ajaxSettings(L,J,M));if(this.xhr&&this.xhr.statusText!=="canceled"){I.addClass("ui-tabs-loading");G.attr("aria-busy","true");this.xhr.success(function(N){setTimeout(function(){G.html(N);H._trigger("load",J,M)},1)}).complete(function(N,O){setTimeout(function(){if(O==="abort"){H.panels.stop(false,true)}I.removeClass("ui-tabs-loading");G.removeAttr("aria-busy");if(N===H.xhr){delete H.xhr}},1)})}},_ajaxSettings:function(I,H,J){var G=this;return{url:I.attr("href"),beforeSend:function(K,L){return G._trigger("beforeLoad",H,F.extend({jqXHR:K,ajaxSettings:L},J))}}},_getPanelForTab:function(G){var H=F(G).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+H))}})})(jQuery);(function(){PixelAdmin.MainNavbar=function(){this._scroller=false;this._wheight=null;this.scroll_pos=0;return this};PixelAdmin.MainNavbar.prototype.init=function(){var A;this.$navbar=$("#main-navbar");this.$header=this.$navbar.find(".navbar-header");this.$toggle=this.$navbar.find(".navbar-toggle:first");this.$collapse=$("#main-navbar-collapse");this.$collapse_div=this.$collapse.find("> div");A=false;$(window).on("pa.screen.small pa.screen.tablet",(function(B){return function(){if(B.$navbar.css("position")==="fixed"){B._setupScroller()}return A=true}})(this)).on("pa.screen.desktop",(function(B){return function(){B._removeScroller();return A=false}})(this));return this.$navbar.on("click",".nav-icon-btn.dropdown > .dropdown-toggle",function(B){if(A){B.preventDefault();B.stopPropagation();document.location.href=$(this).attr("href");return false}})};PixelAdmin.MainNavbar.prototype._setupScroller=function(){if(this._scroller){return}this._scroller=true;this.$collapse_div.pixelSlimScroll({});this.$navbar.on("shown.bs.collapse.mn_collapse",$.proxy(((function(A){return function(){A._updateCollapseHeight();return A._watchWindowHeight()}})(this)),this)).on("hidden.bs.collapse.mn_collapse",$.proxy(((function(A){return function(){A._wheight=null;return A.$collapse_div.pixelSlimScroll({scrollTo:"0px"})}})(this)),this)).on("shown.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this)).on("hidden.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this));return this._updateCollapseHeight()};PixelAdmin.MainNavbar.prototype._removeScroller=function(){if(!this._scroller){return}this._wheight=null;this._scroller=false;this.$collapse_div.pixelSlimScroll({destroy:"destroy"});this.$navbar.off("shown.bs.collapse.mn_collapse");this.$navbar.off("hidden.bs.collapse.mn_collapse");this.$navbar.off("shown.bs.dropdown.mn_collapse");this.$navbar.off("hidden.bs.dropdown.mn_collapse");return this.$collapse.attr("style","")};PixelAdmin.MainNavbar.prototype._updateCollapseHeight=function(){var C,A,B;if(!this._scroller){return}B=$(window).innerHeight();C=this.$header.outerHeight();A=this.$collapse_div.scrollTop();if((C+this.$collapse_div.css({"max-height":"none"}).outerHeight())>B){this.$collapse_div.css({"max-height":B-C})}else{this.$collapse_div.css({"max-height":"none"})}return this.$collapse_div.pixelSlimScroll({scrollTo:A+"px"})};PixelAdmin.MainNavbar.prototype._watchWindowHeight=function(){var A;this._wheight=$(window).innerHeight();A=(function(B){return function(){if(B._wheight===null){return}if(B._wheight!==$(window).innerHeight()){B._updateCollapseHeight()}B._wheight=$(window).innerHeight();return setTimeout(A,100)}})(this);return window.setTimeout(A,100)};PixelAdmin.MainNavbar.Constructor=PixelAdmin.MainNavbar;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_navbar",new PixelAdmin.MainNavbar)})}).call(this);(function(){PixelAdmin.MainMenu=function(){this._screen=null;this._last_screen=null;this._animate=false;this._close_timer=null;this._dropdown_li=null;this._dropdown=null;return this};PixelAdmin.MainMenu.prototype.init=function(){var A,B;this.$menu=$("#main-menu");if(!this.$menu.length){return}this.$body=$("body");this.menu=this.$menu[0];this.$ssw_point=$("#small-screen-width-point");this.$tsw_point=$("#tablet-screen-width-point");A=this;if(PixelAdmin.settings.main_menu.store_state){B=this._getMenuState();document.body.className+=" disable-mm-animation";if(B!==null){this.$body[B==="collapsed"?"addClass":"removeClass"]("mmc")}setTimeout((function(C){return function(){return elRemoveClass(document.body,"disable-mm-animation")}})(this),20)}this.setupAnimation();$(window).on("resize.pa.mm",$.proxy(this.onResize,this));this.onResize();this.$menu.find(".navigation > .mm-dropdown").addClass("mm-dropdown-root");if(PixelAdmin.settings.main_menu.detect_active){this.detectActiveItem()}if($.support.transition){this.$menu.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",$.proxy(this._onAnimationEnd,this))}$("#main-menu-toggle").on("click",$.proxy(this.toggle,this));$("#main-menu-inner").slimScroll({height:"100%"}).on("slimscrolling",(function(C){return function(){return C.closeCurrentDropdown(true)}})(this));this.$menu.on("click",".mm-dropdown > a",function(){var C;C=this.parentNode;if(elHasClass(C,"mm-dropdown-root")&&A._collapsed()){if(elHasClass(C,"mmc-dropdown-open")){if(elHasClass(C,"freeze")){A.closeCurrentDropdown(true)}else{A.freezeDropdown(C)}}else{A.openDropdown(C,true)}}else{A.toggleSubmenu(C)}return false});this.$menu.find(".navigation").on("mouseenter.pa.mm-dropdown",".mm-dropdown-root",function(){A.clearCloseTimer();if(A._dropdown_li===this){return}if(A._collapsed()&&(!A._dropdown_li||!elHasClass(A._dropdown_li,"freeze"))){return A.openDropdown(this)}}).on("mouseleave.pa.mm-dropdown",".mm-dropdown-root",function(){return A._close_timer=setTimeout(function(){return A.closeCurrentDropdown()},PixelAdmin.settings.main_menu.dropdown_close_delay)});return this};PixelAdmin.MainMenu.prototype._collapsed=function(){return(this._screen==="desktop"&&elHasClass(document.body,"mmc"))||(this._screen!=="desktop"&&!elHasClass(document.body,"mme"))};PixelAdmin.MainMenu.prototype.onResize=function(){this._screen=getScreenSize(this.$ssw_point,this.$tsw_point);this._animate=PixelAdmin.settings.main_menu.disable_animation_on.indexOf(screen)===-1;if(this._dropdown_li){this.closeCurrentDropdown(true)}if((this._screen==="small"&&this._last_screen!==this._screen)||(this._screen==="tablet"&&this._last_screen==="small")){document.body.className+=" disable-mm-animation";setTimeout((function(A){return function(){return elRemoveClass(document.body,"disable-mm-animation")}})(this),20)}return this._last_screen=this._screen};PixelAdmin.MainMenu.prototype.clearCloseTimer=function(){if(this._close_timer){clearTimeout(this._close_timer);return this._close_timer=null}};PixelAdmin.MainMenu.prototype._onAnimationEnd=function(A){if(this._screen!=="desktop"||A.target.id!=="main-menu"){return}return $(window).trigger("resize")};PixelAdmin.MainMenu.prototype.toggle=function(){var B,A;B=this._screen==="small"||this._screen==="tablet"?"mme":"mmc";if(elHasClass(document.body,B)){elRemoveClass(document.body,B)}else{document.body.className+=" "+B}if(B==="mmc"){if(PixelAdmin.settings.main_menu.store_state){this._storeMenuState(elHasClass(document.body,"mmc"))}if(!$.support.transition){return $(window).trigger("resize")}}else{A=document.getElementById("");$("#main-navbar-collapse").stop().removeClass("in collapsing").addClass("collapse")[0].style.height="0px";return $("#main-navbar .navbar-toggle").addClass("collapsed")}};PixelAdmin.MainMenu.prototype.toggleSubmenu=function(A){this[elHasClass(A,"open")?"collapseSubmenu":"expandSubmenu"](A);return false};PixelAdmin.MainMenu.prototype.collapseSubmenu=function(B){var C,A;C=$(B);A=C.find("> ul");if(this._animate){A.animate({height:0},PixelAdmin.settings.main_menu.animation_speed,(function(D){return function(){elRemoveClass(B,"open");A.attr("style","");return C.find(".mm-dropdown.open").removeClass("open").find("> ul").attr("style","")}})(this))}else{elRemoveClass(B,"open")}return false};PixelAdmin.MainMenu.prototype.expandSubmenu=function(D){var E,A,B,C;E=$(D);if(PixelAdmin.settings.main_menu.accordion){this.collapseAllSubmenus(D)}if(this._animate){A=E.find("> ul");C=A[0];C.className+=" get-height";B=A.height();elRemoveClass(C,"get-height");C.style.display="block";C.style.height="0px";D.className+=" open";return A.animate({height:B},PixelAdmin.settings.main_menu.animation_speed,(function(F){return function(){return A.attr("style","")}})(this))}else{return D.className+=" open"}};PixelAdmin.MainMenu.prototype.collapseAllSubmenus=function(B){var A;A=this;return $(B).parent().find("> .mm-dropdown.open").each(function(){return A.collapseSubmenu(this)})};PixelAdmin.MainMenu.prototype.openDropdown=function(F,D){var G,H,M,L,I,E,A,C,J,B,K;if(D==null){D=false}if(this._dropdown_li){this.closeCurrentDropdown(D)}G=$(F);M=G.find("> ul");J=M[0];this._dropdown_li=F;this._dropdown=J;H=M.find("> .mmc-title");if(!H.length){H=$('<div class="mmc-title"></div>').text(G.find("> a > .mm-text").text());J.insertBefore(H[0],J.firstChild)}F.className+=" mmc-dropdown-open";J.className+=" mmc-dropdown-open-ul";C=G.position().top;if(elHasClass(document.body,"main-menu-fixed")){L=M.find(".mmc-wrapper");if(!L.length){K=document.createElement("div");K.className="mmc-wrapper";K.style.overflow="hidden";K.style.position="relative";L=$(K);L.append(M.find("> li"));J.appendChild(K)}B=$(window).innerHeight();A=H.outerHeight();E=A+M.find(".mmc-wrapper > li").first().outerHeight()*3;if((C+E)>B){I=C-$("#main-navbar").outerHeight();J.className+=" top";J.style.bottom=(B-C-A)+"px"}else{I=B-C-A;J.style.top=C+"px"}if(elHasClass(J,"top")){J.appendChild(H[0])}else{J.insertBefore(H[0],J.firstChild)}F.className+=" slimscroll-attached";L[0].style.maxHeight=(I-10)+"px";L.pixelSlimScroll({})}else{J.style.top=C+"px"}if(D){this.freezeDropdown(F)}if(!D){M.on("mouseenter",(function(N){return function(){return N.clearCloseTimer()}})(this)).on("mouseleave",(function(N){return function(){return N._close_timer=setTimeout(function(){return N.closeCurrentDropdown()},PixelAdmin.settings.main_menu.dropdown_close_delay)}})(this));this}return this.menu.appendChild(J)};PixelAdmin.MainMenu.prototype.closeCurrentDropdown=function(B){var C,A;if(B==null){B=false}if(!this._dropdown_li||(elHasClass(this._dropdown_li,"freeze")&&!B)){return}this.clearCloseTimer();C=$(this._dropdown);if(elHasClass(this._dropdown_li,"slimscroll-attached")){elRemoveClass(this._dropdown_li,"slimscroll-attached");A=C.find(".mmc-wrapper");A.pixelSlimScroll({destroy:"destroy"}).find("> *").appendTo(C);A.remove()}this._dropdown_li.appendChild(this._dropdown);elRemoveClass(this._dropdown,"mmc-dropdown-open-ul");elRemoveClass(this._dropdown,"top");elRemoveClass(this._dropdown_li,"mmc-dropdown-open");elRemoveClass(this._dropdown_li,"freeze");$(this._dropdown_li).attr("style","");C.attr("style","").off("mouseenter").off("mouseleave");this._dropdown=null;return this._dropdown_li=null};PixelAdmin.MainMenu.prototype.freezeDropdown=function(A){return A.className+=" freeze"};PixelAdmin.MainMenu.prototype.setupAnimation=function(){var D,C,B,A;B=document.body;A=PixelAdmin.settings.main_menu.disable_animation_on;B.className+=" dont-animate-mm-content";D=$("#main-menu");C=D.find(".navigation");C.find("> .mm-dropdown > ul").addClass("mmc-dropdown-delay animated");C.find("> li > a > .mm-text").addClass("mmc-dropdown-delay animated fadeIn");D.find(".menu-content").addClass("animated fadeIn");if(elHasClass(B,"main-menu-right")||(elHasClass(B,"right-to-left")&&!elHasClass(B,"main-menu-right"))){C.find("> .mm-dropdown > ul").addClass("fadeInRight")}else{C.find("> .mm-dropdown > ul").addClass("fadeInLeft")}B.className+=A.indexOf("small")===-1?" animate-mm-sm":" dont-animate-mm-content-sm";B.className+=A.indexOf("tablet")===-1?" animate-mm-md":" dont-animate-mm-content-md";B.className+=A.indexOf("desktop")===-1?" animate-mm-lg":" dont-animate-mm-content-lg";return window.setTimeout(function(){return elRemoveClass(B,"dont-animate-mm-content")},500)};PixelAdmin.MainMenu.prototype.detectActiveItem=function(){var I,H,C,F,E,G,A,B,D;G=(document.location+"").replace(/\#.*?$/,"");E=PixelAdmin.settings.main_menu.detect_active_predicate;F=$("#main-menu .navigation");F.find("li").removeClass("open active");C=F[0].getElementsByTagName("a");H=(function(J){return function(K){K.className+=" active";if(!elHasClass(K.parentNode,"navigation")){K=K.parentNode.parentNode;K.className+=" open";return H(K)}}})(this);D=[];for(A=0,B=C.length;A<B;A++){I=C[A];if(I.href.indexOf("#")===-1&&E(I.href,G)){H(I.parentNode);break}else{D.push(void 0)}}return D};PixelAdmin.MainMenu.prototype._getMenuState=function(){return PixelAdmin.getStoredValue(PixelAdmin.settings.main_menu.store_state_key,null)};PixelAdmin.MainMenu.prototype._storeMenuState=function(A){if(!PixelAdmin.settings.main_menu.store_state){return}return PixelAdmin.storeValue(PixelAdmin.settings.main_menu.store_state_key,A?"collapsed":"expanded")};PixelAdmin.MainMenu.Constructor=PixelAdmin.MainMenu;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_menu",new PixelAdmin.MainMenu)})}).call(this);(function(){var B,A;B="pa-page-alerts-box";A=function(){return this};A.DEFAULTS={type:"warning",close_btn:true,classes:false,namespace:"pa_page_alerts",animate:true,auto_close:false};A.TYPES_HASH={warning:"",danger:"alert-danger",success:"alert-success",info:"alert-info"};A.prototype.init=function(){var C;C=this;return $("#main-wrapper").on("click.pa.alerts","#"+B+" .close",function(){C.close($(this).parents(".alert"));return false})};A.prototype.add=function(I,F){var E,D,G,J,C,H;F=$.extend({},A.DEFAULTS,F||{});E=$('<div class="alert alert-page '+F.namespace+" "+A.TYPES_HASH[F.type]+'" />').html(I);if(F.classes){E.addClass(F.classes)}if(F.close_btn){E.prepend($('<button type="button" class="close" />').html("&times;"))}if(F.animate){E.attr("data-animate","true")}G=$("#"+B);if(!G.length){G=$('<div id="'+B+'" />').prependTo($("#content-wrapper"))}D=$("#"+B+" ."+F.namespace);J=E.css({visibility:"hidden",position:"absolute",width:"100%"}).appendTo("body").outerHeight();H=E.css("padding-top");C=E.css("padding-bottom");if(F.animate){E.attr("style","").css({overflow:"hidden",height:0,"padding-top":0,"padding-bottom":0})}if(D.length){D.last().after(E)}else{G.append(E)}if(F.animate){return E.animate({"height":J,"padding-top":H,"padding-bottom":C},500,(function(K){return function(){E.attr("style","");if(F.auto_close){return $.data(E,"timer",setTimeout(function(){return K.close(E)},F.auto_close*1000))}}})(this))}else{return E.attr("style","")}};A.prototype.close=function(C){if(C.attr("data-animate")==="true"){return C.animate({"height":0,"padding-top":0,"padding-bottom":0},500,function(){if($.data(C,"timer")){clearTimeout($.data(C,"timer"))}return C.remove()})}else{if($.data(C,"timer")){clearTimeout($.data(C,"timer"))}return C.remove()}};A.prototype.clear=function(E,C){var F,D;if(E==null){E=true}if(C==null){C="pa_page_alerts"}F=$("#"+B+" ."+C);if(F.length){D=this;if(E){return F.each(function(){return D.close($(this))})}else{return F.remove()}}};A.prototype.clearAll=function(D){var C;if(D==null){D=true}if(D){C=this;return $("#"+B+" .alert").each(function(){return C.close($(this))})}else{return $("#"+B).remove()}};A.prototype.getContainerId=function(){return B};A.Constructor=A;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("alerts",new A)})}).call(this);(function(){var A;A=function(D,C){var B;if(C==null){C={}}this.options=$.extend({},A.DEFAULTS,C);this.$checkbox=null;this.$box=null;if(D.is('input[type="checkbox"]')){B=D.attr("data-class");this.$checkbox=D;this.$box=$('<div class="switcher"><div class="switcher-toggler"></div><div class="switcher-inner"><div class="switcher-state-on">'+this.options.on_state_content+'</div><div class="switcher-state-off">'+this.options.off_state_content+"</div></div></div>");if(this.options.theme){this.$box.addClass("switcher-theme-"+this.options.theme)}if(B){this.$box.addClass(B)}this.$box.insertAfter(this.$checkbox).prepend(this.$checkbox)}else{this.$box=D;this.$checkbox=$('input[type="checkbox"]',this.$box)}if(this.$checkbox.prop("disabled")){this.$box.addClass("disabled")}if(this.$checkbox.is(":checked")){this.$box.addClass("checked")}this.$checkbox.on("click",function(E){return E.stopPropagation()});this.$box.on("touchend click",(function(E){return function(F){F.stopPropagation();F.preventDefault();return E.toggle()}})(this));return this};A.prototype.enable=function(){this.$checkbox.prop("disabled",false);return this.$box.removeClass("disabled")};A.prototype.disable=function(){this.$checkbox.prop("disabled",true);return this.$box.addClass("disabled")};A.prototype.on=function(){if(!this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.addClass("checked")}};A.prototype.off=function(){if(this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.removeClass("checked")}};A.prototype.toggle=function(){if(this.$checkbox.click().is(":checked")){return this.$box.addClass("checked")}else{return this.$box.removeClass("checked")}};A.DEFAULTS={theme:null,on_state_content:"ON",off_state_content:"OFF"};$.fn.switcher=function(C,B){return $(this).each(function(){var E,D;E=$(this);D=$.data(this,"Switcher");if(!D){return $.data(this,"Switcher",new A(E,C))}else{if(C==="enable"){return D.enable()}else{if(C==="disable"){return D.disable()}else{if(C==="on"){return D.on()}else{if(C==="off"){return D.off()}else{if(C==="toggle"){return D.toggle()}}}}}}})};$.fn.switcher.Constructor=A}).call(this);(function(){var A;A=function(C,D,B){if(B==null){B={}}this.limit=D;this.$el=C;this.options=$.extend({},A.DEFAULTS,B||{});this.$label=this.options.label&&$(this.options.label).length?$(".limiter-count",this.options.label):null;this.textarea=this.$el.is("textarea");if(!this.textarea){this.$el.attr("maxlength",this.limit)}this.$el.on("keyup focus",$.proxy(this.updateCounter,this));return this.updateCounter()};A.prototype.updateCounter=function(){var C,B;B=this.textarea?this.$el[0].value.replace(/\r?\n/g,"\n"):this.$el.val();C=B.length;if(C>this.limit){this.$el.val(B.substr(0,this.limit));C=this.limit}if(this.$label){return this.$label.html(this.limit-C)}};A.DEFAULTS={label:null};$.fn.limiter=function(C,B){return this.each(function(){var D;D=$(this);if(!D.attr("data-limiter")){return $.data(D,"limiter",new A(D,C,B))}})};$.fn.limiter.Constructor=A}).call(this);(function(){var A;A=function(C,B){if(B==null){B={}}this.options=$.extend({},A.DEFAULTS,B||{});this.$container=C;this.$target=this.options.target&&this.$container.find(this.options.target).length?this.$container.find(this.options.target):null;this.$content=this.options.hidden_content&&this.$container.find(this.options.hidden_content).length?this.$container.find(this.options.hidden_content):null;this.$container.addClass("expanding-input");if(this.$target){this.$target.addClass("expanding-input-target");if(this.$target.hasClass("input-sm")){this.$container.addClass("expanding-input-sm")}if(this.$target.hasClass("input-lg")){this.$container.addClass("expanding-input-lg")}}if(this.$content){this.$content.addClass("expanding-input-content")}this.$overlay=$('<div class="expanding-input-overlay"></div>').appendTo(this.$container);if(this.$target&&this.$target.attr("placeholder")){if(!this.options.placeholder){this.options.placeholder=this.$target.attr("placeholder")}this.$target.attr("placeholder","")}if(this.options.placeholder){this.$overlay.append($('<div class="expanding-input-placeholder"></div>').html(this.options.placeholder))}if(this.$target){this.$target.on("focus",$.proxy(this.expand,this))}return this.$overlay.on("click.expanding_input",$.proxy(this.expand,this))};A.prototype.expand=function(){if(this.$container.hasClass("expanded")){return}if(this.options.onBeforeExpand){this.options.onBeforeExpand.call(this)}this.$overlay.remove();this.$container.addClass("expanded");if(this.$target){setTimeout((function(B){return function(){return B.$target.focus()}})(this),1)}if(this.$target&&this.options.placeholder){this.$target.attr("placeholder",$("<div>"+this.options.placeholder+"</div>").text())}if(this.options.onAfterExpand){return this.options.onAfterExpand.call(this)}};A.DEFAULTS={target:null,hidden_content:null,placeholder:null,onBeforeExpand:null,onAfterExpand:null};$.fn.expandingInput=function(B){return this.each(function(){var C;C=$(this);if(!C.attr("data-expandingInput")){return $.data(C,"expandingInput",new A(C,B))}})};$.fn.expandingInput.Constructor=A}).call(this);(function(){var A,B;B=function(C,D){return C.css({"width":D,"max-width":D,"min-width":D})};A=function(F,D){var E,C;if(D==null){D={}}this.options=$.extend({},A.DEFAULTS,D||{});this.$element=F;this.$wrapper=$(".wizard-wrapper",this.$element);this.$steps=$(".wizard-steps",this.$wrapper);this.$step_items=$("> li",this.$steps);this.steps_count=this.$step_items.length;this.$content=$(".wizard-content",this.$element);this.current_step=null;this.$current_item=null;this.isFreeze=false;this.isRtl=$("body").hasClass("right-to-left");this.resizeStepItems();E=$("> li.active",this.$steps);if(E.length===0){E=$("> li:first-child",this.$steps)}this.$current_item=E.addClass("active");this.current_step=E.index()+1;$(E.attr("data-target"),this.$content).css({display:"block"});this.placeStepItems();this._setPrevItemStates(this.current_step-1);$(window).on("pa.resize.wizard",(function(G){return function(){$.proxy(G.resizeStepItems,G)();return $.proxy(G.placeStepItems,G)()}})(this));C=this;this.$steps.on("click","> li",function(){var G;G=$(this);if(G.hasClass("completed")){return C.setCurrentStep(G.index()+1)}});return this};A.DEFAULTS={step_item_min_width:200,onChange:null,onFinish:null};A.prototype.resizeStepItems=function(){var C;if(this.$element.width()>(A.DEFAULTS.step_item_min_width*this.$step_items.length)){C=Math.floor(this.$element.width()/this.$step_items.length)}else{C=A.DEFAULTS.step_item_min_width}return this.$step_items.each(function(){return B($(this),C)})};A.prototype.placeStepItems=function(){var I,C,E,G,F,H,D;H=0;G=this.$current_item.position();E=this.$element.outerWidth();D=this.$steps.outerWidth();I=this.$current_item.outerWidth();C=(E-I)/2;if(!this.isRtl){if(E<D&&G.left>C){H=-1*G.left+C;if((D+H)<E){H=-1*D+E}}return this.$steps.css({left:H})}else{F=D-G.left-I;if(E<D&&F>C){H=-1*F+C;if((D+H)<E){H=-1*D+E}}return this.$steps.css({right:H})}};A.prototype.setCurrentStep=function(C){if(this.isFreeze){return}return $(this.$current_item.attr("data-target"),this.$content).css({opacity:1}).animate({opacity:0},200,(function(D){return function(){$(D.$current_item.attr("data-target"),D.$content).attr("style","");D._clearItemStates(C-1);D.$current_item=D.$step_items.eq(C-1).addClass("active");D.current_step=C;D._setPrevItemStates(C-1);return $(D.$current_item.attr("data-target"),D.$content).css({display:"block",opacity:0}).animate({opacity:1},200,function(){if(D.options.onChange){$.proxy(D.options.onChange,D)()}return D.placeStepItems()})}})(this))};A.prototype.nextStep=function(){if(this.isFreeze){return}if(this.current_step>=this.steps_count){if(this.options.onFinish){$.proxy(this.options.onFinish,this)()}return}this.$current_item.removeClass("active").addClass("completed");return this.setCurrentStep(this.current_step+1)};A.prototype.prevStep=function(){if(this.isFreeze){return}if(this.current_step<=1){return}return this.setCurrentStep(this.current_step-1)};A.prototype.currentStep=function(){return this.current_step};A.prototype._clearItemStates=function(G){var D,E,F,C;C=[];for(D=E=G,F=this.steps_count;G<=F?E<F:E>F;D=G<=F?++E:--E){C.push(this.$step_items.eq(D).removeClass("active").removeClass("completed"))}return C};A.prototype._setPrevItemStates=function(E){var C,D,F;F=[];for(C=D=0;0<=E?D<E:D>E;C=0<=E?++D:--D){F.push(this.$step_items.eq(C).addClass("completed"))}return F};A.prototype.freeze=function(){this.isFreeze=true;return this.$element.addClass("freeze")};A.prototype.unfreeze=function(){this.isFreeze=false;return this.$element.removeClass("freeze")};$.fn.pixelWizard=function(E,D){var F,C;C=void 0;F=this.each(function(){var H,G;H=$(this);if(!$.data(this,"pixelWizard")){return $.data(this,"pixelWizard",new A(H,E))}else{if(E&&typeof E==="string"){G=$.data(this,"pixelWizard");if(E==="setCurrentStep"){return G.setCurrentStep(D)}else{if(E==="currentStep"){return C=G.currentStep()}else{if(E==="nextStep"){return G.nextStep()}else{if(E==="prevStep"){return G.prevStep()}else{if(E==="freeze"){return G.freeze()}else{if(E==="unfreeze"){return G.unfreeze()}else{if(E==="resizeSteps"){return G.resizeStepItems()}}}}}}}}}});return(C===void 0?F:C)};$.fn.pixelWizard.Constructor=A}).call(this);(function(){var A;A=function(B,C){if(C==null){C={}}this.options=$.extend({},A.DEFAULTS,C||{});this.$input=B;this.$el=$('<div class="pixel-file-input"><span class="pfi-filename"></span><div class="pfi-actions"></div></div>').insertAfter(B).append(B);this.$filename=$(".pfi-filename",this.$el);this.$clear_btn=$(this.options.clear_btn_tmpl).addClass("pfi-clear").appendTo($(".pfi-actions",this.$el));this.$choose_btn=$(this.options.choose_btn_tmpl).addClass("pfi-choose").appendTo($(".pfi-actions",this.$el));this.onChange();B.on("change",(function(D){return function(){return $.proxy(D.onChange,D)()}})(this)).on("click",function(D){return D.stopPropagation()});this.$el.on("click",function(){return B.click()});this.$choose_btn.on("click",function(D){return D.preventDefault()});return this.$clear_btn.on("click",(function(D){return function(E){B.wrap("<form>").parent("form").trigger("reset");B.unwrap();$.proxy(D.onChange,D)();E.stopPropagation();return E.preventDefault()}})(this))};A.DEFAULTS={choose_btn_tmpl:'<a href="#" class="btn btn-xs btn-primary">Choose</a>',clear_btn_tmpl:'<a href="#" class="btn btn-xs"><i class="fa fa-times"></i> Clear</a>',placeholder:null};A.prototype.onChange=function(){var B;B=this.$input.val().replace(/\\/g,"/");if(B!==""){this.$clear_btn.css("display","inline-block");this.$filename.removeClass("pfi-placeholder");return this.$filename.text(B.split("/").pop())}else{this.$clear_btn.css("display","none");if(this.options.placeholder){this.$filename.addClass("pfi-placeholder");return this.$filename.text(this.options.placeholder)}else{return this.$filename.text("")}}};$.fn.pixelFileInput=function(B){return this.each(function(){if(!$.data(this,"pixelFileInput")){return $.data(this,"pixelFileInput",new A($(this),B))}})};$.fn.pixelFileInput.Constructor=A}).call(this);(function(){var A;A=function(D,C){var B;if(C==null){C={}}this.$el=D;this.options=$.extend({},A.DEFAULTS,C);B=this;D.on("click",".task input[type=checkbox]",function(){return B.completeTask($(this))}).on("click",".task a",function(){$(this).parents(".task").find("input[type=checkbox]").click();return false});return this};A.prototype.completeTask=function(C){var B;B=C.parents(".task");if(B.toggleClass("completed").hasClass("completed")){return this.options.onComplete.call(this)}else{return this.options.onCancel.call(this)}};A.prototype.clearCompletedTasks=function(){$(".completed",this.$el).hide(200,function(){return $(this).remove()});return this.options.onClear.call(this)};A.DEFAULTS={onComplete:function(){},onCancel:function(){},onClear:function(){}};$.fn.pixelTasks=function(B){return $(this).each(function(){var D,C;D=$(this);C=$.data(this,"pixelTasks");if(!C){return $.data(this,"pixelTasks",new A(D,B))}else{if(B==="clearCompletedTasks"){return C.clearCompletedTasks()}}})};$.fn.pixelTasks.Constructor=A}).call(this);(function(){var A;A=function(F,D){var B,C,E,G;if(D==null){D={}}this.options=$.extend({},A.DEFAULTS,D);this.$container=$('<ul class="widget-rating"></ul>');for(B=E=0,G=this.options.stars_count;0<=G?E<G:E>G;B=0<=G?++E:--E){this.$container.append($('<li><a href="#" title="" class="widget-rating-item"></a></li>'))}F.append(this.$container);C=this;this.$container.find("a").on("mouseenter",function(){C.$container.find("li").removeClass(C.options.class_active);return $(this).parents("li").addClass(C.options.class_active).prevAll("li").addClass(C.options.class_active)}).on("mouseleave",function(){return C.setRating(C.options.rating)}).on("click",function(){C.options.onRatingChange.call(C,$(this).parents("li").prevAll("li").length+1);return false});this.setRating(this.options.rating);return this};A.prototype.setRating=function(B){this.options.rating=B;if((B-Math.floor(B))>this.options.lower_limit){B=Math.ceil(B)}else{B=Math.floor(B)}return this.$container.find("li").removeClass(this.options.class_active).slice(0,B).addClass(this.options.class_active)};A.DEFAULTS={stars_count:5,rating:0,class_active:"active",lower_limit:0.35,onRatingChange:function(B){}};$.fn.pixelRating=function(B,C){return $(this).each(function(){var E,D;E=$(this);D=$.data(this,"pixelRating");if(!D){return $.data(this,"pixelRating",new A(E,B))}else{if(B==="setRating"){return D.setRating(C)}}})};$.fn.pixelRating.Constructor=A}).call(this);(function(A){jQuery.fn.extend({pixelSlimScroll:function(C){var D={width:"auto",size:"2px",color:"#000",distance:"1px",start:"top",opacity:0.4,railColor:"#333",railOpacity:0.2,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"0px",railBorderRadius:"0px"};var B=A.extend(D,C);this.each(function(){var X,R,U,N,L,O,Y,K,V="<div></div>",T=30,F=false;var M=A(this);if(M.parent().hasClass(B.wrapperClass)){var P=M.scrollTop();H=M.parent().find("."+B.barClass);G=M.parent().find("."+B.railClass);S();if(A.isPlainObject(C)){if("scrollTo" in C){P=parseInt(B.scrollTo)}else{if("scrollBy" in C){P+=parseInt(B.scrollBy)}else{if("destroy" in C){H.remove();G.remove();M.unwrap();return}}}I(P,false,true)}return}var E=A(V).addClass(B.wrapperClass).css({position:"relative",overflow:"hidden",width:B.width});M.css({overflow:"hidden",width:B.width});var G=A(V).addClass(B.railClass).css({width:B.size,height:"100%",position:"absolute",top:0,display:"none","border-radius":B.railBorderRadius,background:B.railColor,opacity:B.railOpacity,zIndex:90});var H=A(V).addClass(B.barClass).css({background:B.color,width:B.size,position:"absolute",top:0,opacity:B.opacity,display:"block","border-radius":B.borderRadius,BorderRadius:B.borderRadius,MozBorderRadius:B.borderRadius,WebkitBorderRadius:B.borderRadius,zIndex:99});G.css({right:B.distance});H.css({right:B.distance});M.wrap(E);M.parent().append(H);M.parent().append(G);H.bind("mousedown",function(b){var c=A(document);U=true;t=parseFloat(H.css("top"));pageY=b.pageY;c.bind("mousemove.slimscroll",function(d){currTop=t+d.pageY-pageY;H.css("top",currTop);I(0,H.position().top,false)});c.bind("mouseup.slimscroll",function(d){U=false;Q();c.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(b){b.stopPropagation();b.preventDefault();return false});G.hover(function(){W()},function(){Q()});H.hover(function(){R=true},function(){R=false});M.hover(function(){X=true;W();Q()},function(){X=false;Q()});M.bind("touchstart",function(c,d){if(c.originalEvent.touches.length){L=c.originalEvent.touches[0].pageY}});M.bind("touchmove",function(b){if(!F){b.originalEvent.preventDefault()}if(b.originalEvent.touches.length){var c=(L-b.originalEvent.touches[0].pageY)/B.touchScrollStep;I(c,true);L=b.originalEvent.touches[0].pageY}});S();Z();function J(c){if(!X){return}var c=c||window.event;var b=0;if(c.wheelDelta){b=-c.wheelDelta/120}if(c.detail){b=c.detail/3}var d=c.target||c.srcTarget||c.srcElement;if(A(d).closest("."+B.wrapperClass).is(M.parent())){I(b,true)}if(c.preventDefault&&!F){c.preventDefault()}if(!F){c.returnValue=false}}function I(f,d,g){F=false;var b=f;var c=M.outerHeight()-H.outerHeight();if(d){b=parseInt(H.css("top"))+f*parseInt(B.wheelStep)/100*H.outerHeight();b=Math.min(Math.max(b,0),c);b=(f>0)?Math.ceil(b):Math.floor(b);H.css({top:b+"px"})}Y=parseInt(H.css("top"))/(M.outerHeight()-H.outerHeight());b=Y*(M[0].scrollHeight-M.outerHeight());if(g){b=f;var e=b/M[0].scrollHeight*M.outerHeight();e=Math.min(Math.max(e,0),c);H.css({top:e+"px"})}M.scrollTop(b);M.trigger("slimscrolling",~~b);W();Q()}function Z(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",J,false);this.addEventListener("mousewheel",J,false)}else{document.attachEvent("onmousewheel",J)}}function S(){O=Math.max((M.outerHeight()/M[0].scrollHeight)*M.outerHeight(),T);H.css({height:O+"px"});var b=O==M.outerHeight()?"none":"block";H.css({display:b})}function W(){S();clearTimeout(N);if(Y==~~Y){F=B.allowPageScroll;if(K!=Y){var b=(~~Y==0)?"top":"bottom";M.trigger("slimscroll",b)}}else{F=false}K=Y;if(O>=M.outerHeight()){F=true;return}H.stop(true,true).fadeIn("fast")}function Q(){}});return this}});jQuery.fn.extend({pixelslimscroll:jQuery.fn.pixelSlimScroll})})(jQuery);(function(M,B){var O=M(window);function A(){return new Date(Date.UTC.apply(Date,arguments))}function K(){var Q=new Date();return A(Q.getFullYear(),Q.getMonth(),Q.getDate())}function P(Q){return function(){return this[Q].apply(this,arguments)}}var H=(function(){var Q={get:function(R){return this.slice(R)[0]},contains:function(R){var U=R&&R.valueOf();for(var S=0,T=this.length;S<T;S++){if(this[S].valueOf()===U){return S}}return -1},remove:function(R){this.splice(R,1)},replace:function(R){if(!R){return}if(!M.isArray(R)){R=[R]}this.clear();this.push.apply(this,R)},clear:function(){this.splice(0)},copy:function(){var R=new H();R.replace(this);return R}};return function(){var R=[];R.push.apply(R,arguments);M.extend(R,Q);return R}})();var F=function(R,Q){this.dates=new H();this.viewDate=K();this.focusDate=null;this._process_options(Q);this.element=M(R);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=M(I.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(S,T){return parseInt(T)+1})}this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};F.prototype={constructor:F,_process_options:function(R){this._o=M.extend({},this._o,R);var S=this.o=M.extend({},this._o);var V=S.language;if(!J[V]){V=V.split("-")[0];if(!J[V]){V=E.language}}S.language=V;switch(S.startView){case 2:case"decade":S.startView=2;break;case 1:case"year":S.startView=1;break;default:S.startView=0}switch(S.minViewMode){case 1:case"months":S.minViewMode=1;break;case 2:case"years":S.minViewMode=2;break;default:S.minViewMode=0}S.startView=Math.max(S.startView,S.minViewMode);if(S.multidate!==true){S.multidate=Number(S.multidate)||false;if(S.multidate!==false){S.multidate=Math.max(0,S.multidate)}else{S.multidate=1}}S.multidateSeparator=String(S.multidateSeparator);S.weekStart%=7;S.weekEnd=((S.weekStart+6)%7);var Q=I.parseFormat(S.format);if(S.startDate!==-Infinity){if(!!S.startDate){if(S.startDate instanceof Date){S.startDate=this._local_to_utc(this._zero_time(S.startDate))}else{S.startDate=I.parseDate(S.startDate,Q,S.language)}}else{S.startDate=-Infinity}}if(S.endDate!==Infinity){if(!!S.endDate){if(S.endDate instanceof Date){S.endDate=this._local_to_utc(this._zero_time(S.endDate))}else{S.endDate=I.parseDate(S.endDate,Q,S.language)}}else{S.endDate=Infinity}}S.daysOfWeekDisabled=S.daysOfWeekDisabled||[];if(!M.isArray(S.daysOfWeekDisabled)){S.daysOfWeekDisabled=S.daysOfWeekDisabled.split(/[,\s]*/)}S.daysOfWeekDisabled=M.map(S.daysOfWeekDisabled,function(W){return parseInt(W,10)});var T=String(S.orientation).toLowerCase().split(/\s+/g),U=S.orientation.toLowerCase();T=M.grep(T,function(W){return(/^auto|left|right|top|bottom$/).test(W)});S.orientation={x:"auto",y:"auto"};if(!U||U==="auto"){}else{if(T.length===1){switch(T[0]){case"top":case"bottom":S.orientation.y=T[0];break;case"left":case"right":S.orientation.x=T[0];break}}else{U=M.grep(T,function(W){return(/^left|right$/).test(W)});S.orientation.x=U[0]||"auto";U=M.grep(T,function(W){return(/^top|bottom$/).test(W)});S.orientation.y=U[0]||"auto"}}},_events:[],_secondaryEvents:[],_applyEvents:function(S){for(var R=0,Q,T,U;R<S.length;R++){Q=S[R][0];if(S[R].length===2){T=B;U=S[R][1]}else{if(S[R].length===3){T=S[R][1];U=S[R][2]}}Q.on(U,T)}},_unapplyEvents:function(S){for(var R=0,Q,U,T;R<S.length;R++){Q=S[R][0];if(S[R].length===2){T=B;U=S[R][1]}else{if(S[R].length===3){T=S[R][1];U=S[R][2]}}Q.off(U,T)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:M.proxy(this.show,this),keyup:M.proxy(function(Q){if(M.inArray(Q.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:M.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:M.proxy(this.show,this),keyup:M.proxy(function(Q){if(M.inArray(Q.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:M.proxy(this.keydown,this)}],[this.component,{click:M.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:M.proxy(this.show,this)}]]}}}this._events.push([this.element,"*",{blur:M.proxy(function(Q){this._focused_from=Q.target},this)}],[this.element,{blur:M.proxy(function(Q){this._focused_from=Q.target},this)}]);this._secondaryEvents=[[this.picker,{click:M.proxy(this.click,this)}],[M(window),{resize:M.proxy(this.place,this)}],[M(document),{"mousedown touchstart":M.proxy(function(Q){if(!(this.element.is(Q.target)||this.element.find(Q.target).length||this.picker.is(Q.target)||this.picker.find(Q.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(Q,R){var T=R||this.dates.get(-1),S=this._utc_to_local(T);this.element.trigger({type:Q,date:S,dates:M.map(this.dates,this._utc_to_local),format:M.proxy(function(V,U){if(arguments.length===0){V=this.dates.length-1;U=this.o.format}else{if(typeof V==="string"){U=V;V=this.dates.length-1}}U=U||this.o.format;var W=this.dates.get(V);return I.formatDate(W,U,this.o.language)},this)})},show:function(){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(Q){return Q&&new Date(Q.getTime()+(Q.getTimezoneOffset()*60000))},_local_to_utc:function(Q){return Q&&new Date(Q.getTime()-(Q.getTimezoneOffset()*60000))},_zero_time:function(Q){return Q&&new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())},_zero_utc_time:function(Q){return Q&&new Date(Date.UTC(Q.getUTCFullYear(),Q.getUTCMonth(),Q.getUTCDate()))},getDates:function(){return M.map(this.dates,this._utc_to_local)},getUTCDates:function(){return M.map(this.dates,function(Q){return new Date(Q)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var Q=M.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,Q);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var Q=M.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,M.map(Q,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:P("setDates"),setUTCDate:P("setUTCDates"),setValue:function(){var Q=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(Q).change()}}else{this.element.val(Q).change()}},getFormattedDate:function(Q){if(Q===B){Q=this.o.format}var R=this.o.language;return M.map(this.dates,function(S){return I.formatDate(S,Q,R)}).join(this.o.multidateSeparator)},setStartDate:function(Q){this._process_options({startDate:Q});this.update();this.updateNavArrows()},setEndDate:function(Q){this._process_options({endDate:Q});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(Q){this._process_options({daysOfWeekDisabled:Q});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var Y=this.picker.outerWidth(),X=this.picker.outerHeight(),f=10,S=O.width(),U=O.height(),V=O.scrollTop();var Z=parseInt(this.element.parents().filter(function(){return M(this).css("z-index")!=="auto"}).first().css("z-index"))+10;var b=this.component?this.component.parent().offset():this.element.offset();var c=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var T=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var R=b.left,W=b.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right"){R-=Y-T}}else{this.picker.addClass("datepicker-orient-left");if(b.left<0){R-=b.left-f}else{if(b.left+Y>S){R=S-Y-f}}}var Q=this.o.orientation.y,d,e;if(Q==="auto"){d=-V+b.top-X;e=V+U-(b.top+c+X);if(Math.max(d,e)===e){Q="top"}else{Q="bottom"}}this.picker.addClass("datepicker-orient-"+Q);if(Q==="top"){W+=c}else{W-=X+parseInt(this.picker.css("padding-top"))}this.picker.css({top:W,left:R,zIndex:Z})},_allow_update:true,update:function(){if(!this._allow_update){return}var R=this.dates.copy(),Q=[],S=false;if(arguments.length){M.each(arguments,M.proxy(function(T,U){if(U instanceof Date){U=this._local_to_utc(U)}Q.push(U)},this));S=true}else{Q=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(Q&&this.o.multidate){Q=Q.split(this.o.multidateSeparator)}else{Q=[Q]}delete this.element.data().date}Q=M.map(Q,M.proxy(function(T){return I.parseDate(T,this.o.format,this.o.language)},this));Q=M.grep(Q,M.proxy(function(T){return(T<this.o.startDate||T>this.o.endDate||!T)},this),true);this.dates.replace(Q);if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))}else{if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.viewDate>this.o.endDate){this.viewDate=new Date(this.o.endDate)}}}if(S){this.setValue()}else{if(Q.length){if(String(R)!==String(this.dates)){this._trigger("changeDate")}}}if(!this.dates.length&&R.length){this._trigger("clearDate")}this.fill()},fillDow:function(){var S=this.o.weekStart,Q="<tr>";if(this.o.calendarWeeks){var R='<th class="cw">&nbsp;</th>';Q+=R;this.picker.find(".datepicker-days thead tr:first-child").prepend(R)}while(S<this.o.weekStart+7){Q+='<th class="dow">'+J[this.o.language].daysMin[(S++)%7]+"</th>"}Q+="</tr>";this.picker.find(".datepicker-days thead").append(Q)},fillMonths:function(){var Q="",R=0;while(R<12){Q+='<span class="month">'+J[this.o.language].monthsShort[R++]+"</span>"}this.picker.find(".datepicker-months td").html(Q)},setRange:function(Q){if(!Q||!Q.length){delete this.range}else{this.range=M.map(Q,function(R){return R.valueOf()})}this.fill()},getClassNames:function(U){var R=[],T=this.viewDate.getUTCFullYear(),Q=this.viewDate.getUTCMonth(),S=new Date();if(U.getUTCFullYear()<T||(U.getUTCFullYear()===T&&U.getUTCMonth()<Q)){R.push("old")}else{if(U.getUTCFullYear()>T||(U.getUTCFullYear()===T&&U.getUTCMonth()>Q)){R.push("new")}}if(this.focusDate&&U.valueOf()===this.focusDate.valueOf()){R.push("focused")}if(this.o.todayHighlight&&U.getUTCFullYear()===S.getFullYear()&&U.getUTCMonth()===S.getMonth()&&U.getUTCDate()===S.getDate()){R.push("today")}if(this.dates.contains(U)!==-1){R.push("active")}if(U.valueOf()<this.o.startDate||U.valueOf()>this.o.endDate||M.inArray(U.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){R.push("disabled")}if(this.range){if(U>this.range[0]&&U<this.range[this.range.length-1]){R.push("range")}if(M.inArray(U.valueOf(),this.range)!==-1){R.push("selected")}}return R},fill:function(){var f=new Date(this.viewDate),j=f.getUTCFullYear(),q=f.getUTCMonth(),S=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,Q=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,c=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,U=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,T=J[this.o.language].today||J["en"].today||"",s=J[this.o.language].clear||J["en"].clear||"",m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(J[this.o.language].months[q]+" "+j);this.picker.find("tfoot th.today").text(T).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(s).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var o=A(j,q-1,28),n=I.getDaysInMonth(o.getUTCFullYear(),o.getUTCMonth());o.setUTCDate(n);o.setUTCDate(n-(o.getUTCDay()-this.o.weekStart+7)%7);var Z=new Date(o);Z.setUTCDate(Z.getUTCDate()+42);Z=Z.valueOf();var g=[];var e;while(o.valueOf()<Z){if(o.getUTCDay()===this.o.weekStart){g.push("<tr>");if(this.o.calendarWeeks){var R=new Date(+o+(this.o.weekStart-o.getUTCDay()-7)%7*86400000),V=new Date(Number(R)+(7+4-R.getUTCDay())%7*86400000),Y=new Date(Number(Y=A(V.getUTCFullYear(),0,1))+(7+4-Y.getUTCDay())%7*86400000),b=(V-Y)/86400000/7+1;g.push('<td class="cw">'+b+"</td>")}}e=this.getClassNames(o);e.push("day");if(this.o.beforeShowDay!==M.noop){var X=this.o.beforeShowDay(this._utc_to_local(o));if(X===B){X={}}else{if(typeof(X)==="boolean"){X={enabled:X}}else{if(typeof(X)==="string"){X={classes:X}}}}if(X.enabled===false){e.push("disabled")}if(X.classes){e=e.concat(X.classes.split(/\s+/))}if(X.tooltip){m=X.tooltip}}e=M.unique(e);g.push('<td class="'+e.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+o.getUTCDate()+"</td>");if(o.getUTCDay()===this.o.weekEnd){g.push("</tr>")}o.setUTCDate(o.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var r=this.picker.find(".datepicker-months").find("th:eq(1)").text(j).end().find("span").removeClass("active");M.each(this.dates,function(u,v){if(v.getUTCFullYear()===j){r.eq(v.getUTCMonth()).addClass("active")}});if(j<S||j>c){r.addClass("disabled")}if(j===S){r.slice(0,Q).addClass("disabled")}if(j===c){r.slice(U+1).addClass("disabled")}g="";j=parseInt(j/10,10)*10;var W=this.picker.find(".datepicker-years").find("th:eq(1)").text(j+"-"+(j+9)).end().find("td");j-=1;var k=M.map(this.dates,function(i){return i.getUTCFullYear()}),h;for(var l=-1;l<11;l++){h=["year"];if(l===-1){h.push("old")}else{if(l===10){h.push("new")}}if(M.inArray(j,k)!==-1){h.push("active")}if(j<S||j>c){h.push("disabled")}g+='<span class="'+h.join(" ")+'">'+j+"</span>";j+=1}W.html(g)},updateNavArrows:function(){if(!this._allow_update){return}var Q=new Date(this.viewDate),S=Q.getUTCFullYear(),R=Q.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&S<=this.o.startDate.getUTCFullYear()&&R<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&S>=this.o.endDate.getUTCFullYear()&&R>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&S<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&S>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(Q){Q.preventDefault();var X=M(Q.target).closest("span, td, th"),W,S,V;if(X.length===1){switch(X[0].nodeName.toLowerCase()){case"th":switch(X[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var U=I.modes[this.viewMode].navStep*(X[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,U);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,U);if(this.viewMode===1){this._trigger("changeYear",this.viewDate)}break}this.fill();break;case"today":var Y=new Date();Y=A(Y.getFullYear(),Y.getMonth(),Y.getDate(),0,0,0);this.showMode(-2);var T=this.o.todayBtn==="linked"?null:"view";this._setDate(Y,T);break;case"clear":var R;if(this.isInput){R=this.element}else{if(this.component){R=this.element.find("input")}}if(R){R.val("").change()}this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}break}break;case"span":if(!X.is(".disabled")){this.viewDate.setUTCDate(1);if(X.is(".month")){V=1;S=X.parent().find("span").index(X);W=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(S);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(A(W,S,V))}}else{V=1;S=0;W=parseInt(X.text(),10)||0;this.viewDate.setUTCFullYear(W);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(A(W,S,V))}}this.showMode(-1);this.fill()}break;case"td":if(X.is(".day")&&!X.is(".disabled")){V=parseInt(X.text(),10)||1;W=this.viewDate.getUTCFullYear();S=this.viewDate.getUTCMonth();if(X.is(".old")){if(S===0){S=11;W-=1}else{S-=1}}else{if(X.is(".new")){if(S===11){S=0;W+=1}else{S+=1}}}this._setDate(A(W,S,V))}break}}if(this.picker.is(":visible")&&this._focused_from){M(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(R){var Q=this.dates.contains(R);if(!R){this.dates.clear()}else{if(Q!==-1){this.dates.remove(Q)}else{this.dates.push(R)}}if(typeof this.o.multidate==="number"){while(this.dates.length>this.o.multidate){this.dates.remove(0)}}},_setDate:function(S,Q){if(!Q||Q==="date"){this._toggle_multidate(S&&new Date(S))}if(!Q||Q==="view"){this.viewDate=S&&new Date(S)}this.fill();this.setValue();this._trigger("changeDate");var R;if(this.isInput){R=this.element}else{if(this.component){R=this.element.find("input")}}if(R){R.change()}if(this.o.autoclose&&(!Q||Q==="date")){this.hide()}},moveMonth:function(Y,T){if(!Y){return B}if(!T){return Y}var W=new Date(Y.valueOf()),U=W.getUTCDate(),Q=W.getUTCMonth(),S=Math.abs(T),R,X;T=T>0?1:-1;if(S===1){X=T===-1?function(){return W.getUTCMonth()===Q}:function(){return W.getUTCMonth()!==R};R=Q+T;W.setUTCMonth(R);if(R<0||R>11){R=(R+12)%12}}else{for(var V=0;V<S;V++){W=this.moveMonth(W,T)}R=W.getUTCMonth();W.setUTCDate(U);X=function(){return R!==W.getUTCMonth()}}while(X()){W.setUTCDate(--U);W.setUTCMonth(R)}return W},moveYear:function(R,Q){return this.moveMonth(R,Q*12)},dateWithinRange:function(Q){return Q>=this.o.startDate&&Q<=this.o.endDate},keydown:function(R){if(this.picker.is(":not(:visible)")){if(R.keyCode===27){this.show()}return}var U=false,Q,T,W,V=this.focusDate||this.viewDate;switch(R.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else{this.hide()}R.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}Q=R.keyCode===37?-1:1;if(R.ctrlKey){T=this.moveYear(this.dates.get(-1)||K(),Q);W=this.moveYear(V,Q);this._trigger("changeYear",this.viewDate)}else{if(R.shiftKey){T=this.moveMonth(this.dates.get(-1)||K(),Q);W=this.moveMonth(V,Q);this._trigger("changeMonth",this.viewDate)}else{T=new Date(this.dates.get(-1)||K());T.setUTCDate(T.getUTCDate()+Q);W=new Date(V);W.setUTCDate(V.getUTCDate()+Q)}}if(this.dateWithinRange(T)){this.focusDate=this.viewDate=W;this.setValue();this.fill();R.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation){break}Q=R.keyCode===38?-1:1;if(R.ctrlKey){T=this.moveYear(this.dates.get(-1)||K(),Q);W=this.moveYear(V,Q);this._trigger("changeYear",this.viewDate)}else{if(R.shiftKey){T=this.moveMonth(this.dates.get(-1)||K(),Q);W=this.moveMonth(V,Q);this._trigger("changeMonth",this.viewDate)}else{T=new Date(this.dates.get(-1)||K());T.setUTCDate(T.getUTCDate()+Q*7);W=new Date(V);W.setUTCDate(V.getUTCDate()+Q*7)}}if(this.dateWithinRange(T)){this.focusDate=this.viewDate=W;this.setValue();this.fill();R.preventDefault()}break;case 32:break;case 13:V=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(V);U=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){R.preventDefault();if(this.o.autoclose){this.hide()}}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(U){if(this.dates.length){this._trigger("changeDate")}else{this._trigger("clearDate")}var S;if(this.isInput){S=this.element}else{if(this.component){S=this.element.find("input")}}if(S){S.change()}}},showMode:function(Q){if(Q){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+Q))}this.picker.find(">div").hide().filter(".datepicker-"+I.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var L=function(R,Q){this.element=M(R);this.inputs=M.map(Q.inputs,function(S){return S.jquery?S[0]:S});delete Q.inputs;M(this.inputs).datepicker(Q).bind("changeDate",M.proxy(this.dateUpdated,this));this.pickers=M.map(this.inputs,function(S){return M(S).data("datepicker")});this.updateDates()};L.prototype={updateDates:function(){this.dates=M.map(this.pickers,function(Q){return Q.getUTCDate()});this.updateRanges()},updateRanges:function(){var Q=M.map(this.dates,function(R){return R.valueOf()});M.each(this.pickers,function(R,S){S.setRange(Q)})},dateUpdated:function(S){if(this.updating){return}this.updating=true;var T=M(S.target).data("datepicker"),Q=T.getUTCDate(),R=M.inArray(S.target,this.inputs),U=this.inputs.length;if(R===-1){return}M.each(this.pickers,function(V,W){if(!W.getUTCDate()){W.setUTCDate(Q)}});if(Q<this.dates[R]){while(R>=0&&Q<this.dates[R]){this.pickers[R--].setUTCDate(Q)}}else{if(Q>this.dates[R]){while(R<U&&Q>this.dates[R]){this.pickers[R++].setUTCDate(Q)}}}this.updateDates();delete this.updating},remove:function(){M.map(this.pickers,function(Q){Q.remove()});delete this.element.data().datepicker}};function D(U,R){var T=M(U).data(),Q={},S,V=new RegExp("^"+R.toLowerCase()+"([A-Z])");R=new RegExp("^"+R.toLowerCase());function W(Z,Y){return Y.toLowerCase()}for(var X in T){if(R.test(X)){S=X.replace(V,W);Q[S]=T[X]}}return Q}function N(R){var S={};if(!J[R]){R=R.split("-")[0];if(!J[R]){return}}var Q=J[R];M.each(G,function(T,U){if(U in Q){S[U]=Q[U]}});return S}var C=M.fn.datepicker;M.fn.datepicker=function(Q){var S=Array.apply(null,arguments);S.shift();var R;this.each(function(){var Z=M(this),T=Z.data("datepicker"),W=typeof Q==="object"&&Q;if(!T){var V=D(this,"date"),Y=M.extend({},E,V,W),b=N(Y.language),X=M.extend({},E,b,V,W);if(Z.is(".input-daterange")||X.inputs){var U={inputs:X.inputs||Z.find("input").toArray()};Z.data("datepicker",(T=new L(this,M.extend(X,U))))}else{Z.data("datepicker",(T=new F(this,X)))}}if(typeof Q==="string"&&typeof T[Q]==="function"){R=T[Q].apply(T,S);if(R!==B){return false}}});if(R!==B){return R}else{return this}};var E=M.fn.datepicker.defaults={autoclose:false,beforeShowDay:M.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var G=M.fn.datepicker.locale_opts=["format","rtl","weekStart"];M.fn.datepicker.Constructor=F;var J=M.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var I={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(Q){return(((Q%4===0)&&(Q%100!==0))||(Q%400===0))},getDaysInMonth:function(R,Q){return[31,(I.isLeapYear(R)?29:28),31,30,31,30,31,31,30,31,30,31][Q]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(R){var S=R.replace(this.validParts,"\0").split("\0"),Q=R.match(this.validParts);if(!S||!S.length||!Q||Q.length===0){throw new Error("Invalid date format.")}return{separators:S,parts:Q}},parseDate:function(T,c,d){if(!T){return B}if(T instanceof Date){return T}if(typeof c==="string"){c=I.parseFormat(c)}var Y=/([\-+]\d+)([dmwy])/,j=T.match(/([\-+]\d+)([dmwy])/g),Q,Z,V;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(T)){T=new Date();for(V=0;V<j.length;V++){Q=Y.exec(j[V]);Z=parseInt(Q[1]);switch(Q[2]){case"d":T.setUTCDate(T.getUTCDate()+Z);break;case"m":T=F.prototype.moveMonth.call(F.prototype,T,Z);break;case"w":T.setUTCDate(T.getUTCDate()+Z*7);break;case"y":T=F.prototype.moveYear.call(F.prototype,T,Z);break}}return A(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate(),0,0,0)}j=T&&T.match(this.nonpunctuation)||[];T=new Date();var e={},S=["yyyy","yy","M","MM","m","mm","d","dd"],W={yyyy:function(i,k){return i.setUTCFullYear(k)},yy:function(i,k){return i.setUTCFullYear(2000+k)},m:function(i,k){if(isNaN(i)){return i}k-=1;while(k<0){k+=12}k%=12;i.setUTCMonth(k);while(i.getUTCMonth()!==k){i.setUTCDate(i.getUTCDate()-1)}return i},d:function(i,k){return i.setUTCDate(k)}},h,g;W["M"]=W["MM"]=W["mm"]=W["m"];W["dd"]=W["d"];T=A(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0);var f=c.parts.slice();if(j.length!==f.length){f=M(f).filter(function(k,l){return M.inArray(l,S)!==-1}).toArray()}function U(){var k=this.slice(0,j[V].length),i=j[V].slice(0,k.length);return k===i}if(j.length===f.length){var X;for(V=0,X=f.length;V<X;V++){h=parseInt(j[V],10);Q=f[V];if(isNaN(h)){switch(Q){case"MM":g=M(J[d].months).filter(U);h=M.inArray(g[0],J[d].months)+1;break;case"M":g=M(J[d].monthsShort).filter(U);h=M.inArray(g[0],J[d].monthsShort)+1;break}}e[Q]=h}var R,b;for(V=0;V<S.length;V++){b=S[V];if(b in e&&!isNaN(e[b])){R=new Date(T);W[b](R,e[b]);if(!isNaN(R)){T=R}}}}return T},formatDate:function(V,R,Q){if(!V){return""}if(typeof R==="string"){R=I.parseFormat(R)}var U={d:V.getUTCDate(),D:J[Q].daysShort[V.getUTCDay()],DD:J[Q].days[V.getUTCDay()],m:V.getUTCMonth()+1,M:J[Q].monthsShort[V.getUTCMonth()],MM:J[Q].months[V.getUTCMonth()],yy:V.getUTCFullYear().toString().substring(2),yyyy:V.getUTCFullYear()};U.dd=(U.d<10?"0":"")+U.d;U.mm=(U.m<10?"0":"")+U.m;V=[];var W=M.extend([],R.separators);for(var S=0,T=R.parts.length;S<=T;S++){if(W.length){V.push(W.shift())}V.push(U[R.parts[S]])}return V.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};I.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+I.headTemplate+"<tbody></tbody>"+I.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+"</table></div></div>";M.fn.datepicker.DPGlobal=I;M.fn.datepicker.noConflict=function(){M.fn.datepicker=C;return this};M(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(Q){var R=M(this);if(R.data("datepicker")){return}Q.preventDefault();R.datepicker("show")});M(function(){M('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));
/*
 * Timepicker Component for Twitter Bootstrap
 *
 * Copyright 2013 Joris de Wit
 *
 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function(E,A,B,D){var C=function(G,F){this.widget="";this.$element=E(G);this.defaultTime=F.defaultTime;this.disableFocus=F.disableFocus;this.disableMousewheel=F.disableMousewheel;this.isOpen=F.isOpen;this.minuteStep=F.minuteStep;this.modalBackdrop=F.modalBackdrop;this.orientation=F.orientation;this.secondStep=F.secondStep;this.showInputs=F.showInputs;this.showMeridian=F.showMeridian;this.showSeconds=F.showSeconds;this.template=F.template;this.appendWidgetTo=F.appendWidgetTo;this.showWidgetOnAddonClick=F.showWidgetOnAddonClick;this._init()};C.prototype={constructor:C,_init:function(){var F=this;if(this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))){this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":E.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":E.proxy(this.highlightUnit,this),"click.timepicker":E.proxy(this.highlightUnit,this),"keydown.timepicker":E.proxy(this.elementKeydown,this),"blur.timepicker":E.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":E.proxy(this.mousewheel,this)})}else{if(this.template){this.$element.on({"focus.timepicker":E.proxy(this.showWidget,this),"click.timepicker":E.proxy(this.showWidget,this),"blur.timepicker":E.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":E.proxy(this.mousewheel,this)})}else{this.$element.on({"focus.timepicker":E.proxy(this.highlightUnit,this),"click.timepicker":E.proxy(this.highlightUnit,this),"keydown.timepicker":E.proxy(this.elementKeydown,this),"blur.timepicker":E.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":E.proxy(this.mousewheel,this)})}}if(this.template!==false){this.$widget=E(this.getTemplate()).on("click",E.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){E(this).on({"click.timepicker":function(){E(this).select()},"keydown.timepicker":E.proxy(F.widgetKeydown,F),"keyup.timepicker":E.proxy(F.widgetKeyup,F)})})}this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian){if(this.hour===1){this.hour=12}else{if(this.hour===12){this.hour--;return this.toggleMeridian()}else{if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}}}else{if(this.hour<=0){this.hour=23}else{this.hour--}}},decrementMinute:function(F){var G;if(F){G=this.minute-F}else{G=this.minute-this.minuteStep}if(G<0){this.decrementHour();this.minute=G+60}else{this.minute=G}},decrementSecond:function(){var F=this.second-this.secondStep;if(F<0){this.decrementMinute(true);this.second=F+60}else{this.second=F}},elementKeydown:function(F){switch(F.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:F.preventDefault();this.highlightPrevUnit();break;case 38:F.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break;case 39:F.preventDefault();this.highlightNextUnit();break;case 40:F.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break}},getCursorPosition:function(){var G=this.$element.get(0);if("selectionStart" in G){return G.selectionStart}else{if(B.selection){G.focus();var H=B.selection.createRange(),F=B.selection.createRange().text.length;H.moveStart("character",-G.value.length);return H.text.length-F}}},getTemplate:function(){var I,F,G,H,J,K;if(this.showInputs){F='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>';G='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>';H='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>';J='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'}else{F='<span class="bootstrap-timepicker-hour"></span>';G='<span class="bootstrap-timepicker-minute"></span>';H='<span class="bootstrap-timepicker-second"></span>';J='<span class="bootstrap-timepicker-meridian"></span>'}K='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+F+'</td> <td class="separator">:</td><td>'+G+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+H+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+J+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>";switch(this.template){case"modal":I='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal"></a><h3>Pick a Time</h3></div><div class="modal-content">'+K+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":I='<div class="bootstrap-timepicker-widget dropdown-menu">'+K+"</div>";break}return I},getTime:function(){if(this.hour===""){return""}return this.hour+":"+(this.minute.toString().length===1?"0"+this.minute:this.minute)+(this.showSeconds?":"+(this.second.toString().length===1?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){if(this.isOpen===false){return}this.$element.trigger({"type":"hide.timepicker","time":{"value":this.getTime(),"hours":this.hour,"minutes":this.minute,"seconds":this.second,"meridian":this.meridian}});if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("hide")}else{this.$widget.removeClass("open")}E(B).off("mousedown.timepicker, touchend.timepicker");this.isOpen=false;this.$widget.detach()},highlightUnit:function(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2){this.highlightHour()}else{if(this.position>=3&&this.position<=5){this.highlightMinute()}else{if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else{if(this.position>=9&&this.position<=11){this.highlightMeridian()}}}}},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else{if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}}break;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":if(this.showMeridian){this.highlightMeridian()}else{if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}}break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},highlightHour:function(){var G=this.$element.get(0),F=this;this.highlightedUnit="hour";if(G.setSelectionRange){setTimeout(function(){if(F.hour<10){G.setSelectionRange(0,1)}else{G.setSelectionRange(0,2)}},0)}},highlightMinute:function(){var G=this.$element.get(0),F=this;this.highlightedUnit="minute";if(G.setSelectionRange){setTimeout(function(){if(F.hour<10){G.setSelectionRange(2,4)}else{G.setSelectionRange(3,5)}},0)}},highlightSecond:function(){var G=this.$element.get(0),F=this;this.highlightedUnit="second";if(G.setSelectionRange){setTimeout(function(){if(F.hour<10){G.setSelectionRange(5,7)}else{G.setSelectionRange(6,8)}},0)}},highlightMeridian:function(){var G=this.$element.get(0),F=this;this.highlightedUnit="meridian";if(G.setSelectionRange){if(this.showSeconds){setTimeout(function(){if(F.hour<10){G.setSelectionRange(8,10)}else{G.setSelectionRange(9,11)}},0)}else{setTimeout(function(){if(F.hour<10){G.setSelectionRange(5,7)}else{G.setSelectionRange(6,8)}},0)}}},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else{if(this.hour===12){this.hour=0}}}if(this.hour===23){this.hour=0;return}this.hour++},incrementMinute:function(F){var G;if(F){G=this.minute+F}else{G=this.minute+this.minuteStep-(this.minute%this.minuteStep)}if(G>59){this.incrementHour();this.minute=G-60}else{this.minute=G}},incrementSecond:function(){var F=this.second+this.secondStep-(this.second%this.secondStep);if(F>59){this.incrementMinute(true);this.second=F-60}else{this.second=F}},mousewheel:function(G){if(this.disableMousewheel){return}G.preventDefault();G.stopPropagation();var F=G.originalEvent.wheelDelta||-G.originalEvent.detail,H=null;if(G.type==="mousewheel"){H=(G.originalEvent.wheelDelta*-1)}else{if(G.type==="DOMMouseScroll"){H=40*G.originalEvent.detail}}if(H){G.preventDefault();E(this).scrollTop(H+E(this).scrollTop())}switch(this.highlightedUnit){case"minute":if(F>0){this.incrementMinute()}else{this.decrementMinute()}this.highlightMinute();break;case"second":if(F>0){this.incrementSecond()}else{this.decrementSecond()}this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:if(F>0){this.incrementHour()}else{this.decrementHour()}this.highlightHour();break}return false},place:function(){if(this.isInline){return}var L=this.$widget.outerWidth(),O=this.$widget.outerHeight(),T=10,G=E(A).width(),J=E(A).height(),K=E(A).scrollTop();var P=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10;var Q=this.component?this.component.parent().offset():this.$element.offset();var S=this.component?this.component.outerHeight(true):this.$element.outerHeight(false);var H=this.component?this.component.outerWidth(true):this.$element.outerWidth(false);var M=Q.left,R=Q.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");if(this.orientation.x!=="auto"){this.$widget.addClass("timepicker-orient-"+this.orientation.x);if(this.orientation.x==="right"){M-=L-H}}else{this.$widget.addClass("timepicker-orient-left");if(Q.left<0){M-=Q.left-T}else{if(Q.left+L>G){M=G-L-T}}}var N=this.orientation.y,F,I;if(N==="auto"){F=-K+Q.top-O;I=K+J-(Q.top+S+O);if(Math.max(F,I)===I){N="top"}else{N="bottom"}}this.$widget.addClass("timepicker-orient-"+N);if(N==="top"){R+=S}else{R-=O+parseInt(this.$widget.css("padding-top"),10)}this.$widget.css({top:R,left:M,zIndex:P})},remove:function(){E("document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime:function(F){if(!this.$element.val()){if(F==="current"){var J=new Date(),G=J.getHours(),H=J.getMinutes(),I=J.getSeconds(),K="AM";if(I!==0){I=Math.ceil(J.getSeconds()/this.secondStep)*this.secondStep;if(I===60){H+=1;I=0}}if(H!==0){H=Math.ceil(J.getMinutes()/this.minuteStep)*this.minuteStep;if(H===60){G+=1;H=0}}if(this.showMeridian){if(G===0){G=12}else{if(G>=12){if(G>12){G=G-12}K="PM"}else{K="AM"}}}this.hour=G;this.minute=H;this.second=I;this.meridian=K;this.update()}else{if(F===false){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else{this.setTime(F)}}}else{this.updateFromElementVal()}},setTime:function(H,J){if(!H){this.clear();return}var L,G,K,F,I;if(typeof H==="object"&&H.getMonth){G=H.getHours();K=H.getMinutes();F=H.getSeconds();if(this.showMeridian){I="AM";if(G>12){I="PM";G=G%12}if(G===12){I="PM"}}}else{if(H.match(/p/i)!==null){I="PM"}else{I="AM"}H=H.replace(/[^0-9\:]/g,"");L=H.split(":");G=L[0]?L[0].toString():L.toString();K=L[1]?L[1].toString():"";F=L[2]?L[2].toString():"";if(G.length>4){F=G.substr(4,2)}if(G.length>2){K=G.substr(2,2);G=G.substr(0,2)}if(K.length>2){F=K.substr(2,2);K=K.substr(0,2)}if(F.length>2){F=F.substr(2,2)}G=parseInt(G,10);K=parseInt(K,10);F=parseInt(F,10);if(isNaN(G)){G=0}if(isNaN(K)){K=0}if(isNaN(F)){F=0}if(this.showMeridian){if(G<1){G=1}else{if(G>12){G=12}}}else{if(G>=24){G=23}else{if(G<0){G=0}}if(G<13&&I==="PM"){G=G+12}}if(K<0){K=0}else{if(K>=60){K=59}}if(this.showSeconds){if(isNaN(F)){F=0}else{if(F<0){F=0}else{if(F>=60){F=59}}}}}this.hour=G;this.minute=K;this.second=F;this.meridian=I;this.update(J)},showWidget:function(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}this.$widget.appendTo(this.appendWidgetTo);var F=this;E(B).on("mousedown.timepicker, touchend.timepicker",function(G){if(!(F.$element.parent().find(G.target).length||F.$widget.is(G.target)||F.$widget.find(G.target).length)){F.hideWidget()}});this.$element.trigger({"type":"show.timepicker","time":{"value":this.getTime(),"hours":this.hour,"minutes":this.minute,"seconds":this.second,"meridian":this.meridian}});if(this.template!=="modal"){this.place()}if(this.disableFocus){this.$element.blur()}if(this.hour===""){if(this.defaultTime){this.setDefaultTime(this.defaultTime)}else{this.setTime("0:0:0")}}if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("show").on("hidden",E.proxy(this.hideWidget,this))}else{if(this.isOpen===false){this.$widget.addClass("open")}}this.isOpen=true},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(F){this.updateElement();if(!F){this.updateWidget()}this.$element.trigger({"type":"changeTime.timepicker","time":{"value":this.getTime(),"hours":this.hour,"minutes":this.minute,"seconds":this.second,"meridian":this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget===false){return}var G=this.hour,H=this.minute.toString().length===1?"0"+this.minute:this.minute,F=this.second.toString().length===1?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(G);this.$widget.find("input.bootstrap-timepicker-minute").val(H);if(this.showSeconds){this.$widget.find("input.bootstrap-timepicker-second").val(F)}if(this.showMeridian){this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.bootstrap-timepicker-hour").text(G);this.$widget.find("span.bootstrap-timepicker-minute").text(H);if(this.showSeconds){this.$widget.find("span.bootstrap-timepicker-second").text(F)}if(this.showMeridian){this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs:function(){if(this.$widget===false){return}var F=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(F,true)},widgetClick:function(G){G.stopPropagation();G.preventDefault();var F=E(G.target),H=F.closest("a").data("action");if(H){this[H]()}this.update();if(F.is("input")){F.get(0).setSelectionRange(0,2)}},widgetKeydown:function(G){var F=E(G.target),H=F.attr("class").replace("bootstrap-timepicker-","");switch(G.keyCode){case 9:if((this.showMeridian&&H==="meridian")||(this.showSeconds&&H==="second")||(!this.showMeridian&&!this.showSeconds&&H==="minute")){return this.hideWidget()}break;case 27:this.hideWidget();break;case 38:G.preventDefault();switch(H){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());F.get(0).setSelectionRange(0,2);break;case 40:G.preventDefault();switch(H){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());F.get(0).setSelectionRange(0,2);break}},widgetKeyup:function(F){if((F.keyCode===65)||(F.keyCode===77)||(F.keyCode===80)||(F.keyCode===46)||(F.keyCode===8)||(F.keyCode>=46&&F.keyCode<=57)){this.updateFromWidgetInputs()}}};E.fn.timepicker=function(F){var G=Array.apply(null,arguments);G.shift();return this.each(function(){var H=E(this),J=H.data("timepicker"),I=typeof F==="object"&&F;if(!J){H.data("timepicker",(J=new C(this,E.extend({},E.fn.timepicker.defaults,I,E(this).data()))))}if(typeof F==="string"){J[F].apply(J,G)}})};E.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,disableMousewheel:false,isOpen:false,minuteStep:15,modalBackdrop:false,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:false,showInputs:true,showMeridian:true,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:true};E.fn.timepicker.Constructor=C})(jQuery,window,document);!function(C){var B=(function(){var D=[];var H=false;var F;var G=function(I){clearTimeout(F);F=setTimeout(E,100)};var E=function(){for(var I=0,J=D.length;I<J;I++){D[I].apply()}};return{register:function(I){D.push(I);if(H===false){C(window).bind("resize",G);H=true}},unregister:function(K){for(var I=0,J=D.length;I<J;I++){if(D[I]==K){delete D[I];break}}}}}());var A=function(E,D){this.element=C(E);this.dropdown=C('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+D.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);if(this.element.parent().is(".tabs-below")){this.dropdown.addClass("dropup")}B.register(C.proxy(this.layout,this));this.layout()};A.prototype={constructor:A,layout:function(){var D=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){if(this.offsetTop>0){D.push(this)}});if(D.length>0){D=C(D);this.dropdown.find("ul").empty().append(D);if(this.dropdown.find(".active").length==1){this.dropdown.addClass("active")}else{this.dropdown.removeClass("active")}}else{this.dropdown.addClass("hide")}}};C.fn.tabdrop=function(D){return this.each(function(){var E=C(this),G=E.data("tabdrop"),F=typeof D==="object"&&D;if(!G){E.data("tabdrop",(G=new A(this,C.extend({},C.fn.tabdrop.defaults,F))))}if(typeof D=="string"){G[D]()}})};C.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'};C.fn.tabdrop.Constructor=A}(window.jQuery);if(jQuery){(function(P){P.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:false,position:"bottom left",show:null,showSpeed:100,theme:"default"}};P.extend(P.fn,{minicolors:function(U,V){switch(U){case"destroy":P(this).each(function(){A(P(this))});return P(this);case"hide":F();return P(this);case"opacity":if(V===undefined){return P(this).attr("data-opacity")}else{P(this).each(function(){M(P(this).attr("data-opacity",V))})}return P(this);case"rgbObject":return S(P(this),U==="rgbaObject");case"rgbString":case"rgbaString":return I(P(this),U==="rgbaString");case"settings":if(V===undefined){return P(this).data("minicolors-settings")}else{P(this).each(function(){var W=P(this).data("minicolors-settings")||{};A(P(this));P(this).minicolors(P.extend(true,W,V))})}return P(this);case"show":L(P(this).eq(0));return P(this);case"value":if(V===undefined){return P(this).val()}else{P(this).each(function(){M(P(this).val(V))})}return P(this);default:if(U!=="create"){V=U}P(this).each(function(){R(P(this),V)});return P(this)}}});function R(V,U){var W=P('<div class="minicolors" />'),X=P.minicolors.defaults;if(V.data("minicolors-initialized")){return}U=P.extend(true,{},X,U);W.addClass("minicolors-theme-"+U.theme).toggleClass("minicolors-with-opacity",U.opacity);if(U.position!==undefined){P.each(U.position.split(" "),function(){W.addClass("minicolors-position-"+this)})}V.addClass("minicolors-input").data("minicolors-initialized",false).data("minicolors-settings",U).prop("size",7).wrap(W).after('<div class="minicolors-panel minicolors-slider-'+U.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>');if(!U.inline){V.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>');V.next(".minicolors-swatch").on("click",function(Y){Y.preventDefault();V.focus()})}V.parent().find(".minicolors-panel").on("selectstart",function(){return false}).end();if(U.inline){V.parent().addClass("minicolors-inline")}M(V,false);V.data("minicolors-initialized",true)}function A(U){var V=U.parent();U.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");V.before(U).remove()}function L(W){var X=W.parent(),U=X.find(".minicolors-panel"),V=W.data("minicolors-settings");if(!W.data("minicolors-initialized")||W.prop("disabled")||X.hasClass("minicolors-inline")||X.hasClass("minicolors-focus")){return}F();X.addClass("minicolors-focus");U.stop(true,true).fadeIn(V.showSpeed,function(){if(V.show){V.show.call(W.get(0))}})}function F(){P(".minicolors-focus").each(function(){var X=P(this),W=X.find(".minicolors-input"),U=X.find(".minicolors-panel"),V=W.data("minicolors-settings");U.fadeOut(V.hideSpeed,function(){if(V.hide){V.hide.call(W.get(0))}X.removeClass("minicolors-focus")})})}function O(e,Z,X){var f=e.parents(".minicolors").find(".minicolors-input"),V=f.data("minicolors-settings"),W=e.find("[class$=-picker]"),c=e.offset().left,d=e.offset().top,i=Math.round(Z.pageX-c),g=Math.round(Z.pageY-d),b=X?V.animationSpeed:0,j,h,U,Y;if(Z.originalEvent.changedTouches){i=Z.originalEvent.changedTouches[0].pageX-c;g=Z.originalEvent.changedTouches[0].pageY-d}if(i<0){i=0}if(g<0){g=0}if(i>e.width()){i=e.width()}if(g>e.height()){g=e.height()}if(e.parent().is(".minicolors-slider-wheel")&&W.parent().is(".minicolors-grid")){j=75-i;h=75-g;U=Math.sqrt(j*j+h*h);Y=Math.atan2(h,j);if(Y<0){Y+=Math.PI*2}if(U>75){U=75;i=75-(75*Math.cos(Y));g=75-(75*Math.sin(Y))}i=Math.round(i);g=Math.round(g)}if(e.is(".minicolors-grid")){W.stop(true).animate({top:g+"px",left:i+"px"},b,V.animationEasing,function(){N(f,e)})}else{W.stop(true).animate({top:g+"px"},b,V.animationEasing,function(){N(f,e)})}}function N(g,q){function v(y,x){var r,w;if(!y.length||!x){return null}r=y.offset().left;w=y.offset().top;return{x:r-x.offset().left+(y.outerWidth()/2),y:w-x.offset().top+(y.outerHeight()/2)}}var d,l,c,s,u,U,k,m=g.val(),X=g.attr("data-opacity"),e=g.parent(),i=g.data("minicolors-settings"),b=e.find(".minicolors-swatch"),V=e.find(".minicolors-grid"),Z=e.find(".minicolors-slider"),Y=e.find(".minicolors-opacity-slider"),W=V.find("[class$=-picker]"),n=Z.find("[class$=-picker]"),f=Y.find("[class$=-picker]"),o=v(W,V),j=v(n,Z),h=v(f,Y);if(q.is(".minicolors-grid, .minicolors-slider")){switch(i.control){case"wheel":s=(V.width()/2)-o.x;u=(V.height()/2)-o.y;U=Math.sqrt(s*s+u*u);k=Math.atan2(u,s);if(k<0){k+=Math.PI*2}if(U>75){U=75;o.x=69-(75*Math.cos(k));o.y=69-(75*Math.sin(k))}l=C(U/0.75,0,100);d=C(k*180/Math.PI,0,360);c=C(100-Math.floor(j.y*(100/Z.height())),0,100);m=D({h:d,s:l,b:c});Z.css("backgroundColor",D({h:d,s:l,b:100}));break;case"saturation":d=C(parseInt(o.x*(360/V.width()),10),0,360);l=C(100-Math.floor(j.y*(100/Z.height())),0,100);c=C(100-Math.floor(o.y*(100/V.height())),0,100);m=D({h:d,s:l,b:c});Z.css("backgroundColor",D({h:d,s:100,b:c}));e.find(".minicolors-grid-inner").css("opacity",l/100);break;case"brightness":d=C(parseInt(o.x*(360/V.width()),10),0,360);l=C(100-Math.floor(o.y*(100/V.height())),0,100);c=C(100-Math.floor(j.y*(100/Z.height())),0,100);m=D({h:d,s:l,b:c});Z.css("backgroundColor",D({h:d,s:l,b:100}));e.find(".minicolors-grid-inner").css("opacity",1-(c/100));break;default:d=C(360-parseInt(j.y*(360/Z.height()),10),0,360);l=C(Math.floor(o.x*(100/V.width())),0,100);c=C(100-Math.floor(o.y*(100/V.height())),0,100);m=D({h:d,s:l,b:c});V.css("backgroundColor",D({h:d,s:100,b:100}));break}g.val(H(m,i.letterCase))}if(q.is(".minicolors-opacity-slider")){if(i.opacity){X=parseFloat(1-(h.y/Y.height())).toFixed(2)}else{X=1}if(i.opacity){g.attr("data-opacity",X)}}b.find("SPAN").css({backgroundColor:m,opacity:X});E(g,m,X)}function M(f,e){var j,h,X,l,m,i,k,d=f.parent(),g=f.data("minicolors-settings"),U=d.find(".minicolors-swatch"),V=d.find(".minicolors-grid"),Y=d.find(".minicolors-slider"),Z=d.find(".minicolors-opacity-slider"),W=V.find("[class$=-picker]"),b=Y.find("[class$=-picker]"),c=Z.find("[class$=-picker]");j=H(G(f.val(),true),g.letterCase);if(!j){j=H(G(g.defaultValue,true),g.letterCase)}h=Q(j);if(!e){f.val(j)}if(g.opacity){X=f.attr("data-opacity")===""?1:C(parseFloat(f.attr("data-opacity")).toFixed(2),0,1);if(isNaN(X)){X=1}f.attr("data-opacity",X);U.find("SPAN").css("opacity",X);m=C(Z.height()-(Z.height()*X),0,Z.height());c.css("top",m+"px")}U.find("SPAN").css("backgroundColor",j);switch(g.control){case"wheel":i=C(Math.ceil(h.s*0.75),0,V.height()/2);k=h.h*Math.PI/180;l=C(75-Math.cos(k)*i,0,V.width());m=C(75-Math.sin(k)*i,0,V.height());W.css({top:m+"px",left:l+"px"});m=150-(h.b/(100/V.height()));if(j===""){m=0}b.css("top",m+"px");Y.css("backgroundColor",D({h:h.h,s:h.s,b:100}));break;case"saturation":l=C((5*h.h)/12,0,150);m=C(V.height()-Math.ceil(h.b/(100/V.height())),0,V.height());W.css({top:m+"px",left:l+"px"});m=C(Y.height()-(h.s*(Y.height()/100)),0,Y.height());b.css("top",m+"px");Y.css("backgroundColor",D({h:h.h,s:100,b:h.b}));d.find(".minicolors-grid-inner").css("opacity",h.s/100);break;case"brightness":l=C((5*h.h)/12,0,150);m=C(V.height()-Math.ceil(h.s/(100/V.height())),0,V.height());W.css({top:m+"px",left:l+"px"});m=C(Y.height()-(h.b*(Y.height()/100)),0,Y.height());b.css("top",m+"px");Y.css("backgroundColor",D({h:h.h,s:h.s,b:100}));d.find(".minicolors-grid-inner").css("opacity",1-(h.b/100));break;default:l=C(Math.ceil(h.s/(100/V.width())),0,V.width());m=C(V.height()-Math.ceil(h.b/(100/V.height())),0,V.height());W.css({top:m+"px",left:l+"px"});m=C(Y.height()-(h.h/(360/Y.height())),0,Y.height());b.css("top",m+"px");V.css("backgroundColor",D({h:h.h,s:100,b:100}));break}if(f.data("minicolors-initialized")){E(f,j,X)}}function E(X,Y,W){var V=X.data("minicolors-settings"),U=X.data("minicolors-lastChange");if(!U||U.hex!==Y||U.opacity!==W){X.data("minicolors-lastChange",{hex:Y,opacity:W});if(V.change){if(V.changeDelay){clearTimeout(X.data("minicolors-changeTimeout"));X.data("minicolors-changeTimeout",setTimeout(function(){V.change.call(X.get(0),Y,W)},V.changeDelay))}else{V.change.call(X.get(0),Y,W)}}X.trigger("change").trigger("input")}}function S(W){var X=G(P(W).val(),true),U=J(X),V=P(W).attr("data-opacity");if(!U){return null}if(V!==undefined){P.extend(U,{a:parseFloat(V)})}return U}function I(W,Y){var X=G(P(W).val(),true),U=J(X),V=P(W).attr("data-opacity");if(!U){return null}if(V===undefined){V=1}if(Y){return"rgba("+U.r+", "+U.g+", "+U.b+", "+parseFloat(V)+")"}else{return"rgb("+U.r+", "+U.g+", "+U.b+")"}}function H(U,V){return V==="uppercase"?U.toUpperCase():U.toLowerCase()}function G(V,U){V=V.replace(/[^A-F0-9]/ig,"");if(V.length!==3&&V.length!==6){return""}if(V.length===3&&U){V=V[0]+V[0]+V[1]+V[1]+V[2]+V[2]}return"#"+V}function C(V,U,W){if(V<U){V=U}if(V>W){V=W}return V}function B(W){var V={};var Z=Math.round(W.h);var U=Math.round(W.s*255/100);var X=Math.round(W.b*255/100);if(U===0){V.r=V.g=V.b=X}else{var b=X;var c=(255-U)*X/255;var Y=(b-c)*(Z%60)/60;if(Z===360){Z=0}if(Z<60){V.r=b;V.b=c;V.g=c+Y}else{if(Z<120){V.g=b;V.b=c;V.r=b-Y}else{if(Z<180){V.g=b;V.r=c;V.b=c+Y}else{if(Z<240){V.b=b;V.r=c;V.g=b-Y}else{if(Z<300){V.b=b;V.g=c;V.r=c+Y}else{if(Z<360){V.r=b;V.g=c;V.b=b-Y}else{V.r=0;V.g=0;V.b=0}}}}}}}return{r:Math.round(V.r),g:Math.round(V.g),b:Math.round(V.b)}}function K(U){var V=[U.r.toString(16),U.g.toString(16),U.b.toString(16)];P.each(V,function(X,W){if(W.length===1){V[X]="0"+W}});return"#"+V.join("")}function D(U){return K(B(U))}function Q(V){var U=T(J(V));if(U.s===0){U.h=360}return U}function T(X){var V={h:0,s:0,b:0};var U=Math.min(X.r,X.g,X.b);var Y=Math.max(X.r,X.g,X.b);var W=Y-U;V.b=Y;V.s=Y!==0?255*W/Y:0;if(V.s!==0){if(X.r===Y){V.h=(X.g-X.b)/W}else{if(X.g===Y){V.h=2+(X.b-X.r)/W}else{V.h=4+(X.r-X.g)/W}}}else{V.h=-1}V.h*=60;if(V.h<0){V.h+=360}V.s*=100/255;V.b*=100/255;return V}function J(U){U=parseInt(((U.indexOf("#")>-1)?U.substring(1):U),16);return{r:U>>16,g:(U&65280)>>8,b:(U&255)}}P(document).on("mousedown.minicolors touchstart.minicolors",function(U){if(!P(U.target).parents().add(U.target).hasClass("minicolors")){F()}}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(U){var V=P(this);U.preventDefault();P(document).data("minicolors-target",V);O(V,U,true)}).on("mousemove.minicolors touchmove.minicolors",function(U){var V=P(document).data("minicolors-target");if(V){O(V,U)}}).on("mouseup.minicolors touchend.minicolors",function(){P(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(V){var U=P(this).parent().find(".minicolors-input");V.preventDefault();L(U)}).on("focus.minicolors",".minicolors-input",function(){var U=P(this);if(!U.data("minicolors-initialized")){return}L(U)}).on("blur.minicolors",".minicolors-input",function(){var V=P(this),U=V.data("minicolors-settings");if(!V.data("minicolors-initialized")){return}V.val(G(V.val(),true));if(V.val()===""){V.val(G(U.defaultValue,true))}V.val(H(V.val(),U.letterCase))}).on("keydown.minicolors",".minicolors-input",function(V){var U=P(this);if(!U.data("minicolors-initialized")){return}switch(V.keyCode){case 9:F();break;case 13:case 27:F();U.blur();break}}).on("keyup.minicolors",".minicolors-input",function(){var U=P(this);if(!U.data("minicolors-initialized")){return}M(U,true)}).on("paste.minicolors",".minicolors-input",function(){var U=P(this);if(!U.data("minicolors-initialized")){return}setTimeout(function(){M(U,true)},1)})})(jQuery)}!function(G){function E(){var I=document.createElement("input"),J="onpaste";return I.setAttribute(J,""),"function"==typeof I[J]?"paste":"input"}var B,C=E()+".mask",F=navigator.userAgent,D=/iphone/i.test(F),A=/chrome/i.test(F),H=/android/i.test(F);G.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},G.fn.extend({caret:function(I,J){var K;if(0!==this.length&&!this.is(":hidden")){return"number"==typeof I?(J="number"==typeof J?J:I,this.each(function(){this.setSelectionRange?this.setSelectionRange(I,J):this.createTextRange&&(K=this.createTextRange(),K.collapse(!0),K.moveEnd("character",J),K.moveStart("character",I),K.select())})):(this[0].setSelectionRange?(I=this[0].selectionStart,J=this[0].selectionEnd):document.selection&&document.selection.createRange&&(K=document.selection.createRange(),I=0-K.duplicate().moveStart("character",-100000),J=I+K.text.length),{begin:I,end:J})}},unmask:function(){return this.trigger("unmask")},mask:function(P,J){var N,O,I,M,L,K;return !P&&this.length>0?(N=G(this[0]),N.data(G.mask.dataName)()):(J=G.extend({autoclear:G.mask.autoclear,placeholder:G.mask.placeholder,completed:null},J),O=G.mask.definitions,I=[],M=K=P.length,L=null,G.each(P.split(""),function(Q,R){"?"==R?(K--,M=Q):O[R]?(I.push(new RegExp(O[R])),null===L&&(L=I.length-1)):I.push(null)}),this.trigger("unmask").each(function(){function Y(e){for(;++e<K&&!I[e];){}return e}function V(e){for(;--e>=0&&!I[e];){}return e}function W(f,g){var e,h;if(!(0>f)){for(e=f,h=Y(g);K>e;e++){if(I[e]){if(!(K>h&&I[e].test(U[h]))){break}U[e]=U[h],U[h]=J.placeholder,h=Y(h)}}R(),b.caret(Math.max(L,f))}}function X(f){var e,g,k,h;for(e=f,g=J.placeholder;K>e;e++){if(I[e]){if(k=Y(e),h=U[e],U[e]=g,!(K>k&&I[k].test(h))){break}g=h}}}function c(f){var g,i,h,j=f.which;8===j||46===j||D&&127===j?(g=b.caret(),i=g.begin,h=g.end,0===h-i&&(i=46!==j?V(i):h=Y(i-1),h=46===j?Y(h):h),Z(i,h),W(i,h-1),f.preventDefault()):27==j&&(b.val(Q),b.caret(0,d()),f.preventDefault())}function T(f){var g,j,h,l=f.which,i=b.caret();if(0==l){if(i.begin>=K){return b.val(b.val().substr(0,K)),f.preventDefault(),!1}i.begin==i.end&&(l=b.val().charCodeAt(i.begin-1),i.begin--,i.end--)}f.ctrlKey||f.altKey||f.metaKey||32>l||l&&(0!==i.end-i.begin&&(Z(i.begin,i.end),W(i.begin,i.end-1)),g=Y(i.begin-1),K>g&&(j=String.fromCharCode(l),I[g].test(j)&&(X(g),U[g]=j,R(),h=Y(g),H?setTimeout(G.proxy(G.fn.caret,b,h),0):b.caret(h),J.completed&&h>=K&&J.completed.call(b))),f.preventDefault())}function Z(g,f){var e;for(e=g;f>e&&K>e;e++){I[e]&&(U[e]=J.placeholder)}}function R(){b.val(U.join(""))}function d(g){var e,h,f,k=b.val(),j=-1;for(e=0,f=0;K>e;e++){if(I[e]){for(U[e]=J.placeholder;f++<k.length;){if(h=k.charAt(f-1),I[e].test(h)){U[e]=h,j=e;break}}if(f>k.length){break}}else{U[e]===k.charAt(f)&&e!==M&&(f++,j=e)}}return g?R():M>j+1?J.autoclear||U.join("")===S?(b.val(""),Z(0,K)):R():(R(),b.val(b.val().substring(0,j+1))),M?e:L}var b=G(this),U=G.map(P.split(""),function(e){return"?"!=e?O[e]?J.placeholder:e:void 0}),S=U.join(""),Q=b.val();b.data(G.mask.dataName,function(){return G.map(U,function(f,e){return I[e]&&f!=J.placeholder?f:null}).join("")}),b.attr("readonly")||b.one("unmask",function(){b.unbind(".mask").removeData(G.mask.dataName)}).bind("focus.mask",function(){clearTimeout(B);var e;Q=b.val(),e=d(),B=setTimeout(function(){R(),e==P.length?b.caret(0,e):b.caret(e)},10)}).bind("blur.mask",function(){d(),b.val()!=Q&&b.change()}).bind("keydown.mask",c).bind("keypress.mask",T).bind(C,function(){setTimeout(function(){var e=d(!0);b.caret(e),J.completed&&e==b.val().length&&J.completed.call(b)},0)}),A&&H&&b.bind("keyup.mask",T),d()}))}})}(jQuery);
/*
	Autosize v1.18.4 - 2014-01-11
	Automatically adjust textarea height based on user input.
	(c) 2014 Jack Moore - http://www.jacklmoore.com/autosize
	license: http://www.opensource.org/licenses/mit-license.php
*/
(function(F){var A={className:"autosizejs",append:"",callback:false,resizeDelay:10,placeholder:true},D='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',B=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],C,E=F(D).data("autosize",true)[0];E.style.lineHeight="99px";if(F(E).css("lineHeight")==="99px"){B.push("lineHeight")}E.style.lineHeight="";F.fn.autosize=function(G){if(!this.length){return this}G=F.extend({},A,G||{});if(E.parentNode!==document.body){F(document.body).append(E)}return this.each(function(){var O=this,N=F(O),R,S,J=0,K=F.isFunction(G.callback),M={height:O.style.height,overflow:O.style.overflow,overflowY:O.style.overflowY,wordWrap:O.style.wordWrap,resize:O.style.resize},L,P=N.width();if(N.data("autosize")){return}N.data("autosize",true);if(N.css("box-sizing")==="border-box"||N.css("-moz-box-sizing")==="border-box"||N.css("-webkit-box-sizing")==="border-box"){J=N.outerHeight()-N.height()}S=Math.max(parseInt(N.css("minHeight"),10)-J||0,N.height());N.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:(N.css("resize")==="none"||N.css("resize")==="vertical")?"none":"horizontal"});function H(){var V;var U=window.getComputedStyle?window.getComputedStyle(O,null):false;if(U){V=O.getBoundingClientRect().width;if(V===0){V=parseInt(U.width,10)}F.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(W,X){V-=parseInt(U[X],10)})}else{V=Math.max(N.width(),0)}E.style.width=V+"px"}function I(){var V={};C=O;E.className=G.className;R=parseInt(N.css("maxHeight"),10);F.each(B,function(X,Y){V[Y]=N.css(Y)});F(E).css(V);H();if(window.chrome){var W=O.style.width;O.style.width="0px";var U=O.offsetWidth;O.style.width=W}}function Q(){var U,V;if(C!==O){I()}else{H()}if(!O.value&&G.placeholder){E.value=(F(O).attr("placeholder")||"")+G.append}else{E.value=O.value+G.append}E.style.overflowY=O.style.overflowY;V=parseInt(O.style.height,10);E.scrollTop=0;E.scrollTop=90000;U=E.scrollTop;if(R&&U>R){O.style.overflowY="scroll";U=R}else{O.style.overflowY="hidden";if(U<S){U=S}}U+=J;if(V!==U){O.style.height=U+"px";if(K){G.callback.call(O,O)}}}function T(){clearTimeout(L);L=setTimeout(function(){var U=N.width();if(U!==P){P=U;Q()}},parseInt(G.resizeDelay,10))}if("onpropertychange" in O){if("oninput" in O){N.on("input.autosize keyup.autosize",Q)}else{N.on("propertychange.autosize",function(){if(event.propertyName==="value"){Q()}})}}else{N.on("input.autosize",Q)}if(G.resizeDelay!==false){F(window).on("resize.autosize",T)}N.on("autosize.resize",Q);N.on("autosize.resizeIncludeStyle",function(){C=null;Q()});N.on("autosize.destroy",function(){C=null;clearTimeout(L);F(window).off("resize",T);N.off("autosize").off(".autosize").css(M).removeData("autosize")});Q()})}}(window.jQuery||window.$));!function(B,A){"function"==typeof define&&define.amd?define(["jquery"],A):"object"==typeof exports?module.exports=A(require("jquery")):B.bootbox=A(B.jQuery)}(this,function a(L,M){function P(R){var Q=C[I.locale];return Q?Q[R]:C.en[R]}function A(T,S,Q){T.stopPropagation(),T.preventDefault();var R=L.isFunction(Q)&&Q.call(S,T)===!1;R||S.modal("hide")}function N(S){var Q,R=0;for(Q in S){R++}return R}function O(S,R){var Q=0;L.each(S,function(U,T){R(U,T,Q++)})}function F(S){var R,Q;if("object"!=typeof S){throw new Error("Please supply an object of options")}if(!S.message){throw new Error("Please specify a message")}return S=L.extend({},I,S),S.buttons||(S.buttons={}),R=S.buttons,Q=N(R),O(R,function(U,T,V){if(L.isFunction(T)&&(T=R[U]={callback:T}),"object"!==L.type(T)){throw new Error("button with key "+U+" must be an object")}T.label||(T.label=U),T.className||(T.className=2>=Q&&V===Q-1?"btn-primary":"btn-default")}),S}function G(T,R){var S=T.length,Q={};if(1>S||S>2){throw new Error("Invalid argument length")}return 2===S||"string"==typeof T[0]?(Q[R[0]]=T[0],Q[R[1]]=T[1]):Q=T[0],Q}function D(S,R,Q){return L.extend(!0,{},S,G(R,Q))}function E(U,S,T,Q){var R={className:"bootbox-"+U,buttons:J.apply(null,S)};return K(D(R,Q,T),S)}function J(){for(var U={},S=0,T=arguments.length;T>S;S++){var R=arguments[S],V=R.toLowerCase(),Q=R.toUpperCase();U[V]={label:P(Q)}}return U}function K(S,R){var Q={};return O(R,function(U,T){Q[T]=!0}),O(S.buttons,function(T){if(Q[T]===M){throw new Error("button key "+T+" is not allowed (options are "+R.join("\n")+")")}}),S}var H={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},I={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},B={};B.alert=function(){var Q;if(Q=E("alert",["ok"],["message","callback"],arguments),Q.callback&&!L.isFunction(Q.callback)){throw new Error("alert requires callback property to be a function when provided")}return Q.buttons.ok.callback=Q.onEscape=function(){return L.isFunction(Q.callback)?Q.callback.call(this):!0},B.dialog(Q)},B.confirm=function(){var Q;if(Q=E("confirm",["cancel","confirm"],["message","callback"],arguments),Q.buttons.cancel.callback=Q.onEscape=function(){return Q.callback.call(this,!1)},Q.buttons.confirm.callback=function(){return Q.callback.call(this,!0)},!L.isFunction(Q.callback)){throw new Error("confirm requires a callback")}return B.dialog(Q)},B.prompt=function(){var W,Y,Q,X,T,U,S;if(X=L(H.form),Y={className:"bootbox-prompt",buttons:J("cancel","confirm"),value:"",inputType:"text"},W=K(D(Y,arguments,["title","callback"]),["cancel","confirm"]),U=W.show===M?!0:W.show,W.message=X,W.buttons.cancel.callback=W.onEscape=function(){return W.callback.call(this,null)},W.buttons.confirm.callback=function(){var b;switch(W.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":b=T.val();break;case"checkbox":var Z=T.find("input:checked");b=[],O(Z,function(e,c){b.push(L(c).val())})}return W.callback.call(this,b)},W.show=!1,!W.title){throw new Error("prompt requires a title")}if(!L.isFunction(W.callback)){throw new Error("prompt requires a callback")}if(!H.inputs[W.inputType]){throw new Error("invalid prompt type")}switch(T=L(H.inputs[W.inputType]),W.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":T.val(W.value);break;case"select":var V={};if(S=W.inputOptions||[],!L.isArray(S)){throw new Error("Please pass an array of input options")}if(!S.length){throw new Error("prompt with select requires options")}O(S,function(c,Z){var b=T;if(Z.value===M||Z.text===M){throw new Error("given options in wrong format")}Z.group&&(V[Z.group]||(V[Z.group]=L("<optgroup/>").attr("label",Z.group)),b=V[Z.group]),b.append("<option value='"+Z.value+"'>"+Z.text+"</option>")}),O(V,function(c,Z){T.append(Z)}),T.val(W.value);break;case"checkbox":var R=L.isArray(W.value)?W.value:[W.value];if(S=W.inputOptions||[],!S.length){throw new Error("prompt with checkbox requires options")}if(!S[0].value||!S[0].text){throw new Error("given options in wrong format")}T=L("<div/>"),O(S,function(f,Z){var b=L(H.inputs[W.inputType]);b.find("input").attr("value",Z.value),b.find("label").append(Z.text),O(R,function(d,c){c===Z.value&&b.find("input").prop("checked",!0)}),T.append(b)})}return W.placeholder&&T.attr("placeholder",W.placeholder),W.pattern&&T.attr("pattern",W.pattern),W.maxlength&&T.attr("maxlength",W.maxlength),X.append(T),X.on("submit",function(Z){Z.preventDefault(),Z.stopPropagation(),Q.find(".btn-primary").click()}),Q=B.dialog(W),Q.off("shown.bs.modal"),Q.on("shown.bs.modal",function(){T.focus()}),U===!0&&Q.modal("show"),Q},B.dialog=function(V){V=F(V);var X=L(H.dialog),W=X.find(".modal-dialog"),S=X.find(".modal-body"),Q=V.buttons,R="",T={onEscape:V.onEscape};if(L.fn.modal===M){throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.")}if(O(Q,function(Z,Y){R+="<button data-bb-handler='"+Z+"' type='button' class='btn "+Y.className+"'>"+Y.label+"</button>",T[Z]=Y.callback}),S.find(".bootbox-body").html(V.message),V.animate===!0&&X.addClass("fade"),V.className&&X.addClass(V.className),"large"===V.size?W.addClass("modal-lg"):"small"===V.size&&W.addClass("modal-sm"),V.title&&S.before(H.header),V.closeButton){var U=L(H.closeButton);V.title?X.find(".modal-header").prepend(U):U.css("margin-top","-10px").prependTo(S)}return V.title&&X.find(".modal-title").html(V.title),R.length&&(S.after(H.footer),X.find(".modal-footer").html(R)),X.on("hidden.bs.modal",function(Y){Y.target===this&&X.remove()}),X.on("shown.bs.modal",function(){X.find(".btn-primary:first").focus()}),"static"!==V.backdrop&&X.on("click.dismiss.bs.modal",function(Y){X.children(".modal-backdrop").length&&(Y.currentTarget=X.children(".modal-backdrop").get(0)),Y.target===Y.currentTarget&&X.trigger("escape.close.bb")}),X.on("escape.close.bb",function(Y){T.onEscape&&A(Y,X,T.onEscape)}),X.on("click",".modal-footer button",function(Z){var Y=L(this).data("bb-handler");A(Z,X,T[Y])}),X.on("click",".bootbox-close-button",function(Y){A(Y,X,T.onEscape)}),X.on("keyup",function(Y){27===Y.which&&X.trigger("escape.close.bb")}),L(V.container).append(X),X.modal({backdrop:V.backdrop?"static":!1,keyboard:!1,show:!1}),V.show&&X.modal("show"),X},B.setDefaults=function(){var Q={};2===arguments.length?Q[arguments[0]]=arguments[1]:Q=arguments[0],L.extend(I,Q)},B.hideAll=function(){return L(".bootbox").modal("hide"),B};var C={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return B.addLocale=function(R,Q){return L.each(["OK","CANCEL","CONFIRM"],function(T,S){if(!Q[S]){throw new Error("Please supply a translation for '"+S+"'")}}),C[R]={OK:Q.OK,CANCEL:Q.CANCEL,CONFIRM:Q.CONFIRM},B},B.removeLocale=function(Q){return delete C[Q],B},B.setLocale=function(Q){return B.setDefaults("locale",Q)},B.init=function(Q){return a(Q||L)},B});(function(){var D,B,C,A=function(E,F){return function(){return E.apply(F,arguments)}};D=jQuery;B=(function(){function E(){}E.transitions={"webkitTransition":"webkitTransitionEnd","mozTransition":"mozTransitionEnd","oTransition":"oTransitionEnd","transition":"transitionend"};E.transition=function(I){var F,G,J,H;F=I[0];H=this.transitions;for(J in H){G=H[J];if(F.style[J]!=null){return G}}};return E})();C=(function(){E.settings={namespace:"growl",duration:3200,close:"&times;",location:"default",style:"default",size:"medium"};E.growl=function(F){if(F==null){F={}}this.initialize();return new E(F)};E.initialize=function(){return D("body:not(:has(#growls))").append('<div id="growls" />')};function E(F){if(F==null){F={}}this.html=A(this.html,this);this.$growl=A(this.$growl,this);this.$growls=A(this.$growls,this);this.animate=A(this.animate,this);this.remove=A(this.remove,this);this.dismiss=A(this.dismiss,this);this.present=A(this.present,this);this.close=A(this.close,this);this.cycle=A(this.cycle,this);this.unbind=A(this.unbind,this);this.bind=A(this.bind,this);this.render=A(this.render,this);this.settings=D.extend({},E.settings,F);this.$growls().attr("class",this.settings.location);this.render()}E.prototype.render=function(){var F;F=this.$growl();this.$growls().append(F);this.cycle(F)};E.prototype.bind=function(F){if(F==null){F=this.$growl()}return F.find("."+this.settings.namespace+"-close").on("click",this.close)};E.prototype.unbind=function(F){if(F==null){F=this.$growl()}return F.find("."+(this.settings.namespace-close)).off("click",this.close)};E.prototype.cycle=function(F){if(F==null){F=this.$growl()}return F.queue(this.present).delay(this.settings.duration).queue(this.dismiss).queue(this.remove)};E.prototype.close=function(G){var F;G.preventDefault();G.stopPropagation();F=this.$growl();return F.stop().queue(this.dismiss).queue(this.remove)};E.prototype.present=function(F){var G;G=this.$growl();this.bind(G);return this.animate(G,""+this.settings.namespace+"-incoming","out",F)};E.prototype.dismiss=function(F){var G;G=this.$growl();this.unbind(G);return this.animate(G,""+this.settings.namespace+"-outgoing","in",F)};E.prototype.remove=function(F){this.$growl().remove();return F()};E.prototype.animate=function(I,H,J,F){var G;if(J==null){J="in"}G=B.transition(I);I[J==="in"?"removeClass":"addClass"](H);I.offset().position;I[J==="in"?"addClass":"removeClass"](H);if(F==null){return}if(G!=null){I.one(G,F)}else{F()}};E.prototype.$growls=function(){return this.$_growls!=null?this.$_growls:this.$_growls=D("#growls")};E.prototype.$growl=function(){return this.$_growl!=null?this.$_growl:this.$_growl=D(this.html())};E.prototype.html=function(){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  <div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n  <div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n  <div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>\n</div>"};return E})();D.growl=function(E){if(E==null){E={}}return C.growl(E)};D.growl.error=function(E){var F;if(E==null){E={}}F={title:"Error!",style:"error"};return D.growl(D.extend(F,E))};D.growl.notice=function(E){var F;if(E==null){E={}}F={title:"Notice!",style:"notice"};return D.growl(D.extend(F,E))};D.growl.warning=function(E){var F;if(E==null){E={}}F={title:"Warning!",style:"warning"};return D.growl(D.extend(F,E))}}).call(this);
/*jQuery Knob*/
(function(D){var A={},C=Math.max,B=Math.min;A.c={};A.c.d=D(document);A.c.t=function(E){return E.originalEvent.touches.length-1};A.o=function(){var E=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var F=function(G,H){var I;for(I in H){E.o[I]=H[I]}E._carve().init();E._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=D.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:true,readOnly:this.$.data("readonly")||(this.$.attr("readonly")==="readonly"),cursor:(this.$.data("cursor")===true&&30)||this.$.data("cursor")||0,thickness:(this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),0.01))||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null,format:function(G){return G},parse:function(G){return parseFloat(G)}},this.o);if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(H){var G=D(this);E.i[H]=G;E.v[H]=E.o.parse(G.val());G.bind("change blur",function(){var I={};I[H]=G.val();E.val(I)})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.o.parse(this.$.val());(this.v==="")&&(this.v=this.o.min);this.$.bind("change blur",function(){E.val(E._validate(E.o.parse(E.$.val())))})}(!this.o.displayInput)&&this.$.hide();this.$c=D(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height});this.$div=D('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){throw {name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}}}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=((this.o.width%1!==0)&&this.o.width.indexOf("%"));this.relativeHeight=((this.o.height%1!==0)&&this.o.height.indexOf("%"));this.relative=(this.relativeWidth||this.relativeHeight);this._carve();if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",F).parent().bind("configure",F);this._listen()._configure()._xy().init();this.isInit=true;this.$.val(this.o.format(this.v));this._draw();return this};this._carve=function(){if(this.relative){var G=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),F=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(G,F)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({"width":this.w+"px","height":this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return this};this._draw=function(){var F=true;E.g=E.c;E.clear();E.dH&&(F=E.dH());(F!==false)&&E.draw()};this._touch=function(G){var F=function(H){var I=E.xy2val(H.originalEvent.touches[E.t].pageX,H.originalEvent.touches[E.t].pageY);if(I==E.cv){return}if(E.cH&&(E.cH(I)===false)){return}E.change(E._validate(I));E._draw()};this.t=A.c.t(G);F(G);A.c.d.bind("touchmove.k",F).bind("touchend.k",function(){A.c.d.unbind("touchmove.k touchend.k");E.val(E.cv)});return this};this._mouse=function(F){var G=function(H){var I=E.xy2val(H.pageX,H.pageY);if(I==E.cv){return}if(E.cH&&(E.cH(I)===false)){return}E.change(E._validate(I));E._draw()};G(F);A.c.d.bind("mousemove.k",G).bind("keyup.k",function(H){if(H.keyCode===27){A.c.d.unbind("mouseup.k mousemove.k keyup.k");if(E.eH&&(E.eH()===false)){return}E.cancel()}}).bind("mouseup.k",function(H){A.c.d.unbind("mousemove.k mouseup.k keyup.k");E.val(E.cv)});return this};this._xy=function(){var F=this.$c.offset();this.x=F.left;this.y=F.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(F){F.preventDefault();E._xy()._mouse(F)}).bind("touchstart",function(F){F.preventDefault();E._xy()._touch(F)});this.listen()}else{this.$.attr("readonly","readonly")}if(this.relative){D(window).resize(function(){E._carve().init();E._draw()})}return this};this._configure=function(){if(this.o.draw){this.dH=this.o.draw}if(this.o.change){this.cH=this.o.change}if(this.o.cancel){this.eH=this.o.cancel}if(this.o.release){this.rH=this.o.release}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(F){return(~~(((F<0)?-0.5:0.5)+(F/this.o.step)))*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(F){};this.val=function(F){};this.xy2val=function(F,G){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(F,H){var G;F=F.substring(1,7);G=[parseInt(F.substring(0,2),16),parseInt(F.substring(2,4),16),parseInt(F.substring(4,6),16)];return"rgba("+G[0]+","+G[1]+","+G[2]+","+H+")"};this.copy=function(H,G){for(var F in H){G[F]=H[F]}}};A.Dial=function(){A.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=D.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(F,E){if(null!=F){F=this.o.parse(F);if(E!==false&&(F!=this.v)&&this.rH&&(this.rH(F)===false)){return}this.cv=this.o.stopper?C(B(F,this.o.max),this.o.min):F;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else{return this.v}};this.xy2val=function(F,G){var H,E;H=Math.atan2(F-(this.x+this.w2),-(G-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&(H<0)&&(H>-0.5)){H=0}else{if(H<0){H+=this.PI2}}E=~~(0.5+(H*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(E=C(B(E,this.o.max),this.o.min));return E};this.listen=function(){var E=this,G,L,J=function(M){M.preventDefault();var N=M.originalEvent,Q=N.detail||N.wheelDeltaX,O=N.detail||N.wheelDeltaY,P=E._validate(E.o.parse(E.$.val()))+(Q>0||O>0?E.o.step:Q<0||O<0?-E.o.step:0);P=C(B(P,E.o.max),E.o.min);E.val(P,false);if(E.rH){clearTimeout(G);G=setTimeout(function(){E.rH(P);G=null},100);if(!L){L=setTimeout(function(){if(G){E.rH(P)}L=null},200)}}},F,K,I=1,H={37:-E.o.step,38:E.o.step,39:E.o.step,40:-E.o.step};this.$.bind("keydown",function(M){var N=M.keyCode;if(N>=96&&N<=105){N=M.keyCode=N-48}F=parseInt(String.fromCharCode(N));if(isNaN(F)){(N!==13)&&(N!==8)&&(N!==9)&&(N!==189)&&(N!==190||E.$.val().match(/\./))&&M.preventDefault();if(D.inArray(N,[37,38,39,40])>-1){M.preventDefault();var O=E.o.parse(E.$.val())+H[N]*I;E.o.stopper&&(O=C(B(O,E.o.max),E.o.min));E.change(O);E._draw();K=window.setTimeout(function(){I*=2},30)}}}).bind("keyup",function(M){if(isNaN(F)){if(K){window.clearTimeout(K);K=null;I=1;E.val(E.$.val())}}else{(E.$.val()>E.o.max&&E.$.val(E.o.max))||(E.$.val()<E.o.min&&E.$.val(E.o.min))}});this.$c.bind("mousewheel DOMMouseScroll",J);this.$.bind("mousewheel DOMMouseScroll",J)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var E=C(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({"width":((this.w/2+4)>>0)+"px","height":((this.w/3)>>0)+"px","position":"absolute","vertical-align":"middle","margin-top":((this.w/3)>>0)+"px","margin-left":"-"+((this.w*3/4+2)>>0)+"px","border":0,"background":"none","font":this.o.fontWeight+" "+((this.w/E)>>0)+"px "+this.o.font,"text-align":"center","color":this.o.inputColor||this.o.fgColor,"padding":"0px","-webkit-appearance":"none"})||this.i.css({"width":"0px","visibility":"hidden"})};this.change=function(E){this.cv=E;this.$.val(this.o.format(E))};this.angle=function(E){return(E-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var I=this.g,J=this.angle(this.cv),E=this.startAngle,H=E+J,G,K,F=1;I.lineWidth=this.lineWidth;I.lineCap=this.lineCap;this.o.cursor&&(E=H-this.cursorExt)&&(H=H+this.cursorExt);I.beginPath();I.strokeStyle=this.o.bgColor;I.arc(this.xy,this.xy,this.radius,this.endAngle-1e-05,this.startAngle+1e-05,true);I.stroke();if(this.o.displayPrevious){K=this.startAngle+this.angle(this.v);G=this.startAngle;this.o.cursor&&(G=K-this.cursorExt)&&(K=K+this.cursorExt);I.beginPath();I.strokeStyle=this.pColor;I.arc(this.xy,this.xy,this.radius,G-1e-05,K+1e-05,false);I.stroke();F=(this.cv==this.v)}I.beginPath();I.strokeStyle=F?this.o.fgColor:this.fgColor;I.arc(this.xy,this.xy,this.radius,E-1e-05,H+1e-05,false);I.stroke()};this.cancel=function(){this.val(this.v)}};D.fn.dial=D.fn.knob=function(E){return this.each(function(){var F=new A.Dial();F.o=E;F.$=D(this);F.run()}).parent()}})(jQuery);(function(A,B,C){(function(D){if(typeof define==="function"&&define.amd){define(["jquery"],D)}else{if(jQuery&&!jQuery.fn.sparkline){D(jQuery)}}}(function(W){var e={},m,J,X,K,D,E,g,k,Z,U,l,O,Y,h,T,i,b,Q,H,V,M,j,G,P,c,L,I,f,d,S,N,F,R=0;m=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false,enableHighlight:true,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:false,numberFormatter:false,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:false,disableInteraction:false},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:C,normalRangeMax:C,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:C,chartRangeMax:C,chartRangeMinX:C,chartRangeMaxX:C,tooltipFormat:new X('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:C,nullColor:C,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMax:C,chartRangeMin:C,chartRangeClip:false,colorMap:C,tooltipFormat:new X('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new X('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:C,thresholdValue:0,chartRangeMax:C,chartRangeMin:C,chartRangeClip:false,tooltipFormat:new X("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:C,tooltipFormat:new X("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new X('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:C,targetColor:"#4a2",chartRangeMax:C,chartRangeMin:C,tooltipFormat:new X("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};L='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';J=function(){var n,o;n=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){n.prototype=W.extend(new arguments[0](),arguments[arguments.length-1]);n._super=arguments[0].prototype}else{n.prototype=arguments[arguments.length-1]}if(arguments.length>2){o=Array.prototype.slice.call(arguments,1,-1);o.unshift(n.prototype);W.extend.apply(W,o)}}else{n.prototype=arguments[0]}n.prototype.cls=n;return n};W.SPFormatClass=X=J({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,o){this.format=n;this.fclass=o},render:function(w,n,s){var v=this,x=w,o,y,r,q,u;return this.format.replace(this.fre,function(){var z;y=arguments[1];r=arguments[3];o=v.precre.exec(y);if(o){u=o[2];y=o[1]}else{u=false}q=x[y];if(q===C){return""}if(r&&n&&n[r]){z=n[r];if(z.get){return n[r].get(q)||q}else{return n[r][q]||q}}if(Z(q)){if(s.get("numberFormatter")){q=s.get("numberFormatter")(q)}else{q=h(q,u,s.get("numberDigitGroupCount"),s.get("numberDigitGroupSep"),s.get("numberDecimalMark"))}}return q})}});W.spformat=function(n,o){return new X(n,o)};K=function(o,n,q){if(o<n){return n}if(o>q){return q}return o};D=function(r,o){var n;if(o===2){n=B.floor(r.length/2);return r.length%2?r[n]:(r[n-1]+r[n])/2}else{if(r.length%2){n=(r.length*o+o)/4;return n%1?(r[B.floor(n)]+r[B.floor(n)-1])/2:r[n-1]}else{n=(r.length*o+2)/4;return n%1?(r[B.floor(n)]+r[B.floor(n)-1])/2:r[n-1]}}};E=function(o){var n;switch(o){case"undefined":o=C;break;case"null":o=null;break;case"true":o=true;break;case"false":o=false;break;default:n=parseFloat(o);if(o==n){o=n}}return o};g=function(q){var n,o=[];for(n=q.length;n--;){o[n]=E(q[n])}return o};k=function(s,q){var n,o,r=[];for(n=0,o=s.length;n<o;n++){if(s[n]!==q){r.push(s[n])}}return r};Z=function(n){return !isNaN(parseFloat(n))&&isFinite(n)};h=function(s,r,n,v,u){var q,o;s=(r===false?parseFloat(s).toString():s.toFixed(r)).split("");q=(q=W.inArray(".",s))<0?s.length:q;if(q<s.length){s[q]=u}for(o=q-n;o>0;o-=n){s.splice(o,0,v)}return s.join("")};U=function(r,q,o){var n;for(n=q.length;n--;){if(o&&q[n]===null){continue}if(q[n]!==r){return false}}return true};l=function(q){var o=0,n;for(n=q.length;n--;){o+=typeof q[n]==="number"?q[n]:0}return o};Y=function(n){return W.isArray(n)?n:[n]};O=function(o){var n;if(A.createStyleSheet){A.createStyleSheet().cssText=o}else{n=A.createElement("style");n.type="text/css";A.getElementsByTagName("head")[0].appendChild(n);n[(typeof A.body.style.WebkitAppearance=="string")?"innerText":"innerHTML"]=o}};W.fn.simpledraw=function(u,o,q,s){var r,v;if(q&&(r=this.data("_jqs_vcanvas"))){return r}if(W.fn.sparkline.canvas===false){return false}else{if(W.fn.sparkline.canvas===C){var n=A.createElement("canvas");if(!!(n.getContext&&n.getContext("2d"))){W.fn.sparkline.canvas=function(z,w,y,x){return new S(z,w,y,x)}}else{if(A.namespaces&&!A.namespaces.v){A.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");W.fn.sparkline.canvas=function(z,w,y,x){return new N(z,w,y)}}else{W.fn.sparkline.canvas=false;return false}}}}if(u===C){u=W(this).innerWidth()}if(o===C){o=W(this).innerHeight()}r=W.fn.sparkline.canvas(u,o,this,s);v=W(this).data("_jqs_mhandler");if(v){v.registerCanvas(r)}return r};W.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");if(n){n.reset()}};W.RangeMapClass=T=J({init:function(o){var n,r,q=[];for(n in o){if(o.hasOwnProperty(n)&&typeof n==="string"&&n.indexOf(":")>-1){r=n.split(":");r[0]=r[0].length===0?-Infinity:parseFloat(r[0]);r[1]=r[1].length===0?Infinity:parseFloat(r[1]);r[2]=o[n];q.push(r)}}this.map=o;this.rangelist=q||false},get:function(r){var q=this.rangelist,n,s,o;if((o=this.map[r])!==C){return o}if(q){for(n=q.length;n--;){s=q[n];if(s[0]<=r&&s[1]>=r){return s[2]}}}return C}});W.range_map=function(n){return new T(n)};i=J({init:function(n,o){var q=W(n);this.$el=q;this.options=o;this.currentPageX=0;this.currentPageY=0;this.el=n;this.splist=[];this.tooltip=null;this.over=false;this.displayTooltips=!o.get("disableTooltips");this.highlightEnabled=!o.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);if(this.over){this.updateDisplay()}},registerCanvas:function(n){var o=W(n.canvas);this.canvas=n;this.$canvas=o;o.mouseenter(W.proxy(this.mouseenter,this));o.mouseleave(W.proxy(this.mouseleave,this));o.click(W.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];if(this.tooltip&&n){this.tooltip.remove();this.tooltip=C}},mouseclick:function(n){var o=W.Event("sparklineClick");o.originalEvent=n;o.sparklines=this.splist;this.$el.trigger(o)},mouseenter:function(n){W(A.body).unbind("mousemove.jqs");W(A.body).bind("mousemove.jqs",W.proxy(this.mousemove,this));this.over=true;this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;if(!this.tooltip&&this.displayTooltips){this.tooltip=new b(this.options);this.tooltip.updatePosition(n.pageX,n.pageY)}this.updateDisplay()},mouseleave:function(){W(A.body).unbind("mousemove.jqs");var s=this.splist,q=s.length,n=false,r,o;this.over=false;this.currentEl=null;if(this.tooltip){this.tooltip.remove();this.tooltip=null}for(o=0;o<q;o++){r=s[o];if(r.clearRegionHighlight()){n=true}}if(n){this.canvas.render()}},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;if(this.tooltip){this.tooltip.updatePosition(n.pageX,n.pageY)}this.updateDisplay()},updateDisplay:function(){var r=this.splist,n=r.length,z=false,q=this.$canvas.offset(),w=this.currentPageX-q.left,s=this.currentPageY-q.top,y,o,v,u,x;if(!this.over){return}for(v=0;v<n;v++){o=r[v];u=o.setRegionHighlight(this.currentEl,w,s);if(u){z=true}}if(z){x=W.Event("sparklineRegionChange");x.sparklines=this.splist;this.$el.trigger(x);if(this.tooltip){y="";for(v=0;v<n;v++){o=r[v];y+=o.getCurrentRegionTooltip()}this.tooltip.setContent(y)}if(!this.disableHighlight){this.canvas.render()}}if(u===null){this.mouseleave()}}});b=J({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(r){var o=r.get("tooltipClassname","jqstooltip"),q=this.sizeStyle,n;this.container=r.get("tooltipContainer")||A.body;this.tooltipOffsetX=r.get("tooltipOffsetX",10);this.tooltipOffsetY=r.get("tooltipOffsetY",12);W("#jqssizetip").remove();W("#jqstooltip").remove();this.sizetip=W("<div/>",{id:"jqssizetip",style:q,"class":o});this.tooltip=W("<div/>",{id:"jqstooltip","class":o}).appendTo(this.container);n=this.tooltip.offset();this.offsetLeft=n.left;this.offsetTop=n.top;this.hidden=true;W(window).unbind("resize.jqs scroll.jqs");W(window).bind("resize.jqs scroll.jqs",W.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=W(window).scrollTop();this.scrollLeft=W(window).scrollLeft();this.scrollRight=this.scrollLeft+W(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=true;return}this.getSize(n);this.tooltip.html(n).css({"width":this.width,"height":this.height,"visibility":"visible"});if(this.hidden){this.hidden=false;this.updatePosition()}},updatePosition:function(n,o){if(n===C){if(this.mousex===C){return}n=this.mousex-this.offsetLeft;o=this.mousey-this.offsetTop}else{this.mousex=n=n-this.offsetLeft;this.mousey=o=o-this.offsetTop}if(!this.height||!this.width||this.hidden){return}o-=this.height+this.tooltipOffsetY;n+=this.tooltipOffsetX;if(o<this.scrollTop){o=this.scrollTop}if(n<this.scrollLeft){n=this.scrollLeft}else{if(n+this.width>this.scrollRight){n=this.scrollRight-this.width}}this.tooltip.css({"left":n,"top":o})},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=C;W(window).unbind("resize.jqs scroll.jqs")}});I=function(){O(L)};W(I);F=[];W.fn.sparkline=function(o,n){return this.each(function(){var u=new W.fn.sparkline.options(this,n),s=W(this),q,r;q=function(){var Aa,z,w,v,y,x,Ab;if(o==="html"||o===C){Ab=this.getAttribute(u.get("tagValuesAttribute"));if(Ab===C||Ab===null){Ab=s.html()}Aa=Ab.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{Aa=o}z=u.get("width")==="auto"?Aa.length*u.get("defaultPixelsPerValue"):u.get("width");if(u.get("height")==="auto"){if(!u.get("composite")||!W.data(this,"_jqs_vcanvas")){v=A.createElement("span");v.innerHTML="a";s.html(v);w=W(v).innerHeight()||W(v).height();W(v).remove();v=null}}else{w=u.get("height")}if(!u.get("disableInteraction")){y=W.data(this,"_jqs_mhandler");if(!y){y=new i(this,u);W.data(this,"_jqs_mhandler",y)}else{if(!u.get("composite")){y.reset()}}}else{y=false}if(u.get("composite")&&!W.data(this,"_jqs_vcanvas")){if(!W.data(this,"_jqs_errnotify")){alert("Attempted to attach a composite sparkline to an element with no existing sparkline");W.data(this,"_jqs_errnotify",true)}return}x=new W.fn.sparkline[u.get("type")](this,Aa,u,z,w);x.render();if(y){y.registerSparkline(x)}};if((W(this).html()&&!u.get("disableHiddenCheck")&&W(this).is(":hidden"))||!W(this).parents("body").length){if(!u.get("composite")&&W.data(this,"_jqs_pending")){for(r=F.length;r;r--){if(F[r-1][0]==this){F.splice(r-1,1)}}}F.push([this,q]);W.data(this,"_jqs_pending",true)}else{q.call(this)}})};W.fn.sparkline.defaults=m();W.sparkline_display_visible=function(){var n,o,q;var r=[];for(o=0,q=F.length;o<q;o++){n=F[o][0];if(W(n).is(":visible")&&!W(n).parents().is(":hidden")){F[o][1].call(n);W.data(F[o][0],"_jqs_pending",false);r.push(o)}else{if(!W(n).closest("html").length&&!W.data(n,"_jqs_pending")){W.data(F[o][0],"_jqs_pending",false);r.push(o)}}}for(o=r.length;o;o--){F.splice(r[o-1],1)}};W.fn.sparkline.options=J({init:function(n,s){var r,u,q,o;this.userOptions=s=s||{};this.tag=n;this.tagValCache={};u=W.fn.sparkline.defaults;q=u.common;this.tagOptionsPrefix=s.enableTagOptions&&(s.tagOptionsPrefix||q.tagOptionsPrefix);o=this.getTagSetting("type");if(o===e){r=u[s.type||q.type]}else{r=u[o]}this.mergedOptions=W.extend({},q,r,s)},getTagSetting:function(n){var q=this.tagOptionsPrefix,u,o,s,r;if(q===false||q===C){return e}if(this.tagValCache.hasOwnProperty(n)){u=this.tagValCache.key}else{u=this.tag.getAttribute(q+n);if(u===C||u===null){u=e}else{if(u.substr(0,1)==="["){u=u.substr(1,u.length-2).split(",");for(o=u.length;o--;){u[o]=E(u[o].replace(/(^\s*)|(\s*$)/g,""))}}else{if(u.substr(0,1)==="{"){s=u.substr(1,u.length-2).split(",");u={};for(o=s.length;o--;){r=s[o].split(":",2);u[r[0].replace(/(^\s*)|(\s*$)/g,"")]=E(r[1].replace(/(^\s*)|(\s*$)/g,""))}}else{u=E(u)}}}this.tagValCache.key=u}return u},get:function(n,q){var o=this.getTagSetting(n),r;if(o!==e){return o}return(r=this.mergedOptions[n])===C?q:r}});W.fn.sparkline._base=J({disabled:false,init:function(n,s,r,q,o){this.el=n;this.$el=W(n);this.values=s;this.options=r;this.width=q;this.height=o;this.currentRegion=C},initTarget:function(){var n=!this.options.get("disableInteraction");if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))){this.disabled=true}else{this.canvasWidth=this.target.pixelWidth;this.canvasHeight=this.target.pixelHeight}},render:function(){if(this.disabled){this.el.innerHTML="";return false}return true},getRegion:function(n,o){},setRegionHighlight:function(n,r,s){var o=this.currentRegion,q=!this.options.get("disableHighlight"),u;if(r>this.canvasWidth||s>this.canvasHeight||r<0||s<0){return null}u=this.getRegion(n,r,s);if(o!==u){if(o!==C&&q){this.removeHighlight()}this.currentRegion=u;if(u!==C&&q){this.renderHighlight()}return true}return false},clearRegionHighlight:function(){if(this.currentRegion!==C){this.removeHighlight();this.currentRegion=C;return true}return false},renderHighlight:function(){this.changeHighlight(true)},removeHighlight:function(){this.changeHighlight(false)},changeHighlight:function(n){},getCurrentRegionTooltip:function(){var Ad=this.options,x="",w=[],Aa,u,Ae,z,n,Ac,Af,o,y,v,r,Ab,q,s;if(this.currentRegion===C){return""}Aa=this.getCurrentRegionFields();r=Ad.get("tooltipFormatter");if(r){return r(this,Ad,Aa)}if(Ad.get("tooltipChartTitle")){x+='<div class="jqs jqstitle">'+Ad.get("tooltipChartTitle")+"</div>\n"}u=this.options.get("tooltipFormat");if(!u){return""}if(!W.isArray(u)){u=[u]}if(!W.isArray(Aa)){Aa=[Aa]}Af=this.options.get("tooltipFormatFieldlist");o=this.options.get("tooltipFormatFieldlistKey");if(Af&&o){y=[];for(Ac=Aa.length;Ac--;){v=Aa[Ac][o];if((s=W.inArray(v,Af))!=-1){y[s]=Aa[Ac]}}Aa=y}Ae=u.length;q=Aa.length;for(Ac=0;Ac<Ae;Ac++){Ab=u[Ac];if(typeof Ab==="string"){Ab=new X(Ab)}z=Ab.fclass||"jqsfield";for(s=0;s<q;s++){if(!Aa[s].isNull||!Ad.get("tooltipSkipNull")){W.extend(Aa[s],{prefix:Ad.get("tooltipPrefix"),suffix:Ad.get("tooltipSuffix")});n=Ab.render(Aa[s],Ad.get("tooltipValueLookups"),Ad);w.push('<div class="'+z+'">'+n+"</div>")}}}if(w.length){return x+w.join("\n")}return""},getCurrentRegionFields:function(){},calcHighlightColor:function(o,s){var r=s.get("highlightColor"),v=s.get("highlightLighten"),w,n,q,u;if(r){return r}if(v){w=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(o)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(o);if(w){q=[];n=o.length===4?16:1;for(u=0;u<3;u++){q[u]=K(B.round(parseInt(w[u+1],16)*n*v),0,255)}return"rgb("+q.join(",")+")"}}return o}});Q={changeHighlight:function(r){var q=this.currentRegion,s=this.target,n=this.regionShapes[q],o;if(n){o=this.renderRegion(q,r);if(W.isArray(o)||W.isArray(n)){s.replaceWithShapes(n,o);this.regionShapes[q]=W.map(o,function(u){return u.id})}else{s.replaceWithShape(n,o);this.regionShapes[q]=o.id}}},render:function(){var u=this.values,s=this.target,r=this.regionShapes,n,o,q,v;if(!this.cls._super.render.call(this)){return}for(q=u.length;q--;){n=this.renderRegion(q);if(n){if(W.isArray(n)){o=[];for(v=n.length;v--;){n[v].append();o.push(n[v].id)}r[q]=o}else{n.append();r[q]=n.id}}else{r[q]=null}}s.render()}};W.fn.sparkline.line=H=J(W.fn.sparkline._base,{type:"line",init:function(n,s,r,q,o){H._super.init.call(this,n,s,r,q,o);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,r,s){var o,q=this.regionMap;for(o=q.length;o--;){if(q[o]!==null&&r>=q[o][0]&&r<=q[o][1]){return q[o][2]}}return C},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var x=this.currentRegion,s=this.target,r=this.vertices[x],q=this.options,o=q.get("spotRadius"),n=q.get("highlightSpotColor"),w=q.get("highlightLineColor"),v,u;if(!r){return}if(o&&n){v=s.drawCircle(r[0],r[1],o,C,n);this.highlightSpotId=v.id;s.insertAfterShape(this.lastShapeId,v)}if(w){u=s.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,w);this.highlightLineId=u.id;s.insertAfterShape(this.lastShapeId,u)}},removeHighlight:function(){var n=this.target;if(this.highlightSpotId){n.removeShapeId(this.highlightSpotId);this.highlightSpotId=null}if(this.highlightLineId){n.removeShapeId(this.highlightLineId);this.highlightLineId=null}},scanValues:function(){var x=this.values,n=x.length,q=this.xvalues,s=this.yvalues,y=this.yminmax,w,v,o,r,u;for(w=0;w<n;w++){v=x[w];o=typeof(x[w])==="string";r=typeof(x[w])==="object"&&x[w] instanceof Array;u=o&&x[w].split(":");if(o&&u.length===2){q.push(Number(u[0]));s.push(Number(u[1]));y.push(Number(u[1]))}else{if(r){q.push(v[0]);s.push(v[1]);y.push(v[1])}else{q.push(w);if(x[w]===null||x[w]==="null"){s.push(null)}else{s.push(Number(v));y.push(Number(v))}}}}if(this.options.get("xvalues")){q=this.options.get("xvalues")}this.maxy=this.maxyorg=B.max.apply(B,y);this.miny=this.minyorg=B.min.apply(B,y);this.maxx=B.max.apply(B,q);this.minx=B.min.apply(B,q);this.xvalues=q;this.yvalues=s;this.yminmax=y},processRangeOptions:function(){var o=this.options,q=o.get("normalRangeMin"),n=o.get("normalRangeMax");if(q!==C){if(q<this.miny){this.miny=q}if(n>this.maxy){this.maxy=n}}if(o.get("chartRangeMin")!==C&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.miny)){this.miny=o.get("chartRangeMin")}if(o.get("chartRangeMax")!==C&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.maxy)){this.maxy=o.get("chartRangeMax")}if(o.get("chartRangeMinX")!==C&&(o.get("chartRangeClipX")||o.get("chartRangeMinX")<this.minx)){this.minx=o.get("chartRangeMinX")}if(o.get("chartRangeMaxX")!==C&&(o.get("chartRangeClipX")||o.get("chartRangeMaxX")>this.maxx)){this.maxx=o.get("chartRangeMaxX")}},drawNormalRange:function(q,w,v,r,o){var u=this.options.get("normalRangeMin"),s=this.options.get("normalRangeMax"),n=w+B.round(v-(v*((s-this.miny)/o))),x=B.round((v*(s-u))/o);this.target.drawRect(q,n,r,x,C,this.options.get("normalRangeColor")).append()},render:function(){var Ak=this.options,Ar=this.target,u=this.canvasWidth,Ao=this.canvasHeight,Ag=this.vertices,w=Ak.get("spotRadius"),Al=this.regionMap,Ac,As,o,Ap,n,Ah,Af,Aw,At,Au,s,r,Aq,An,Aj,v,Aa,z,Ab,Ai,Av,q,Ae,Ad,Am;if(!H._super.render.call(this)){return}this.scanValues();this.processRangeOptions();Ae=this.xvalues;Ad=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}Ap=n=0;Ac=this.maxx-this.minx===0?1:this.maxx-this.minx;As=this.maxy-this.miny===0?1:this.maxy-this.miny;o=this.yvalues.length-1;if(w&&(u<(w*4)||Ao<(w*4))){w=0}if(w){Av=Ak.get("highlightSpotColor")&&!Ak.get("disableInteraction");if(Av||Ak.get("minSpotColor")||(Ak.get("spotColor")&&Ad[o]===this.miny)){Ao-=B.ceil(w)}if(Av||Ak.get("maxSpotColor")||(Ak.get("spotColor")&&Ad[o]===this.maxy)){Ao-=B.ceil(w);Ap+=B.ceil(w)}if(Av||((Ak.get("minSpotColor")||Ak.get("maxSpotColor"))&&(Ad[0]===this.miny||Ad[0]===this.maxy))){n+=B.ceil(w);u-=B.ceil(w)}if(Av||Ak.get("spotColor")||(Ak.get("minSpotColor")||Ak.get("maxSpotColor")&&(Ad[o]===this.miny||Ad[o]===this.maxy))){u-=B.ceil(w)}}Ao--;if(Ak.get("normalRangeMin")!==C&&!Ak.get("drawNormalOnTop")){this.drawNormalRange(n,Ap,Ao,u,As)}Af=[];Aw=[Af];An=Aj=null;v=Ad.length;for(Am=0;Am<v;Am++){At=Ae[Am];s=Ae[Am+1];Au=Ad[Am];r=n+B.round((At-this.minx)*(u/Ac));Aq=Am<v-1?n+B.round((s-this.minx)*(u/Ac)):u;Aj=r+((Aq-r)/2);Al[Am]=[An||0,Aj,Am];An=Aj;if(Au===null){if(Am){if(Ad[Am-1]!==null){Af=[];Aw.push(Af)}Ag.push(null)}}else{if(Au<this.miny){Au=this.miny}if(Au>this.maxy){Au=this.maxy}if(!Af.length){Af.push([r,Ap+Ao])}Ah=[r,Ap+B.round(Ao-(Ao*((Au-this.miny)/As)))];Af.push(Ah);Ag.push(Ah)}}Aa=[];z=[];Ab=Aw.length;for(Am=0;Am<Ab;Am++){Af=Aw[Am];if(Af.length){if(Ak.get("fillColor")){Af.push([Af[Af.length-1][0],(Ap+Ao)]);z.push(Af.slice(0));Af.pop()}if(Af.length>2){Af[0]=[Af[0][0],Af[1][1]]}Aa.push(Af)}}Ab=z.length;for(Am=0;Am<Ab;Am++){Ar.drawShape(z[Am],Ak.get("fillColor"),Ak.get("fillColor")).append()}if(Ak.get("normalRangeMin")!==C&&Ak.get("drawNormalOnTop")){this.drawNormalRange(n,Ap,Ao,u,As)}Ab=Aa.length;for(Am=0;Am<Ab;Am++){Ar.drawShape(Aa[Am],Ak.get("lineColor"),C,Ak.get("lineWidth")).append()}if(w&&Ak.get("valueSpots")){Ai=Ak.get("valueSpots");if(Ai.get===C){Ai=new T(Ai)}for(Am=0;Am<v;Am++){q=Ai.get(Ad[Am]);if(q){Ar.drawCircle(n+B.round((Ae[Am]-this.minx)*(u/Ac)),Ap+B.round(Ao-(Ao*((Ad[Am]-this.miny)/As))),w,C,q).append()}}}if(w&&Ak.get("spotColor")&&Ad[o]!==null){Ar.drawCircle(n+B.round((Ae[Ae.length-1]-this.minx)*(u/Ac)),Ap+B.round(Ao-(Ao*((Ad[o]-this.miny)/As))),w,C,Ak.get("spotColor")).append()}if(this.maxy!==this.minyorg){if(w&&Ak.get("minSpotColor")){At=Ae[W.inArray(this.minyorg,Ad)];Ar.drawCircle(n+B.round((At-this.minx)*(u/Ac)),Ap+B.round(Ao-(Ao*((this.minyorg-this.miny)/As))),w,C,Ak.get("minSpotColor")).append()}if(w&&Ak.get("maxSpotColor")){At=Ae[W.inArray(this.maxyorg,Ad)];Ar.drawCircle(n+B.round((At-this.minx)*(u/Ac)),Ap+B.round(Ao-(Ao*((this.maxyorg-this.miny)/As))),w,C,Ak.get("maxSpotColor")).append()}}this.lastShapeId=Ar.getLastShapeId();this.canvasTop=Ap;Ar.render()}});W.fn.sparkline.bar=V=J(W.fn.sparkline._base,Q,{type:"bar",init:function(Ag,Ai,s,v,x){var Ae=parseInt(s.get("barWidth"),10),An=parseInt(s.get("barSpacing"),10),y=s.get("chartRangeMin"),r=s.get("chartRangeMax"),Aw=s.get("chartRangeClip"),n=Infinity,Al=-Infinity,Ay,Aa,u,Az,Au,Ac,o,As,Ap,w,Am,Ax,Af,Av,z,Ah,At,Aj,q,Ab,Ar,Aq,Ak;V._super.init.call(this,Ag,Ai,s,v,x);for(Ac=0,o=Ai.length;Ac<o;Ac++){Ab=Ai[Ac];Ay=typeof(Ab)==="string"&&Ab.indexOf(":")>-1;if(Ay||W.isArray(Ab)){z=true;if(Ay){Ab=Ai[Ac]=g(Ab.split(":"))}Ab=k(Ab,null);Aa=B.min.apply(B,Ab);u=B.max.apply(B,Ab);if(Aa<n){n=Aa}if(u>Al){Al=u}}}this.stacked=z;this.regionShapes={};this.barWidth=Ae;this.barSpacing=An;this.totalBarWidth=Ae+An;this.width=v=(Ai.length*Ae)+((Ai.length-1)*An);this.initTarget();if(Aw){Af=y===C?-Infinity:y;Av=r===C?Infinity:r}Au=[];Az=z?[]:Au;var Ao=[];var Ad=[];for(Ac=0,o=Ai.length;Ac<o;Ac++){if(z){Ah=Ai[Ac];Ai[Ac]=q=[];Ao[Ac]=0;Az[Ac]=Ad[Ac]=0;for(At=0,Aj=Ah.length;At<Aj;At++){Ab=q[At]=Aw?K(Ah[At],Af,Av):Ah[At];if(Ab!==null){if(Ab>0){Ao[Ac]+=Ab}if(n<0&&Al>0){if(Ab<0){Ad[Ac]+=B.abs(Ab)}else{Az[Ac]+=Ab}}else{Az[Ac]+=B.abs(Ab-(Ab<0?Al:n))}Au.push(Ab)}}}else{Ab=Aw?K(Ai[Ac],Af,Av):Ai[Ac];Ab=Ai[Ac]=E(Ab);if(Ab!==null){Au.push(Ab)}}}this.max=Ax=B.max.apply(B,Au);this.min=Am=B.min.apply(B,Au);this.stackMax=Al=z?B.max.apply(B,Ao):Ax;this.stackMin=n=z?B.min.apply(B,Au):Am;if(s.get("chartRangeMin")!==C&&(s.get("chartRangeClip")||s.get("chartRangeMin")<Am)){Am=s.get("chartRangeMin")}if(s.get("chartRangeMax")!==C&&(s.get("chartRangeClip")||s.get("chartRangeMax")>Ax)){Ax=s.get("chartRangeMax")}this.zeroAxis=Ap=s.get("zeroAxis",true);if(Am<=0&&Ax>=0&&Ap){w=0}else{if(Ap==false){w=Am}else{if(Am>0){w=Am}else{w=Ax}}}this.xaxisOffset=w;As=z?(B.max.apply(B,Az)+B.max.apply(B,Ad)):Ax-Am;this.canvasHeightEf=(Ap&&Am<0)?this.canvasHeight-2:this.canvasHeight-1;if(Am<w){Aq=(z&&Ax>=0)?Al:Ax;Ar=(Aq-w)/As*this.canvasHeight;if(Ar!==B.ceil(Ar)){this.canvasHeightEf-=2;Ar=B.ceil(Ar)}}else{Ar=this.canvasHeight}this.yoffset=Ar;if(W.isArray(s.get("colorMap"))){this.colorMapByIndex=s.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=s.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===C){this.colorMapByValue=new T(this.colorMapByValue)}}this.range=As},getRegion:function(n,q,r){var o=B.floor(q/this.totalBarWidth);return(o<0||o>=this.values.length)?C:o},getCurrentRegionFields:function(){var q=this.currentRegion,s=Y(this.values[q]),o=[],r,n;for(n=s.length;n--;){r=s[n];o.push({isNull:r===null,value:r,color:this.calcColor(n,r,q),offset:q})}return o},calcColor:function(u,o,v){var w=this.colorMapByIndex,r=this.colorMapByValue,s=this.options,q,n;if(this.stacked){q=s.get("stackedBarColor")}else{q=(o<0)?s.get("negBarColor"):s.get("barColor")}if(o===0&&s.get("zeroColor")!==C){q=s.get("zeroColor")}if(r&&(n=r.get(o))){q=n}else{if(w&&w.length>v){q=w[v]}}return W.isArray(q)?q[u%q.length]:q},renderRegion:function(Ai,Ac){var Am=this.values[Ai],Ae=this.options,v=this.xaxisOffset,s=[],q=this.range,u=this.stacked,Ag=this.target,z=Ai*this.totalBarWidth,Aa=this.canvasHeightEf,Af=this.yoffset,Aj,Ak,w,n,Al,Ah,Ab,Ad,r,o;Am=W.isArray(Am)?Am:[Am];Ab=Am.length;Ad=Am[0];n=U(null,Am);o=U(v,Am,true);if(n){if(Ae.get("nullColor")){w=Ac?Ae.get("nullColor"):this.calcHighlightColor(Ae.get("nullColor"),Ae);Aj=(Af>0)?Af-1:Af;return Ag.drawRect(z,Aj,this.barWidth-1,0,w,w)}else{return C}}Al=Af;for(Ah=0;Ah<Ab;Ah++){Ad=Am[Ah];if(u&&Ad===v){if(!o||r){continue}r=true}if(q>0){Ak=B.floor(Aa*((B.abs(Ad-v)/q)))+1}else{Ak=1}if(Ad<v||(Ad===v&&Af===0)){Aj=Al;Al+=Ak}else{Aj=Af-Ak;Af-=Ak}w=this.calcColor(Ah,Ad,Ai);if(Ac){w=this.calcHighlightColor(w,Ae)}s.push(Ag.drawRect(z,Aj,this.barWidth-1,Ak-1,w,w))}if(s.length===1){return s[0]}return s}});W.fn.sparkline.tristate=M=J(W.fn.sparkline._base,Q,{type:"tristate",init:function(n,s,r,q,o){var v=parseInt(r.get("barWidth"),10),u=parseInt(r.get("barSpacing"),10);M._super.init.call(this,n,s,r,q,o);this.regionShapes={};this.barWidth=v;this.barSpacing=u;this.totalBarWidth=v+u;this.values=W.map(s,Number);this.width=q=(s.length*v)+((s.length-1)*u);if(W.isArray(r.get("colorMap"))){this.colorMapByIndex=r.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=r.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===C){this.colorMapByValue=new T(this.colorMapByValue)}}this.initTarget()},getRegion:function(n,o,q){return B.floor(o/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===C,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(q,v){var s=this.values,r=this.options,w=this.colorMapByIndex,u=this.colorMapByValue,o,n;if(u&&(n=u.get(q))){o=n}else{if(w&&w.length>v){o=w[v]}else{if(s[v]<0){o=r.get("negBarColor")}else{if(s[v]>0){o=r.get("posBarColor")}else{o=r.get("zeroBarColor")}}}}return o},renderRegion:function(Aa,s){var v=this.values,q=this.options,u=this.target,z,o,w,n,Ab,r;z=u.pixelHeight;w=B.round(z/2);n=Aa*this.totalBarWidth;if(v[Aa]<0){Ab=w;o=w-1}else{if(v[Aa]>0){Ab=0;o=w-1}else{Ab=w-1;o=2}}r=this.calcColor(v[Aa],Aa);if(r===null){return}if(s){r=this.calcHighlightColor(r,q)}return u.drawRect(n,Ab,this.barWidth-1,o-1,r,r)}});W.fn.sparkline.discrete=j=J(W.fn.sparkline._base,Q,{type:"discrete",init:function(n,s,r,q,o){j._super.init.call(this,n,s,r,q,o);this.regionShapes={};this.values=s=W.map(s,Number);this.min=B.min.apply(B,s);this.max=B.max.apply(B,s);this.range=this.max-this.min;this.width=q=r.get("width")==="auto"?s.length*2:this.width;this.interval=B.floor(q/s.length);this.itemWidth=q/s.length;if(r.get("chartRangeMin")!==C&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)){this.min=r.get("chartRangeMin")}if(r.get("chartRangeMax")!==C&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)){this.max=r.get("chartRangeMax")}this.initTarget();if(this.target){this.lineHeight=r.get("lineHeight")==="auto"?B.round(this.canvasHeight*0.3):r.get("lineHeight")}},getRegion:function(n,o,q){return B.floor(o/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===C,value:this.values[n],offset:n}},renderRegion:function(Af,v){var Ab=this.values,y=this.options,q=this.min,r=this.max,Ae=this.range,z=this.interval,s=this.target,Ad=this.canvasHeight,u=this.lineHeight,w=Ad-u,n,Aa,o,Ac;Aa=K(Ab[Af],q,r);Ac=Af*z;n=B.round(w-w*((Aa-q)/Ae));o=(y.get("thresholdColor")&&Aa<y.get("thresholdValue"))?y.get("thresholdColor"):y.get("lineColor");if(v){o=this.calcHighlightColor(o,y)}return s.drawLine(Ac,n,Ac,n+u,o)}});W.fn.sparkline.bullet=G=J(W.fn.sparkline._base,{type:"bullet",init:function(r,v,s,u,n){var o,q,w;G._super.init.call(this,r,v,s,u,n);this.values=v=g(v);w=v.slice();w[0]=w[0]===null?w[2]:w[0];w[1]=v[1]===null?w[2]:w[1];o=B.min.apply(B,v);q=B.max.apply(B,v);if(s.get("base")===C){o=o<0?o:0}else{o=s.get("base")}this.min=o;this.max=q;this.range=q-o;this.shapes={};this.valueShapes={};this.regiondata={};this.width=u=s.get("width")==="auto"?"4.0em":u;this.target=this.$el.simpledraw(u,n,s.get("composite"));if(!v.length){this.disabled=true}this.initTarget()},getRegion:function(n,q,r){var o=this.target.getShapeAt(n,q,r);return(o!==C&&this.shapes[o]!==C)?this.shapes[o]:C},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(q){var n=this.currentRegion,o=this.valueShapes[n],r;delete this.shapes[o];switch(n.substr(0,1)){case"r":r=this.renderRange(n.substr(1),q);break;case"p":r=this.renderPerformance(q);break;case"t":r=this.renderTarget(q);break}this.valueShapes[n]=r.id;this.shapes[r.id]=n;this.target.replaceWithShape(o,r)},renderRange:function(o,q){var n=this.values[o],s=B.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("rangeColors")[o-2];if(q){r=this.calcHighlightColor(r,this.options)}return this.target.drawRect(0,0,s-1,this.canvasHeight-1,r,r)},renderPerformance:function(o){var n=this.values[1],r=B.round(this.canvasWidth*((n-this.min)/this.range)),q=this.options.get("performanceColor");if(o){q=this.calcHighlightColor(q,this.options)}return this.target.drawRect(0,B.round(this.canvasHeight*0.3),r-1,B.round(this.canvasHeight*0.4)-1,q,q)},renderTarget:function(r){var s=this.values[0],q=B.round(this.canvasWidth*((s-this.min)/this.range)-(this.options.get("targetWidth")/2)),n=B.round(this.canvasHeight*0.1),o=this.canvasHeight-(n*2),u=this.options.get("targetColor");if(r){u=this.calcHighlightColor(u,this.options)}return this.target.drawRect(q,n,this.options.get("targetWidth")-1,o-1,u,u)},render:function(){var n=this.values.length,q=this.target,o,r;if(!G._super.render.call(this)){return}for(o=2;o<n;o++){r=this.renderRange(o).append();this.shapes[r.id]="r"+o;this.valueShapes["r"+o]=r.id}if(this.values[1]!==null){r=this.renderPerformance().append();this.shapes[r.id]="p1";this.valueShapes.p1=r.id}if(this.values[0]!==null){r=this.renderTarget().append();this.shapes[r.id]="t0";this.valueShapes.t0=r.id}q.render()}});W.fn.sparkline.pie=P=J(W.fn.sparkline._base,{type:"pie",init:function(n,v,u,q,o){var r=0,s;P._super.init.call(this,n,v,u,q,o);this.shapes={};this.valueShapes={};this.values=v=W.map(v,Number);if(u.get("width")==="auto"){this.width=this.height}if(v.length>0){for(s=v.length;s--;){r+=v[s]}}this.total=r;this.initTarget();this.radius=B.floor(B.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,q,r){var o=this.target.getShapeAt(n,q,r);return(o!==C&&this.shapes[o]!==C)?this.shapes[o]:C},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===C,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(r){var o=this.currentRegion,n=this.renderSlice(o,r),q=this.valueShapes[o];delete this.shapes[q];this.target.replaceWithShape(q,n);this.valueShapes[o]=n.id;this.shapes[n.id]=o},renderSlice:function(Ac,v){var Aa=this.target,y=this.options,z=this.radius,r=y.get("borderWidth"),o=y.get("offset"),q=2*B.PI,x=this.values,u=this.total,Ad=o?(2*B.PI)*(o/360):0,Ab,Ae,w,s,n;s=x.length;for(w=0;w<s;w++){Ab=Ad;Ae=Ad;if(u>0){Ae=Ad+(q*(x[w]/u))}if(Ac===w){n=y.get("sliceColors")[w%y.get("sliceColors").length];if(v){n=this.calcHighlightColor(n,y)}return Aa.drawPieSlice(z,z,z-r,Ab,Ae,C,n)}Ad=Ae}},render:function(){var u=this.target,q=this.values,r=this.options,s=this.radius,o=r.get("borderWidth"),v,n;if(!P._super.render.call(this)){return}if(o){u.drawCircle(s,s,B.floor(s-(o/2)),r.get("borderColor"),C,o).append()}for(n=q.length;n--;){if(q[n]){v=this.renderSlice(n).append();this.valueShapes[n]=v.id;this.shapes[v.id]=n}}u.render()}});W.fn.sparkline.box=c=J(W.fn.sparkline._base,{type:"box",init:function(n,s,r,q,o){c._super.init.call(this,n,s,r,q,o);this.values=W.map(s,Number);this.width=r.get("width")==="auto"?"4.0em":q;this.initTarget();if(!this.values.length){this.disabled=1}},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];if(this.loutlier!==C){n.push({field:"lo",value:this.loutlier})}if(this.routlier!==C){n.push({field:"ro",value:this.routlier})}if(this.lwhisker!==C){n.push({field:"lw",value:this.lwhisker})}if(this.rwhisker!==C){n.push({field:"rw",value:this.rwhisker})}return n},render:function(){var Ag=this.target,Ab=this.values,Ah=Ab.length,Aa=this.options,u=this.canvasWidth,Ac=this.canvasHeight,x=Aa.get("chartRangeMin")===C?B.min.apply(B,Ab):Aa.get("chartRangeMin"),o=Aa.get("chartRangeMax")===C?B.max.apply(B,Ab):Aa.get("chartRangeMax"),n=0,Ae,s,v,Ai,q,z,Af,r,w,y,Ad;if(!c._super.render.call(this)){return}if(Aa.get("raw")){if(Aa.get("showOutliers")&&Ab.length>5){s=Ab[0];Ae=Ab[1];Ai=Ab[2];q=Ab[3];z=Ab[4];Af=Ab[5];r=Ab[6]}else{Ae=Ab[0];Ai=Ab[1];q=Ab[2];z=Ab[3];Af=Ab[4]}}else{Ab.sort(function(Ak,Aj){return Ak-Aj});Ai=D(Ab,1);q=D(Ab,2);z=D(Ab,3);v=z-Ai;if(Aa.get("showOutliers")){Ae=Af=C;for(w=0;w<Ah;w++){if(Ae===C&&Ab[w]>Ai-(v*Aa.get("outlierIQR"))){Ae=Ab[w]}if(Ab[w]<z+(v*Aa.get("outlierIQR"))){Af=Ab[w]}}s=Ab[0];r=Ab[Ah-1]}else{Ae=Ab[0];Af=Ab[Ah-1]}}this.quartiles=[Ai,q,z];this.lwhisker=Ae;this.rwhisker=Af;this.loutlier=s;this.routlier=r;Ad=u/(o-x+1);if(Aa.get("showOutliers")){n=B.ceil(Aa.get("spotRadius"));u-=2*B.ceil(Aa.get("spotRadius"));Ad=u/(o-x+1);if(s<Ae){Ag.drawCircle((s-x)*Ad+n,Ac/2,Aa.get("spotRadius"),Aa.get("outlierLineColor"),Aa.get("outlierFillColor")).append()}if(r>Af){Ag.drawCircle((r-x)*Ad+n,Ac/2,Aa.get("spotRadius"),Aa.get("outlierLineColor"),Aa.get("outlierFillColor")).append()}}Ag.drawRect(B.round((Ai-x)*Ad+n),B.round(Ac*0.1),B.round((z-Ai)*Ad),B.round(Ac*0.8),Aa.get("boxLineColor"),Aa.get("boxFillColor")).append();Ag.drawLine(B.round((Ae-x)*Ad+n),B.round(Ac/2),B.round((Ai-x)*Ad+n),B.round(Ac/2),Aa.get("lineColor")).append();Ag.drawLine(B.round((Ae-x)*Ad+n),B.round(Ac/4),B.round((Ae-x)*Ad+n),B.round(Ac-Ac/4),Aa.get("whiskerColor")).append();Ag.drawLine(B.round((Af-x)*Ad+n),B.round(Ac/2),B.round((z-x)*Ad+n),B.round(Ac/2),Aa.get("lineColor")).append();Ag.drawLine(B.round((Af-x)*Ad+n),B.round(Ac/4),B.round((Af-x)*Ad+n),B.round(Ac-Ac/4),Aa.get("whiskerColor")).append();Ag.drawLine(B.round((q-x)*Ad+n),B.round(Ac*0.1),B.round((q-x)*Ad+n),B.round(Ac*0.9),Aa.get("medianColor")).append();if(Aa.get("target")){y=B.ceil(Aa.get("spotRadius"));Ag.drawLine(B.round((Aa.get("target")-x)*Ad+n),B.round((Ac/2)-y),B.round((Aa.get("target")-x)*Ad+n),B.round((Ac/2)+y),Aa.get("targetColor")).append();Ag.drawLine(B.round((Aa.get("target")-x)*Ad+n-y),B.round(Ac/2),B.round((Aa.get("target")-x)*Ad+n+y),B.round(Ac/2),Aa.get("targetColor")).append()}Ag.render()}});f=J({init:function(q,r,n,o){this.target=q;this.id=r;this.type=n;this.args=o},append:function(){this.target.appendShape(this);return this}});d=J({_pxregex:/(\d+)(px)?\s*$/i,init:function(q,n,o){if(!q){return}this.width=q;this.height=n;this.target=o;this.lastShapeId=null;if(o[0]){o=o[0]}W.data(o,"_jqs_vcanvas",this)},drawLine:function(s,u,n,o,q,r){return this.drawShape([[s,u],[n,o]],q,r)},drawShape:function(r,n,q,o){return this._genShape("Shape",[r,n,q,o])},drawCircle:function(o,q,r,s,u,n){return this._genShape("Circle",[o,q,r,s,u,n])},drawPieSlice:function(q,r,s,o,n,u,v){return this._genShape("PieSlice",[q,r,s,o,n,u,v])},drawRect:function(o,q,r,n,s,u){return this._genShape("Rect",[o,q,r,n,s,u])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(n,o){W(o).html(n)},_calculatePixelDims:function(r,n,q){var o;o=this._pxregex.exec(n);if(o){this.pixelHeight=o[1]}else{this.pixelHeight=W(q).height()}o=this._pxregex.exec(r);if(o){this.pixelWidth=o[1]}else{this.pixelWidth=W(q).width()}},_genShape:function(o,n){var q=R++;n.unshift(q);return new f(this,q,o,n)},appendShape:function(n){alert("appendShape not implemented")},replaceWithShape:function(n,o){alert("replaceWithShape not implemented")},insertAfterShape:function(n,o){alert("insertAfterShape not implemented")},removeShapeId:function(n){alert("removeShapeId not implemented")},getShapeAt:function(n,o,q){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});S=J(d,{init:function(r,n,q,o){S._super.init.call(this,r,n,q);this.canvas=A.createElement("canvas");if(q[0]){q=q[0]}W.data(q,"_jqs_vcanvas",this);W(this.canvas).css({display:"inline-block",width:r,height:n,verticalAlign:"top"});this._insert(this.canvas,q);this._calculatePixelDims(r,n,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=o;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=C;W(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(o,r,q){var n=this.canvas.getContext("2d");if(o!==C){n.strokeStyle=o}n.lineWidth=q===C?1:q;if(r!==C){n.fillStyle=r}return n},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=C},_drawShape:function(v,u,w,n,s){var q=this._getContext(w,n,s),r,o;q.beginPath();q.moveTo(u[0][0]+0.5,u[0][1]+0.5);for(r=1,o=u.length;r<o;r++){q.lineTo(u[r][0]+0.5,u[r][1]+0.5)}if(w!==C){q.stroke()}if(n!==C){q.fill()}if(this.targetX!==C&&this.targetY!==C&&q.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=v}},_drawCircle:function(w,u,v,r,q,n,s){var o=this._getContext(q,n,s);o.beginPath();o.arc(u,v,r,0,2*B.PI,false);if(this.targetX!==C&&this.targetY!==C&&o.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=w}if(q!==C){o.stroke()}if(n!==C){o.fill()}},_drawPieSlice:function(w,u,v,s,z,n,r,q){var o=this._getContext(r,q);o.beginPath();o.moveTo(u,v);o.arc(u,v,s,z,n,false);o.lineTo(u,v);o.closePath();if(r!==C){o.stroke()}if(q){o.fill()}if(this.targetX!==C&&this.targetY!==C&&o.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=w}},_drawRect:function(o,q,r,s,n,u,v){return this._drawShape(o,[[q,r],[q+s,r],[q+s,r+n],[q,r+n],[q,r]],u,v)},appendShape:function(n){this.shapes[n.id]=n;this.shapeseq.push(n.id);this.lastShapeId=n.id;return n.id},replaceWithShape:function(q,r){var o=this.shapeseq,n;this.shapes[r.id]=r;for(n=o.length;n--;){if(o[n]==q){o[n]=r.id}}delete this.shapes[q]},replaceWithShapes:function(o,r){var q=this.shapeseq,v={},s,n,u;for(n=o.length;n--;){v[o[n]]=true}for(n=q.length;n--;){s=q[n];if(v[s]){q.splice(n,1);delete this.shapes[s];u=n}}for(n=r.length;n--;){q.splice(u,0,r[n].id);this.shapes[r[n].id]=r[n]}},insertAfterShape:function(q,r){var o=this.shapeseq,n;for(n=o.length;n--;){if(o[n]===q){o.splice(n+1,0,r.id);this.shapes[r.id]=r;return}}},removeShapeId:function(q){var o=this.shapeseq,n;for(n=o.length;n--;){if(o[n]===q){o.splice(n,1);break}}delete this.shapes[q]},getShapeAt:function(n,o,q){this.targetX=o;this.targetY=q;this.render();return this.currentTargetShapeId},render:function(){var r=this.shapeseq,u=this.shapes,o=r.length,n=this._getContext(),s,v,q;n.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(q=0;q<o;q++){s=r[q];v=u[s];this["_draw"+v.type].apply(this,v.args)}if(!this.interact){this.shapes={};this.shapeseq=[]}}});N=J(d,{init:function(r,n,q){var o;N._super.init.call(this,r,n,q);if(q[0]){q=q[0]}W.data(q,"_jqs_vcanvas",this);this.canvas=A.createElement("span");W(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:r,height:n,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,q);this._calculatePixelDims(r,n,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",o);this.group=W(this.canvas).children()[0];this.rendered=false;this.prerender=""},_drawShape:function(y,x,z,o,v){var Aa=[],n,Ab,q,w,r,s,u;for(u=0,s=x.length;u<s;u++){Aa[u]=""+(x[u][0])+","+(x[u][1])}n=Aa.splice(0,1);v=v===C?1:v;Ab=z===C?' stroked="false" ':' strokeWeight="'+v+'px" strokeColor="'+z+'" ';q=o===C?' filled="false"':' fillColor="'+o+'" filled="true" ';w=Aa[0]===Aa[Aa.length-1]?"x ":"";r='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+y+'" '+Ab+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+" l "+Aa.join(", ")+" "+w+'e"> </v:shape>';return r},_drawCircle:function(z,v,w,s,r,n,u){var Aa,o,q;v-=s;w-=s;Aa=r===C?' stroked="false" ':' strokeWeight="'+u+'px" strokeColor="'+r+'" ';o=n===C?' filled="false"':' fillColor="'+n+'" filled="true" ';q='<v:oval  id="jqsshape'+z+'" '+Aa+o+' style="position:absolute;top:'+w+"px; left:"+v+"px; width:"+(s*2)+"px; height:"+(s*2)+'px"></v:oval>';return q},_drawPieSlice:function(Ae,Ac,Ad,z,Ag,n,v,u){var Aa,Af,r,w,Ab,s,o,q;if(Ag===n){return""}if((n-Ag)===(2*B.PI)){Ag=0;n=(2*B.PI)}Af=Ac+B.round(B.cos(Ag)*z);r=Ad+B.round(B.sin(Ag)*z);w=Ac+B.round(B.cos(n)*z);Ab=Ad+B.round(B.sin(n)*z);if(Af===w&&r===Ab){if((n-Ag)<B.PI){return""}Af=w=Ac+z;r=Ab=Ad}if(Af===w&&r===Ab&&(n-Ag)<B.PI){return""}Aa=[Ac-z,Ad-z,Ac+z,Ad+z,Af,r,w,Ab];s=v===C?' stroked="false" ':' strokeWeight="1px" strokeColor="'+v+'" ';o=u===C?' filled="false"':' fillColor="'+u+'" filled="true" ';q='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+Ae+'" '+s+o+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+Ac+","+Ad+" wa "+Aa.join(", ")+' x e"> </v:shape>';return q},_drawRect:function(o,q,r,s,n,u,v){return this._drawShape(o,[[q,r],[q,r+n],[q+s,r+n],[q+s,r],[q,r]],u,v)},reset:function(){this.group.innerHTML=""},appendShape:function(o){var n=this["_draw"+o.type].apply(this,o.args);if(this.rendered){this.group.insertAdjacentHTML("beforeEnd",n)}else{this.prerender+=n}this.lastShapeId=o.id;return o.id},replaceWithShape:function(n,r){var q=W("#jqsshape"+n),o=this["_draw"+r.type].apply(this,r.args);q[0].outerHTML=o},replaceWithShapes:function(o,q){var r=W("#jqsshape"+o[0]),s="",u=q.length,n;for(n=0;n<u;n++){s+=this["_draw"+q[n].type].apply(this,q[n].args)}r[0].outerHTML=s;for(n=1;n<o.length;n++){W("#jqsshape"+o[n]).remove()}},insertAfterShape:function(n,r){var q=W("#jqsshape"+n),o=this["_draw"+r.type].apply(this,r.args);q[0].insertAdjacentHTML("afterEnd",o)},removeShapeId:function(n){var o=W("#jqsshape"+n);this.group.removeChild(o[0])},getShapeAt:function(n,q,r){var o=n.id.substr(8);return o},render:function(){if(!this.rendered){this.group.innerHTML=this.prerender;this.rendered=true}}})}))}(document,Math));(function(A,B){if(typeof exports==="object"){module.exports=B(require("jquery"))}else{if(typeof define==="function"&&define.amd){define(["jquery"],B)}else{B(A.jQuery)}}}(this,function(C){var B=function(H,K){var G;var D=document.createElement("canvas");H.appendChild(D);if(typeof(G_vmlCanvasManager)!=="undefined"){G_vmlCanvasManager.initElement(D)}var I=D.getContext("2d");D.width=D.height=K.size;var F=1;if(window.devicePixelRatio>1){F=window.devicePixelRatio;D.style.width=D.style.height=[K.size,"px"].join("");D.width=D.height=K.size*F;I.scale(F,F)}I.translate(K.size/2,K.size/2);I.rotate((-1/2+K.rotate/180)*Math.PI);var L=(K.size-K.lineWidth)/2;if(K.scaleColor&&K.scaleLength){L-=K.scaleLength+2}Date.now=Date.now||function(){return +(new Date())};var M=function(R,Q,O){O=Math.min(Math.max(-1,O||0),1);var P=O<=0?true:false;I.beginPath();I.arc(0,0,L,0,Math.PI*2*O,P);I.strokeStyle=R;I.lineWidth=Q;I.stroke()};var E=function(){var O;var P;I.lineWidth=1;I.fillStyle=K.scaleColor;I.save();for(var Q=24;Q>0;--Q){if(Q%6===0){P=K.scaleLength;O=0}else{P=K.scaleLength*0.6;O=K.scaleLength-P}I.fillRect(-K.size/2+O,0,P,1);I.rotate(Math.PI/12)}I.restore()};var N=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(O){window.setTimeout(O,1000/60)}}());var J=function(){if(K.scaleColor){E()}if(K.trackColor){M(K.trackColor,K.lineWidth,1)}};this.getCanvas=function(){return D};this.getCtx=function(){return I};this.clear=function(){I.clearRect(K.size/-2,K.size/-2,K.size,K.size)};this.draw=function(O){if(!!K.scaleColor||!!K.trackColor){if(I.getImageData&&I.putImageData){if(!G){J();G=I.getImageData(0,0,K.size*F,K.size*F)}else{I.putImageData(G,0,0)}}else{this.clear();J()}}else{this.clear()}I.lineCap=K.lineCap;var P;if(typeof(K.barColor)==="function"){P=K.barColor(O)}else{P=K.barColor}M(P,K.lineWidth,O/100)}.bind(this);this.animate=function(O,P){var Q=Date.now();K.onStart(O,P);var R=function(){var T=Math.min(Date.now()-Q,K.animate.duration);var S=K.easing(this,T,O,P-O,K.animate.duration);this.draw(S);K.onStep(O,P,S);if(T>=K.animate.duration){K.onStop(O,P)}else{N(R)}}.bind(this);N(R)}.bind(this)};var A=function(D,E){var H={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1000,enabled:true},easing:function(K,L,M,N,J){L=L/(J/2);if(L<1){return N/2*L*L+M}return -N/2*((--L)*(L-2)-1)+M},onStart:function(J,K){return},onStep:function(J,K,L){return},onStop:function(J,K){return}};if(typeof(B)!=="undefined"){H.renderer=B}else{if(typeof(SVGRenderer)!=="undefined"){H.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}}var G={};var I=0;var F=function(){this.el=D;this.options=G;for(var J in H){if(H.hasOwnProperty(J)){G[J]=E&&typeof(E[J])!=="undefined"?E[J]:H[J];if(typeof(G[J])==="function"){G[J]=G[J].bind(this)}}}if(typeof(G.easing)==="string"&&typeof(jQuery)!=="undefined"&&jQuery.isFunction(jQuery.easing[G.easing])){G.easing=jQuery.easing[G.easing]}else{G.easing=H.easing}if(typeof(G.animate)==="number"){G.animate={duration:G.animate,enabled:true}}if(typeof(G.animate)==="boolean"&&!G.animate){G.animate={duration:1000,enabled:G.animate}}this.renderer=new G.renderer(D,G);this.renderer.draw(I);if(D.dataset&&D.dataset.percent){this.update(parseFloat(D.dataset.percent))}else{if(D.getAttribute&&D.getAttribute("data-percent")){this.update(parseFloat(D.getAttribute("data-percent")))}}}.bind(this);this.update=function(J){J=parseFloat(J);if(G.animate.enabled){this.renderer.animate(I,J)}else{this.renderer.draw(J)}I=J;return this}.bind(this);this.disableAnimation=function(){G.animate.enabled=false;return this};this.enableAnimation=function(){G.animate.enabled=true;return this};F()};C.fn.easyPieChart=function(D){return this.each(function(){var E;if(!C.data(this,"easyPieChart")){E=C.extend({},D,C(this).data());C.data(this,"easyPieChart",new A(this,E))}})}}));
/* Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2
 *
 */
(function(A){jQuery.fn.extend({slimScroll:function(C){var D={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"};var B=A.extend(D,C);this.each(function(){var Z,S,V,N,L,O,Y,K,W="<div></div>",U=30,F=false;var M=A(this);if(M.parent().hasClass(B.wrapperClass)){var P=M.scrollTop();H=M.parent().find("."+B.barClass);G=M.parent().find("."+B.railClass);T();if(A.isPlainObject(C)){if("height" in C&&C.height=="auto"){M.parent().css("height","auto");M.css("height","auto");var b=M.parent().parent().height();M.parent().css("height",b);M.css("height",b)}if("scrollTo" in C){P=parseInt(B.scrollTo)}else{if("scrollBy" in C){P+=parseInt(B.scrollBy)}else{if("destroy" in C){H.remove();G.remove();M.unwrap();return}}}I(P,false,true)}return}B.height=(C.height=="auto")?M.parent().height():C.height;var E=A(W).addClass(B.wrapperClass).css({position:"relative",overflow:"hidden",width:B.width,height:B.height});M.css({overflow:"hidden",width:B.width,height:B.height});var G=A(W).addClass(B.railClass).css({width:B.size,height:"100%",position:"absolute",top:0,display:(B.alwaysVisible&&B.railVisible)?"block":"none","border-radius":B.railBorderRadius,background:B.railColor,opacity:B.railOpacity,zIndex:90});var H=A(W).addClass(B.barClass).css({background:B.color,width:B.size,position:"absolute",top:0,opacity:B.opacity,display:B.alwaysVisible?"block":"none","border-radius":B.borderRadius,BorderRadius:B.borderRadius,MozBorderRadius:B.borderRadius,WebkitBorderRadius:B.borderRadius,zIndex:99});var R=(B.position=="right")?{right:B.distance}:{left:B.distance};G.css(R);H.css(R);M.wrap(E);M.parent().append(H);M.parent().append(G);if(B.railDraggable){H.bind("mousedown",function(d){var f=A(document);V=true;t=parseFloat(H.css("top"));pageY=d.pageY;f.bind("mousemove.slimscroll",function(g){currTop=t+g.pageY-pageY;H.css("top",currTop);I(0,H.position().top,false)});f.bind("mouseup.slimscroll",function(g){V=false;Q();f.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(d){d.stopPropagation();d.preventDefault();return false})}G.hover(function(){X()},function(){Q()});H.hover(function(){S=true},function(){S=false});M.hover(function(){Z=true;X();Q()},function(){Z=false;Q()});M.bind("touchstart",function(d,f){if(d.originalEvent.touches.length){L=d.originalEvent.touches[0].pageY}});M.bind("touchmove",function(d){if(!F){d.originalEvent.preventDefault()}if(d.originalEvent.touches.length){var f=(L-d.originalEvent.touches[0].pageY)/B.touchScrollStep;I(f,true);L=d.originalEvent.touches[0].pageY}});T();if(B.start==="bottom"){H.css({top:M.outerHeight()-H.outerHeight()});I(0,true)}else{if(B.start!=="top"){I(A(B.start).position().top,null,true);if(!B.alwaysVisible){H.hide()}}}c();function J(f){if(!Z){return}var f=f||window.event;var d=0;if(f.wheelDelta){d=-f.wheelDelta/120}if(f.detail){d=f.detail/3}var g=f.target||f.srcTarget||f.srcElement;if(A(g).closest("."+B.wrapperClass).is(M.parent())){I(d,true)}if(f.preventDefault&&!F){f.preventDefault()}if(!F){f.returnValue=false}}function I(h,f,i){F=false;var d=h;var e=M.outerHeight()-H.outerHeight();if(f){d=parseInt(H.css("top"))+h*parseInt(B.wheelStep)/100*H.outerHeight();d=Math.min(Math.max(d,0),e);d=(h>0)?Math.ceil(d):Math.floor(d);H.css({top:d+"px"})}Y=parseInt(H.css("top"))/(M.outerHeight()-H.outerHeight());d=Y*(M[0].scrollHeight-M.outerHeight());if(i){d=h;var g=d/M[0].scrollHeight*M.outerHeight();g=Math.min(Math.max(g,0),e);H.css({top:g+"px"})}M.scrollTop(d);M.trigger("slimscrolling",~~d);X();Q()}function c(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",J,false);this.addEventListener("mousewheel",J,false)}else{document.attachEvent("onmousewheel",J)}}function T(){O=Math.max((M.outerHeight()/M[0].scrollHeight)*M.outerHeight(),U);H.css({height:O+"px"});var d=O==M.outerHeight()?"none":"block";H.css({display:d})}function X(){T();clearTimeout(N);if(Y==~~Y){F=B.allowPageScroll;if(K!=Y){var d=(~~Y==0)?"top":"bottom";M.trigger("slimscroll",d)}}else{F=false}K=Y;if(O>=M.outerHeight()){F=true;return}H.stop(true,true).fadeIn("fast");if(B.railVisible){G.stop(true,true).fadeIn("fast")}}function Q(){if(!B.alwaysVisible){N=setTimeout(function(){if(!(B.disableFadeOut&&Z)&&!S&&!V){H.fadeOut("slow");G.fadeOut("slow")}},1000)}}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);(function(Ar){var q,Ak="2.5.1",Ah=this,A4=Math.round,AC,n=0,At=1,Am=2,Ai=3,A6=4,e=5,J=6,AR={},D={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},AH=(typeof module!=="undefined"&&module.exports&&typeof require!=="undefined"),F=/^\/?Date\((\-?\d+)/i,AO=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,h=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,A7=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,r=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,m=/\d\d?/,H=/\d{1,3}/,Af=/\d{1,4}/,Az=/[+\-]?\d{1,6}/,v=/\d+/,I=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,AE=/Z|[\+\-]\d\d:?\d\d/gi,As=/T/i,AY=/[\+\-]?\d+(\.\d{1,3})?/,AB=/\d{1,2}/,j=/\d/,AQ=/\d\d/,z=/\d{3}/,c=/\d{4}/,A3=/[+-]?\d{6}/,AT=/[+-]?\d+/,AM=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AX="YYYY-MM-DDTHH:mm:ssZ",o=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Al=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],V=/([\+\-]|\d\d)/gi,AP="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Aw={"Milliseconds":1,"Seconds":1000,"Minutes":60000,"Hours":3600000,"Days":86400000,"Months":2592000000,"Years":31536000000},AK={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},A5={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ap={},A2="DDD w W M D d".split(" "),Ag="M D H h m s w W".split(" "),Au={M:function(){return this.month()+1},MMM:function(i){return this.lang().monthsShort(this,i)},MMMM:function(i){return this.lang().months(this,i)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(i){return this.lang().weekdaysMin(this,i)},ddd:function(i){return this.lang().weekdaysShort(this,i)},dddd:function(i){return this.lang().weekdays(this,i)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return Ac(this.year()%100,2)},YYYY:function(){return Ac(this.year(),4)},YYYYY:function(){return Ac(this.year(),5)},YYYYYY:function(){var A8=this.year(),i=A8>=0?"+":"-";return i+Ac(Math.abs(A8),6)},gg:function(){return Ac(this.weekYear()%100,2)},gggg:function(){return Ac(this.weekYear(),4)},ggggg:function(){return Ac(this.weekYear(),5)},GG:function(){return Ac(this.isoWeekYear()%100,2)},GGGG:function(){return Ac(this.isoWeekYear(),4)},GGGGG:function(){return Ac(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return Ac(C(this.milliseconds()/10),2)},SSS:function(){return Ac(this.milliseconds(),3)},SSSS:function(){return Ac(this.milliseconds(),3)},Z:function(){var A8=-this.zone(),i="+";if(A8<0){A8=-A8;i="-"}return i+Ac(C(A8/60),2)+":"+Ac(C(A8)%60,2)},ZZ:function(){var A8=-this.zone(),i="+";if(A8<0){A8=-A8;i="-"}return i+Ac(C(A8/60),2)+Ac(C(A8)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},d=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function u(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function AD(A8,i){return function(A9){return Ac(A8.call(this,A9),i)}}function T(i,A8){return function(A9){return this.lang().ordinal(i.call(this,A9),A8)}}while(A2.length){AC=A2.pop();Au[AC+"o"]=T(Au[AC],AC)}while(Ag.length){AC=Ag.pop();Au[AC+AC]=AD(Au[AC],2)}Au.DDDD=AD(Au.DDD,3);function AV(){}function L(i){Y(i);f(this,i)}function Ab(Bc){var Ba=AA(Bc),Be=Ba.year||0,Bb=Ba.month||0,Bd=Ba.week||0,A8=Ba.day||0,Bg=Ba.hour||0,Bf=Ba.minute||0,i=Ba.second||0,A9=Ba.millisecond||0;this._milliseconds=+A9+i*1000+Bf*60000+Bg*3600000;this._days=+A8+Bd*7;this._months=+Bb+Be*12;this._data={};this._bubble()}function f(Ba,A9){for(var A8 in A9){if(A9.hasOwnProperty(A8)){Ba[A8]=A9[A8]}}if(A9.hasOwnProperty("toString")){Ba.toString=A9.toString}if(A9.hasOwnProperty("valueOf")){Ba.valueOf=A9.valueOf}return Ba}function x(Ba){var A9={},A8;for(A8 in Ba){if(Ba.hasOwnProperty(A8)&&D.hasOwnProperty(A8)){A9[A8]=Ba[A8]}}return A9}function S(i){if(i<0){return Math.ceil(i)}else{return Math.floor(i)}}function Ac(Bb,Ba,i){var A9=""+Math.abs(Bb),A8=Bb>=0;while(A9.length<Ba){A9="0"+A9}return(A8?(i?"+":""):"-")+A9}function Ao(Bf,Ba,Bb,A8){var Bd=Ba._milliseconds,i=Ba._days,A9=Ba._months,Bc,Be;if(Bd){Bf._d.setTime(+Bf._d+Bd*Bb)}if(i||A9){Bc=Bf.minute();Be=Bf.hour()}if(i){Bf.date(Bf.date()+i*Bb)}if(A9){Bf.month(Bf.month()+A9*Bb)}if(Bd&&!A8){q.updateOffset(Bf,i||A9)}if(i||A9){Bf.minute(Bc);Bf.hour(Be)}}function Aa(i){return Object.prototype.toString.call(i)==="[object Array]"}function A0(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date}function R(A8,Bd,Ba){var Bc=Math.min(A8.length,Bd.length),Be=Math.abs(A8.length-Bd.length),A9=0,Bb;for(Bb=0;Bb<Bc;Bb++){if((Ba&&A8[Bb]!==Bd[Bb])||(!Ba&&C(A8[Bb])!==C(Bd[Bb]))){A9++}}return A9+Be}function AU(A8){if(A8){var i=A8.toLowerCase().replace(/(.)s$/,"$1");A8=AK[A8]||A5[i]||i}return A8}function AA(Ba){var i={},A8,A9;for(A9 in Ba){if(Ba.hasOwnProperty(A9)){A8=AU(A9);if(A8){i[A8]=Ba[A9]}}}return i}function A(A8){var i,A9;if(A8.indexOf("week")===0){i=7;A9="day"}else{if(A8.indexOf("month")===0){i=12;A9="month"}else{return}}q[A8]=function(Bb,Bd){var Ba,Bc,Bf=q.fn._lang[A8],Be=[];if(typeof Bb==="number"){Bd=Bb;Bb=Ar}Bc=function(Bg){var Bh=q().utc().set(A9,Bg);return Bf.call(q.fn._lang,Bh,Bb||"")};if(Bd!=null){return Bc(Bd)}else{for(Ba=0;Ba<i;Ba++){Be.push(Bc(Ba))}return Be}}}function C(A9){var A8=+A9,i=0;if(A8!==0&&isFinite(A8)){if(A8>=0){i=Math.floor(A8)}else{i=Math.ceil(A8)}}return i}function K(A8,i){return new Date(Date.UTC(A8,i+1,0)).getUTCDate()}function B(A8,i,A9){return Ay(q([A8,11,31+i-A9]),i,A9).week}function AZ(i){return Ae(i)?366:365}function Ae(i){return(i%4===0&&i%100!==0)||i%400===0}function Y(A8){var i;if(A8._a&&A8._pf.overflow===-2){i=A8._a[At]<0||A8._a[At]>11?At:A8._a[Am]<1||A8._a[Am]>K(A8._a[n],A8._a[At])?Am:A8._a[Ai]<0||A8._a[Ai]>23?Ai:A8._a[A6]<0||A8._a[A6]>59?A6:A8._a[e]<0||A8._a[e]>59?e:A8._a[J]<0||A8._a[J]>999?J:-1;if(A8._pf._overflowDayOfYear&&(i<n||i>Am)){i=Am}A8._pf.overflow=i}}function AG(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0}}return i._isValid}function w(i){return i?i.toLowerCase().replace("_","-"):i}function E(i,A8){return A8._isUTC?q(i).zone(A8._offset||0):q(i).local()}f(AV.prototype,{set:function(A9){var Ba,A8;for(A8 in A9){Ba=A9[A8];if(typeof Ba==="function"){this[A8]=Ba}else{this["_"+A8]=Ba}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()]},monthsParse:function(A8){var A9,Bb,Ba;if(!this._monthsParse){this._monthsParse=[]}for(A9=0;A9<12;A9++){if(!this._monthsParse[A9]){Bb=q.utc([2000,A9]);Ba="^"+this.months(Bb,"")+"|^"+this.monthsShort(Bb,"");this._monthsParse[A9]=new RegExp(Ba.replace(".",""),"i")}if(this._monthsParse[A9].test(A8)){return A9}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()]},weekdaysParse:function(Bb){var A8,Ba,A9;if(!this._weekdaysParse){this._weekdaysParse=[]}for(A8=0;A8<7;A8++){if(!this._weekdaysParse[A8]){Ba=q([2000,1]).day(A8);A9="^"+this.weekdays(Ba,"")+"|^"+this.weekdaysShort(Ba,"")+"|^"+this.weekdaysMin(Ba,"");this._weekdaysParse[A8]=new RegExp(A9.replace(".",""),"i")}if(this._weekdaysParse[A8].test(Bb)){return A8}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(i){var A8=this._longDateFormat[i];if(!A8&&this._longDateFormat[i.toUpperCase()]){A8=this._longDateFormat[i.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(A9){return A9.slice(1)});this._longDateFormat[i]=A8}return A8},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,A8,A9){if(i>11){return A9?"pm":"PM"}else{return A9?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(i,A8){var A9=this._calendar[i];return typeof A9==="function"?A9.apply(A8):A9},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(Bb,Ba,A8,i){var A9=this._relativeTime[A8];return(typeof A9==="function")?A9(Bb,Ba,A8,i):A9.replace(/%d/i,Bb)},pastFuture:function(A8,A9){var i=this._relativeTime[A8>0?"future":"past"];return typeof i==="function"?i(A9):i.replace(/%s/i,A9)},ordinal:function(i){return this._ordinal.replace("%d",i)},_ordinal:"%d",preparse:function(i){return i},postformat:function(i){return i},week:function(i){return Ay(i,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function AS(i,A8){A8.abbr=i;if(!AR[i]){AR[i]=new AV()}AR[i].set(A8);return AR[i]}function Av(i){delete AR[i]}function g(A8){var A9=0,Be,Ba,Bb,Bc,Bd=function(Bf){if(!AR[Bf]&&AH){try{require("./lang/"+Bf)}catch(i){}}return AR[Bf]};if(!A8){return q.fn._lang}if(!Aa(A8)){Ba=Bd(A8);if(Ba){return Ba}A8=[A8]}while(A9<A8.length){Bc=w(A8[A9]).split("-");Be=Bc.length;Bb=w(A8[A9+1]);Bb=Bb?Bb.split("-"):null;while(Be>0){Ba=Bd(Bc.slice(0,Be).join("-"));if(Ba){return Ba}if(Bb&&Bb.length>=Be&&R(Bc,Bb,true)>=Be-1){break}Be--}A9++}return q.fn._lang}function AW(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"")}return i.replace(/\\/g,"")}function N(A9){var A8=A9.match(A7),Ba,Bb;for(Ba=0,Bb=A8.length;Ba<Bb;Ba++){if(Au[A8[Ba]]){A8[Ba]=Au[A8[Ba]]}else{A8[Ba]=AW(A8[Ba])}}return function(i){var Bc="";for(Ba=0;Ba<Bb;Ba++){Bc+=A8[Ba] instanceof Function?A8[Ba].call(i,A9):A8[Ba]}return Bc}}function AF(A8,i){if(!A8.isValid()){return A8.lang().invalidDate()}i=P(i,A8.lang());if(!Ap[i]){Ap[i]=N(i)}return Ap[i](A8)}function P(A9,Ba){var A8=5;function Bb(i){return Ba.longDateFormat(i)||i}r.lastIndex=0;while(A8>=0&&r.test(A9)){A9=A9.replace(r,Bb);r.lastIndex=0;A8-=1}return A9}function O(i,A9){var Ba,A8=A9._strict;switch(i){case"DDDD":return z;case"YYYY":case"GGGG":case"gggg":return A8?c:Af;case"Y":case"G":case"g":return AT;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return A8?A3:Az;case"S":if(A8){return j}case"SS":if(A8){return AQ}case"SSS":if(A8){return z}case"DDD":return H;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return I;case"a":case"A":return g(A9._l)._meridiemParse;case"X":return AY;case"Z":case"ZZ":return AE;case"T":return As;case"SSSS":return v;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return A8?AQ:m;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return m;case"Do":return AB;default:Ba=new RegExp(U(AJ(i.replace("\\","")),"i"));return Ba}}function AI(Bb){Bb=Bb||"";var A9=(Bb.match(AE)||[]),i=A9[A9.length-1]||[],A8=(i+"").match(V)||["-",0,0],Ba=+(A8[1]*60)+C(A8[2]);return A8[0]==="+"?-Ba:Ba}function An(A8,Ba,A9){var Bb,i=A9._a;switch(A8){case"M":case"MM":if(Ba!=null){i[At]=C(Ba)-1}break;case"MMM":case"MMMM":Bb=g(A9._l).monthsParse(Ba);if(Bb!=null){i[At]=Bb}else{A9._pf.invalidMonth=Ba}break;case"D":case"DD":if(Ba!=null){i[Am]=C(Ba)}break;case"Do":if(Ba!=null){i[Am]=C(parseInt(Ba,10))}break;case"DDD":case"DDDD":if(Ba!=null){A9._dayOfYear=C(Ba)}break;case"YY":i[n]=C(Ba)+(C(Ba)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":i[n]=C(Ba);break;case"a":case"A":A9._isPm=g(A9._l).isPM(Ba);break;case"H":case"HH":case"h":case"hh":i[Ai]=C(Ba);break;case"m":case"mm":i[A6]=C(Ba);break;case"s":case"ss":i[e]=C(Ba);break;case"S":case"SS":case"SSS":case"SSSS":i[J]=C(("0."+Ba)*1000);break;case"X":A9._d=new Date(parseFloat(Ba)*1000);break;case"Z":case"ZZ":A9._useUTC=true;A9._tzm=AI(Ba);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":A8=A8.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":A8=A8.substr(0,2);if(Ba){A9._w=A9._w||{};A9._w[A8]=Ba}break}}function Ax(A8){var Bd,Bj,Bg=[],Bh,Bb,Ba,A9,Be,Bc,Bf,Bi;if(A8._d){return}Bh=X(A8);if(A8._w&&A8._a[Am]==null&&A8._a[At]==null){Ba=function(Bk){var i=parseInt(Bk,10);return Bk?(Bk.length<3?(i>68?1900+i:2000+i):i):(A8._a[n]==null?q().weekYear():A8._a[n])};A9=A8._w;if(A9.GG!=null||A9.W!=null||A9.E!=null){Be=G(Ba(A9.GG),A9.W||1,A9.E,4,1)}else{Bc=g(A8._l);Bf=A9.d!=null?Aq(A9.d,Bc):(A9.e!=null?parseInt(A9.e,10)+Bc._week.dow:0);Bi=parseInt(A9.w,10)||1;if(A9.d!=null&&Bf<Bc._week.dow){Bi++}Be=G(Ba(A9.gg),Bi,Bf,Bc._week.doy,Bc._week.dow)}A8._a[n]=Be.year;A8._dayOfYear=Be.dayOfYear}if(A8._dayOfYear){Bb=A8._a[n]==null?Bh[n]:A8._a[n];if(A8._dayOfYear>AZ(Bb)){A8._pf._overflowDayOfYear=true}Bj=M(Bb,0,A8._dayOfYear);A8._a[At]=Bj.getUTCMonth();A8._a[Am]=Bj.getUTCDate()}for(Bd=0;Bd<3&&A8._a[Bd]==null;++Bd){A8._a[Bd]=Bg[Bd]=Bh[Bd]}for(;Bd<7;Bd++){A8._a[Bd]=Bg[Bd]=(A8._a[Bd]==null)?(Bd===2?1:0):A8._a[Bd]}Bg[Ai]+=C((A8._tzm||0)/60);Bg[A6]+=C((A8._tzm||0)%60);A8._d=(A8._useUTC?M:y).apply(null,Bg)}function Z(A8){var i;if(A8._d){return}i=AA(A8._i);A8._a=[i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond];Ax(A8)}function X(i){var A8=new Date();if(i._useUTC){return[A8.getUTCFullYear(),A8.getUTCMonth(),A8.getUTCDate()]}else{return[A8.getFullYear(),A8.getMonth(),A8.getDate()]}}function Aj(A8){A8._a=[];A8._pf.empty=true;var Bb=g(A8._l),Bc=""+A8._i,Bf,Be,Ba,Bh,A9,Bd=Bc.length,Bg=0;Ba=P(A8._f,Bb).match(A7)||[];for(Bf=0;Bf<Ba.length;Bf++){Bh=Ba[Bf];Be=(Bc.match(O(Bh,A8))||[])[0];if(Be){A9=Bc.substr(0,Bc.indexOf(Be));if(A9.length>0){A8._pf.unusedInput.push(A9)}Bc=Bc.slice(Bc.indexOf(Be)+Be.length);Bg+=Be.length}if(Au[Bh]){if(Be){A8._pf.empty=false}else{A8._pf.unusedTokens.push(Bh)}An(Bh,Be,A8)}else{if(A8._strict&&!Be){A8._pf.unusedTokens.push(Bh)}}}A8._pf.charsLeftOver=Bd-Bg;if(Bc.length>0){A8._pf.unusedInput.push(Bc)}if(A8._isPm&&A8._a[Ai]<12){A8._a[Ai]+=12}if(A8._isPm===false&&A8._a[Ai]===12){A8._a[Ai]=0}Ax(A8);Y(A8)}function AJ(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(A9,Ba,Bb,Bc,A8){return Ba||Bb||Bc||A8})}function U(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function l(Ba){var A9,Bb,Bc,A8,Bd;if(Ba._f.length===0){Ba._pf.invalidFormat=true;Ba._d=new Date(NaN);return}for(A8=0;A8<Ba._f.length;A8++){Bd=0;A9=f({},Ba);A9._pf=u();A9._f=Ba._f[A8];Aj(A9);if(!AG(A9)){continue}Bd+=A9._pf.charsLeftOver;Bd+=A9._pf.unusedTokens.length*10;A9._pf.score=Bd;if(Bc==null||Bd<Bc){Bc=Bd;Bb=A9}}f(Ba,Bb||A9)}function k(Ba){var A8,Bb,Bc=Ba._i,A9=AM.exec(Bc);if(A9){Ba._pf.iso=true;for(A8=0,Bb=o.length;A8<Bb;A8++){if(o[A8][1].exec(Bc)){Ba._f=o[A8][0]+(A9[6]||" ");break}}for(A8=0,Bb=Al.length;A8<Bb;A8++){if(Al[A8][1].exec(Bc)){Ba._f+=Al[A8][0];break}}if(Bc.match(AE)){Ba._f+="Z"}Aj(Ba)}else{Ba._d=new Date(Bc)}}function A1(A8){var A9=A8._i,i=F.exec(A9);if(A9===Ar){A8._d=new Date()}else{if(i){A8._d=new Date(+i[1])}else{if(typeof A9==="string"){k(A8)}else{if(Aa(A9)){A8._a=A9.slice(0);Ax(A8)}else{if(A0(A9)){A8._d=new Date(+A9)}else{if(typeof(A9)==="object"){Z(A8)}else{A8._d=new Date(A9)}}}}}}}function y(Bd,Bc,Be,Ba,A9,A8,i){var Bb=new Date(Bd,Bc,Be,Ba,A9,A8,i);if(Bd<1970){Bb.setFullYear(Bd)}return Bb}function M(i){var A8=new Date(Date.UTC.apply(null,arguments));if(i<1970){A8.setUTCFullYear(i)}return A8}function Aq(A8,i){if(typeof A8==="string"){if(!isNaN(A8)){A8=parseInt(A8,10)}else{A8=i.weekdaysParse(A8);if(typeof A8!=="number"){return null}}}return A8}function AN(A9,Bb,Ba,A8,i){return i.relativeTime(Bb||1,!!Ba,A9,A8)}function AL(Be,Bc,Bb){var A9=A4(Math.abs(Be)/1000),Ba=A4(A9/60),Bf=A4(Ba/60),A8=A4(Bf/24),Bd=A4(A8/365),i=A9<45&&["s",A9]||Ba===1&&["m"]||Ba<45&&["mm",Ba]||Bf===1&&["h"]||Bf<22&&["hh",Bf]||A8===1&&["d"]||A8<=25&&["dd",A8]||A8<=45&&["M"]||A8<345&&["MM",A4(A8/30)]||Bd===1&&["y"]||["yy",Bd];i[2]=Bc;i[3]=Be>0;i[4]=Bb;return AN.apply({},i)}function Ay(A9,A8,i){var Ba=i-A8,Bc=i-A9.day(),Bb;if(Bc>Ba){Bc-=7}if(Bc<Ba-7){Bc+=7}Bb=q(A9).add("d",Bc);return{week:Math.ceil(Bb.dayOfYear()/7),year:Bb.year()}}function G(A9,Bb,A8,Ba,Bc){var Be=M(A9,0,1).getUTCDay(),i,Bd;A8=A8!=null?A8:Bc;i=Bc-Be+(Be>Ba?7:0)-(Be<Bc?7:0);Bd=7*(Bb-1)+(A8-Bc)+i+1;return{year:Bd>0?A9:A9-1,dayOfYear:Bd>0?Bd:AZ(A9-1)+Bd}}function W(A8){var A9=A8._i,i=A8._f;if(A9===null){return q.invalid({nullInput:true})}if(typeof A9==="string"){A8._i=A9=g().preparse(A9)}if(q.isMoment(A9)){A8=x(A9);A8._d=new Date(+A9._d)}else{if(i){if(Aa(i)){l(A8)}else{Aj(A8)}}else{A1(A8)}}return new L(A8)}q=function(A9,i,A8,Bb){var Ba;if(typeof(A8)==="boolean"){Bb=A8;A8=Ar}Ba={};Ba._isAMomentObject=true;Ba._i=A9;Ba._f=i;Ba._l=A8;Ba._strict=Bb;Ba._isUTC=false;Ba._pf=u();return W(Ba)};q.utc=function(A9,i,A8,Bb){var Ba;if(typeof(A8)==="boolean"){Bb=A8;A8=Ar}Ba={};Ba._isAMomentObject=true;Ba._useUTC=true;Ba._isUTC=true;Ba._l=A8;Ba._i=A9;Ba._f=i;Ba._strict=Bb;Ba._pf=u();return W(Ba).utc()};q.unix=function(i){return q(i*1000)};q.duration=function(Bb,i){var Bd=Bb,A9=null,A8,Bc,Ba;if(q.isDuration(Bb)){Bd={ms:Bb._milliseconds,d:Bb._days,M:Bb._months}}else{if(typeof Bb==="number"){Bd={};if(i){Bd[i]=Bb}else{Bd.milliseconds=Bb}}else{if(!!(A9=AO.exec(Bb))){A8=(A9[1]==="-")?-1:1;Bd={y:0,d:C(A9[Am])*A8,h:C(A9[Ai])*A8,m:C(A9[A6])*A8,s:C(A9[e])*A8,ms:C(A9[J])*A8}}else{if(!!(A9=h.exec(Bb))){A8=(A9[1]==="-")?-1:1;Ba=function(Bf){var Be=Bf&&parseFloat(Bf.replace(",","."));return(isNaN(Be)?0:Be)*A8};Bd={y:Ba(A9[2]),M:Ba(A9[3]),d:Ba(A9[4]),h:Ba(A9[5]),m:Ba(A9[6]),s:Ba(A9[7]),w:Ba(A9[8])}}}}}Bc=new Ab(Bd);if(q.isDuration(Bb)&&Bb.hasOwnProperty("_lang")){Bc._lang=Bb._lang}return Bc};q.version=Ak;q.defaultFormat=AX;q.updateOffset=function(){};q.lang=function(i,A9){var A8;if(!i){return q.fn._lang._abbr}if(A9){AS(w(i),A9)}else{if(A9===null){Av(i);i="en"}else{if(!AR[i]){g(i)}}}A8=q.duration.fn._lang=q.fn._lang=g(i);return A8._abbr};q.langData=function(i){if(i&&i._lang&&i._lang._abbr){i=i._lang._abbr}return g(i)};q.isMoment=function(i){return i instanceof L||(i!=null&&i.hasOwnProperty("_isAMomentObject"))};q.isDuration=function(i){return i instanceof Ab};for(AC=d.length-1;AC>=0;--AC){A(d[AC])}q.normalizeUnits=function(i){return AU(i)};q.invalid=function(A8){var i=q.utc(NaN);if(A8!=null){f(i._pf,A8)}else{i._pf.userInvalidated=true}return i};q.parseZone=function(){return q.apply(null,arguments).parseZone()};f(q.fn=L.prototype,{clone:function(){return q(this)},valueOf:function(){return +this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var i=q(this).utc();if(0<i.year()&&i.year()<=9999){return AF(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return AF(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()]},isValid:function(){return AG(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&R(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray())>0}return false},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(i){var A8=AF(this,i||q.defaultFormat);return this.lang().postformat(A8)},add:function(A8,A9){var i;if(typeof A8==="string"){i=q.duration(+A9,A8)}else{i=q.duration(A8,A9)}Ao(this,i,1);return this},subtract:function(A8,A9){var i;if(typeof A8==="string"){i=q.duration(+A9,A8)}else{i=q.duration(A8,A9)}Ao(this,i,-1);return this},diff:function(A9,Bb,Bc){var A8=E(A9,this),i=(this.zone()-A8.zone())*60000,Bd,Ba;Bb=AU(Bb);if(Bb==="year"||Bb==="month"){Bd=(this.daysInMonth()+A8.daysInMonth())*43200000;Ba=((this.year()-A8.year())*12)+(this.month()-A8.month());Ba+=((this-q(this).startOf("month"))-(A8-q(A8).startOf("month")))/Bd;Ba-=((this.zone()-q(this).startOf("month").zone())-(A8.zone()-q(A8).startOf("month").zone()))*60000/Bd;if(Bb==="year"){Ba=Ba/12}}else{Bd=(this-A8);Ba=Bb==="second"?Bd/1000:Bb==="minute"?Bd/60000:Bb==="hour"?Bd/3600000:Bb==="day"?(Bd-i)/86400000:Bb==="week"?(Bd-i)/604800000:Bd}return Bc?Ba:S(Ba)},from:function(i,A8){return q.duration(this.diff(i)).lang(this.lang()._abbr).humanize(!A8)},fromNow:function(i){return this.from(q(),i)},calendar:function(){var A9=E(q(),this).startOf("day"),A8=this.diff(A9,"days",true),i=A8<-6?"sameElse":A8<-1?"lastWeek":A8<0?"lastDay":A8<1?"sameDay":A8<2?"nextDay":A8<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){return Ae(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(A8){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(A8!=null){A8=Aq(A8,this.lang());return this.add({d:A8-i})}else{return i}},month:function(A9){var i=this._isUTC?"UTC":"",A8;if(A9!=null){if(typeof A9==="string"){A9=this.lang().monthsParse(A9);if(typeof A9!=="number"){return this}}A8=Math.min(this.date(),K(this.year(),A9));this._d["set"+i+"Month"](A9,A8);q.updateOffset(this,true);return this}else{return this._d["get"+i+"Month"]()}},startOf:function(i){i=AU(i);switch(i){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(i==="week"){this.weekday(0)}else{if(i==="isoWeek"){this.isoWeekday(1)}}return this},endOf:function(i){i=AU(i);return this.startOf(i).add((i==="isoWeek"?"week":i),1).subtract("ms",1)},isAfter:function(i,A8){A8=typeof A8!=="undefined"?A8:"millisecond";return +this.clone().startOf(A8)>+q(i).startOf(A8)},isBefore:function(i,A8){A8=typeof A8!=="undefined"?A8:"millisecond";return +this.clone().startOf(A8)<+q(i).startOf(A8)},isSame:function(i,A8){A8=A8||"ms";return +this.clone().startOf(A8)===+E(i,this).startOf(A8)},min:function(i){i=q.apply(null,arguments);return i<this?this:i},max:function(i){i=q.apply(null,arguments);return i>this?this:i},zone:function(A8,i){i=(i==null?true:false);var A9=this._offset||0;if(A8!=null){if(typeof A8==="string"){A8=AI(A8)}if(Math.abs(A8)<16){A8=A8*60}this._offset=A8;this._isUTC=true;if(A9!==A8&&i){Ao(this,q.duration(A9-A8,"m"),1,true)}}else{return this._isUTC?A9:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else{if(typeof this._i==="string"){this.zone(this._i)}}return this},hasAlignedHourOffset:function(i){if(!i){i=0}else{i=q(i).zone()}return(this.zone()-i)%60===0},daysInMonth:function(){return K(this.year(),this.month())},dayOfYear:function(A8){var i=A4((q(this).startOf("day")-q(this).startOf("year"))/86400000)+1;return A8==null?i:this.add("d",(A8-i))},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(A8){var i=Ay(this,this.lang()._week.dow,this.lang()._week.doy).year;return A8==null?i:this.add("y",(A8-i))},isoWeekYear:function(A8){var i=Ay(this,1,4).year;return A8==null?i:this.add("y",(A8-i))},week:function(A8){var i=this.lang().week(this);return A8==null?i:this.add("d",(A8-i)*7)},isoWeek:function(A8){var i=Ay(this,1,4).week;return A8==null?i:this.add("d",(A8-i)*7)},weekday:function(i){var A8=(this.day()+7-this.lang()._week.dow)%7;return i==null?A8:this.add("d",i-A8)},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7)},isoWeeksInYear:function(){return B(this.year(),1,4)},weeksInYear:function(){var i=this._lang._week;return B(this.year(),i.dow,i.doy)},get:function(i){i=AU(i);return this[i]()},set:function(A8,i){A8=AU(A8);if(typeof this[A8]==="function"){this[A8](i)}return this},lang:function(i){if(i===Ar){return this._lang}else{this._lang=g(i);return this}}});function b(A9,i){var A8=i==="date"||i==="month"||i==="year";q.fn[A9]=q.fn[A9+"s"]=function(Bb,Bc){var Ba=this._isUTC?"UTC":"";if(Bc==null){Bc=A8}if(Bb!=null){this._d["set"+Ba+i](Bb);q.updateOffset(this,Bc);return this}else{return this._d["get"+Ba+i]()}}}for(AC=0;AC<AP.length;AC++){b(AP[AC].toLowerCase().replace(/s$/,""),AP[AC])}b("year","FullYear");q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.toJSON=q.fn.toISOString;f(q.duration.fn=Ab.prototype,{_bubble:function(){var Bd=this._milliseconds,i=this._days,Ba=this._months,A8=this._data,A9,Bb,Be,Bc;A8.milliseconds=Bd%1000;A9=S(Bd/1000);A8.seconds=A9%60;Bb=S(A9/60);A8.minutes=Bb%60;Be=S(Bb/60);A8.hours=Be%24;i+=S(Be/24);A8.days=i%30;Ba+=S(i/30);A8.months=Ba%12;Bc=S(Ba/12);A8.years=Bc},weeks:function(){return S(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+C(this._months/12)*31536000000},humanize:function(A9){var i=+this,A8=AL(i,!A9,this.lang());if(A9){A8=this.lang().pastFuture(i,A8)}return this.lang().postformat(A8)},add:function(A8,A9){var i=q.duration(A8,A9);this._milliseconds+=i._milliseconds;this._days+=i._days;this._months+=i._months;this._bubble();return this},subtract:function(A8,A9){var i=q.duration(A8,A9);this._milliseconds-=i._milliseconds;this._days-=i._days;this._months-=i._months;this._bubble();return this},get:function(i){i=AU(i);return this[i.toLowerCase()+"s"]()},as:function(i){i=AU(i);return this["as"+i.charAt(0).toUpperCase()+i.slice(1)+"s"]()},lang:q.fn.lang,toIsoString:function(){var Bb=Math.abs(this.years()),Bc=Math.abs(this.months()),A9=Math.abs(this.days()),i=Math.abs(this.hours()),A8=Math.abs(this.minutes()),Ba=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(Bb?Bb+"Y":"")+(Bc?Bc+"M":"")+(A9?A9+"D":"")+((i||A8||Ba)?"T":"")+(i?i+"H":"")+(A8?A8+"M":"")+(Ba?Ba+"S":"")}});function Q(i){q.duration.fn[i]=function(){return this._data[i]}}function Ad(A8,i){q.duration.fn["as"+A8]=function(){return +this/i}}for(AC in Aw){if(Aw.hasOwnProperty(AC)){Ad(AC,Aw[AC]);Q(AC.toLowerCase())}}Ad("Weeks",604800000);q.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12};q.lang("en",{ordinal:function(A9){var i=A9%10,A8=(C(A9%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return A9+A8}});function s(A9){var A8=false,i=q;if(typeof ender!=="undefined"){return}if(A9){Ah.moment=function(){if(!A8&&console&&console.warn){A8=true;console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")}return i.apply(null,arguments)};f(Ah.moment,i)}else{Ah["moment"]=q}}if(AH){module.exports=q;s(true)}else{if(typeof define==="function"&&define.amd){define("moment",function(i,A9,A8){if(A8.config&&A8.config()&&A8.config().noGlobal!==true){s(A8.config().noGlobal===Ar)}return q})}else{s()}}}).call(this);(function(G,A,B,E){var C="datepaginator";var F=function(I,H){this._element=I;this.$element=G(I);this._init(H)};F.defaults={fillWidth:true,highlightSelectedDate:true,highlightToday:true,hint:"dddd, Do MMMM YYYY",injectStyle:true,itemWidth:35,navItemWidth:20,offDays:"Sat,Sun",offDaysFormat:"ddd",onSelectedDateChanged:null,selectedDate:moment().clone().startOf("day"),selectedDateFormat:"YYYY-MM-DD",selectedItemWidth:140,showCalendar:true,showOffDays:true,showStartOfWeek:true,size:E,startOfWeek:"Mon",startOfWeekFormat:"ddd",squareEdges:false,text:"ddd<br/>Do",textSelected:"dddd<br/>Do, MMMM YYYY",width:0,startDate:moment(new Date(-8.64e+15)),startDateFormat:"YYYY-MM-DD",endDate:moment(new Date(8.64e+15)),endDateFormat:"YYYY-MM-DD"};F.prototype={setSelectedDate:function(I,H){this._setSelectedDate(moment(I,H?H:this.options.selectedDateFormat));this._render()},remove:function(){this._destroy();G.removeData(this,"plugin_"+C)},_init:function(H){this.options=G.extend({},F.defaults,H);if(this.options.width){this.options.fillWidth=false}else{this.options.width=this.$element.width();this.options.fillWidth=true}if(typeof this.options.startDate==="string"){this.options.startDate=moment(this.options.startDate,this.options.startDateFormat).clone().startOf("day")}if(typeof this.options.endDate==="string"){this.options.endDate=moment(this.options.endDate,this.options.endDateFormat).clone().startOf("day")}if(typeof this.options.selectedDate==="string"){this.options.selectedDate=moment(this.options.selectedDate,this.options.selectedDateFormat).clone().startOf("day")}if(this.options.selectedDate.isBefore(this.options.startDate)){this.options.selectedDate=this.options.startDate.clone()}if(this.options.selectedDate.isAfter(this.options.endDate)){this.options.selectedDate=this.options.endDate.clone()}if(this.options.size==="small"){this.options.size="sm"}else{if(this.options.size==="large"){this.options.size="lg"}}this._destroy();this._subscribeEvents();this._render()},_unsubscribeEvents:function(){this.$element.off("click");this.$element.off("selectedDateChanged")},_subscribeEvents:function(){this._unsubscribeEvents();this.$element.on("click",G.proxy(this._clickedHandler,this));if(typeof(this.options.onSelectedDateChanged)==="function"){this.$element.on("selectedDateChanged",this.options.onSelectedDateChanged)}if(this.options.fillWidth){G(A).on("resize",G.proxy(this._resize,this))}},_destroy:function(){if(this.initialized){if(this.$calendar){this.$calendar.datepicker("remove")}this.$wrapper.remove();this.$wrapper=null;this._unsubscribeEvents()}this.initialized=false},_clickedHandler:function(H){H.preventDefault();var I=G(H.target);var J=I.attr("class");if(J.indexOf("dp-nav-left")!=-1){this._back()}else{if(J.indexOf("dp-nav-right")!=-1){this._forward()}else{if(J.indexOf("dp-item")!=-1){this._select(I.attr("data-moment"))}}}},_setSelectedDate:function(H){if((!H.isSame(this.options.selectedDate))&&(!H.isBefore(this.options.startDate))&&(!H.isAfter(this.options.endDate))){this.options.selectedDate=H.startOf("day");this.$element.trigger("selectedDateChanged",[H.clone()])}},_back:function(){this._setSelectedDate(this.options.selectedDate.clone().subtract("day",1));this._render()},_forward:function(){this._setSelectedDate(this.options.selectedDate.clone().add("day",1));this._render()},_select:function(H){this._setSelectedDate(moment(H,this.options.selectedDateFormat));this._render()},_calendarSelect:function(H){this._setSelectedDate(moment(H.date));this._render()},_resize:function(){this.options.width=this.$element.width();this._render()},_render:function(){var H=this;if(!this.initialized){this.$element.removeClass("datepaginator datepaginator-sm datepaginator-lg").addClass(this.options.size==="sm"?"datepaginator-sm":this.options.size==="lg"?"datepaginator-lg":"datepaginator");this.$wrapper=G(this._template.list);this.$leftNav=G(this._template.navItem).addClass("dp-nav-left").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(G(this._template.icon).addClass("glyphicon-chevron-left").addClass("dp-nav-left")).width(this.options.navItemWidth);this.$rightNav=G(this._template.navItem).addClass("dp-nav-right").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(G(this._template.icon).addClass("glyphicon-chevron-right").addClass("dp-nav-right")).width(this.options.navItemWidth);this.$calendar=this.options.showCalendar?G(this._template.calendar):E;this._injectStyle();this.initialized=true}else{if(this.$calendar){this.$calendar.datepicker("remove")}}var I=this._buildData();this.$element.empty().append(this.$wrapper.empty());this.$leftNav.removeClass("dp-no-select").attr("title","");if(I.isSelectedStartDate){this.$leftNav.addClass("dp-no-select").attr("title","Start of valid date range")}this.$wrapper.append(G(H._template.listItem).append(this.$leftNav));G.each(I.items,function(L,K){var J=G(H._template.dateItem).attr("data-moment",K.m).attr("title",K.hint).width(K.itemWidth);if(K.isSelected&&H.options.highlightSelectedDate){J.addClass("dp-selected")}if(K.isToday&&H.options.highlightToday){J.addClass("dp-today")}if(K.isStartOfWeek&&H.options.showStartOfWeek){J.addClass("dp-divider")}if(K.isOffDay&&H.options.showOffDays){J.addClass("dp-off")}if(K.isSelected&&H.options.showCalendar){J.append(H.$calendar)}if(H.options.size==="sm"){J.addClass("dp-item-sm")}else{if(H.options.size==="lg"){J.addClass("dp-item-lg")}}if(!K.isValid){J.addClass("dp-no-select")}J.append(K.text);H.$wrapper.append(G(H._template.listItem).append(J))});this.$rightNav.removeClass("dp-no-select").attr("title","");if(I.isSelectedEndDate){this.$rightNav.addClass("dp-no-select").attr("title","End of valid date range")}this.$wrapper.append(G(H._template.listItem).append(this.$rightNav));if(this.$calendar){this.$calendar.datepicker({autoclose:true,forceParse:true,startView:0,minView:0,todayHighlight:true,startDate:this.options.startDate.toDate(),endDate:this.options.endDate.toDate()}).datepicker("update",this.options.selectedDate.toDate()).on("changeDate",G.proxy(this._calendarSelect,this))}},_injectStyle:function(){if(this.options.injectStyle&&!B.getElementById("bootstrap-datepaginator-style")){G('<style type="text/css" id="bootstrap-datepaginator-style">'+this._css+"</style>").appendTo("head")}},_buildData:function(){var R=(this.options.width-((this.options.selectedItemWidth-this.options.itemWidth)+(this.options.navItemWidth*2))),I=Math.floor(R/this.options.itemWidth),Q=parseInt(I/2),K=Math.floor(R/I),N=Math.floor(this.options.selectedItemWidth+(R-(I*K))),L=moment().startOf("day"),J=this.options.selectedDate.clone().subtract("days",Q),M=this.options.selectedDate.clone().add("days",(I-Q));var H={isSelectedStartDate:this.options.selectedDate.isSame(this.options.startDate)?true:false,isSelectedEndDate:this.options.selectedDate.isSame(this.options.endDate)?true:false,items:[]};for(var P=J;P.isBefore(M);P.add("days",1)){var O=((P.isSame(this.options.startDate)||P.isAfter(this.options.startDate))&&(P.isSame(this.options.endDate)||P.isBefore(this.options.endDate)))?true:false;H.items[H.items.length]={m:P.clone().format(this.options.selectedDateFormat),isValid:O,isSelected:(P.isSame(this.options.selectedDate))?true:false,isToday:(P.isSame(L))?true:false,isOffDay:(this.options.offDays.split(",").indexOf(P.format(this.options.offDaysFormat))!==-1)?true:false,isStartOfWeek:(this.options.startOfWeek.split(",").indexOf(P.format(this.options.startOfWeekFormat))!==-1)?true:false,text:(P.isSame(this.options.selectedDate))?P.format(this.options.textSelected):P.format(this.options.text),hint:O?P.format(this.options.hint):"Invalid date",itemWidth:(P.isSame(this.options.selectedDate))?N:K}}return H},_template:{list:'<ul class="pagination"></ul>',listItem:"<li></li>",navItem:'<a href="#" class="dp-nav"></a>',dateItem:'<a href="#" class="dp-item"></a>',icon:'<i class="glyphicon"></i>',calendar:'<i id="dp-calendar" class="glyphicon glyphicon-calendar"></i>'},_css:".datepaginator{font-size:12px;height:60px}.datepaginator-sm{font-size:10px;height:40px}.datepaginator-lg{font-size:14px;height:80px}.pagination{margin:0;padding:0;white-space:nowrap}.dp-nav{height:60px;padding:22px 0!important;width:20px;margin:0!important;text-align:center}.dp-nav-square-edges{border-radius:0!important}.dp-item{height:60px;padding:13px 0!important;width:35px;margin:0!important;border-left-style:hidden!important;text-align:center}.dp-item-sm{height:40px!important;padding:5px!important}.dp-item-lg{height:80px!important;padding:22px 0!important}.dp-nav-sm{height:40px!important;padding:11px 0!important}.dp-nav-lg{height:80px!important;padding:33px 0!important}a.dp-nav-right{border-left-style:hidden!important}.dp-divider{border-left:2px solid #ddd!important}.dp-off{background-color:#F0F0F0!important}.dp-no-select{color:#ccc!important;background-color:#F0F0F0!important}.dp-no-select:hover{background-color:#F0F0F0!important}.dp-today{background-color:#88B5DB!important;color:#fff!important}.dp-selected{background-color:#428bca!important;color:#fff!important;width:140px}#dp-calendar{padding:3px 5px 0 0!important;margin-right:3px;position:absolute;right:0;top:10}"};var D=function(H){if(A.console){A.console.error(H)}};G.fn[C]=function(H,I){return this.each(function(){var J=G.data(this,"plugin_"+C);if(typeof H==="string"){if(!J){D("Not initialized, can not call method : "+H)}else{if(!G.isFunction(J[H])||H.charAt(0)==="_"){D("No such method : "+H)}else{if(typeof I==="string"){I=[I]}J[H].apply(J,I)}}}else{if(!J){G.data(this,"plugin_"+C,new F(this,H))}else{J._init(H)}}})}})(jQuery,window,document);
/* X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(B){var A=function(D,C){this.options=B.extend({},B.fn.editableform.defaults,C);this.$div=B(D);if(!this.options.scope){this.options.scope=this}};A.prototype={constructor:A,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=B(B.fn.editableform.template)},initButtons:function(){var C=this.$form.find(".editable-buttons");C.append(B.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){C.addClass("editable-buttons-bottom")}},render:function(){this.$loading=B(B.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);B.when(this.input.render()).then(B.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(B.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(D){D.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var C=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(C);this.$form.submit(B.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var D,C;if(this.$form){D=this.$form.outerWidth();C=this.$form.outerHeight();if(D){this.$loading.width(D)}if(C){this.$loading.height(C)}this.$form.hide()}else{D=this.$loading.parent().width();if(D){this.$loading.width(D)}}this.$loading.show()},showForm:function(C){this.$loading.hide();this.$form.show();if(C!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(G){var E=this.$form.find(".control-group"),D=this.$form.find(".editable-error-block"),F;if(G===false){E.removeClass(B.fn.editableform.errorGroupClass);D.removeClass(B.fn.editableform.errorBlockClass).empty().hide()}else{if(G){F=(""+G).split("\n");for(var C=0;C<F.length;C++){F[C]=B("<div>").text(F[C]).html()}G=F.join("<br>")}E.addClass(B.fn.editableform.errorGroupClass);D.addClass(B.fn.editableform.errorBlockClass).html(G).show()}},submit:function(C){C.stopPropagation();C.preventDefault();var F=this.input.input2value();var E=this.validate(F);if(B.type(E)==="object"&&E.newValue!==undefined){F=E.newValue;this.input.value2input(F);if(typeof E.msg==="string"){this.error(E.msg);this.showForm();return}}else{if(E){this.error(E);this.showForm();return}}if(!this.options.savenochange&&this.input.value2str(F)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var D=this.input.value2submit(F);this.isSaving=true;B.when(this.save(D)).done(B.proxy(function(H){this.isSaving=false;var G=typeof this.options.success==="function"?this.options.success.call(this.options.scope,H,F):null;if(G===false){this.error(false);this.showForm(false);return}if(typeof G==="string"){this.error(G);this.showForm();return}if(G&&typeof G==="object"&&G.hasOwnProperty("newValue")){F=G.newValue}this.error(false);this.value=F;this.$div.triggerHandler("save",{newValue:F,submitValue:D,response:H})},this)).fail(B.proxy(function(G){this.isSaving=false;var H;if(typeof this.options.error==="function"){H=this.options.error.call(this.options.scope,G,F)}else{H=typeof G==="string"?G:G.responseText||G.statusText||"Unknown error!"}this.error(H);this.showForm()},this))},save:function(D){this.options.pk=B.fn.editableutils.tryParseJson(this.options.pk,true);var C=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,E=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&C!==null&&C!==undefined)))),F;if(E){this.showLoading();F={name:this.options.name||"",value:D,pk:C};if(typeof this.options.params==="function"){F=this.options.params.call(this.options.scope,F)}else{this.options.params=B.fn.editableutils.tryParseJson(this.options.params,true);B.extend(F,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,F)}else{return B.ajax(B.extend({url:this.options.url,data:F,type:"POST"},this.options.ajaxOptions))}}},validate:function(C){if(C===undefined){C=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,C)}},option:function(C,D){if(C in this.options){this.options[C]=D}if(C==="value"){this.setValue(D)}},setValue:function(C,D){if(D){this.value=this.input.str2value(C)}else{this.value=C}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};B.fn.editableform=function(C){var D=arguments;return this.each(function(){var E=B(this),G=E.data("editableform"),F=typeof C==="object"&&C;if(!G){E.data("editableform",(G=new A(this,F)))}if(typeof C==="string"){G[C].apply(G,Array.prototype.slice.call(D,1))}})};B.fn.editableform.Constructor=A;B.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};B.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';B.fn.editableform.loading='<div class="editableform-loading"></div>';B.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';B.fn.editableform.errorGroupClass=null;B.fn.editableform.errorBlockClass="editable-error";B.fn.editableform.engine="jquery"}(window.jQuery));(function(A){A.fn.editableutils={inherit:function(C,D){var B=function(){};B.prototype=D.prototype;C.prototype=new B();C.prototype.constructor=C;C.superclass=D.prototype},setCursorPosition:function(C,B){if(C.setSelectionRange){C.setSelectionRange(B,B)}else{if(C.createTextRange){var D=C.createTextRange();D.collapse(true);D.moveEnd("character",B);D.moveStart("character",B);D.select()}}},tryParseJson:function(B,D){if(typeof B==="string"&&B.length&&B.match(/^[\{\[].*[\}\]]$/)){if(D){try{B=(new Function("return "+B))()}catch(C){}finally{return B}}else{B=(new Function("return "+B))()}}return B},sliceObj:function(C,F,G){var B,H,E={};if(!A.isArray(F)||!F.length){return E}for(var D=0;D<F.length;D++){B=F[D];if(C.hasOwnProperty(B)){E[B]=C[B]}if(G===true){continue}H=B.toLowerCase();if(C.hasOwnProperty(H)){E[B]=C[H]}}return E},getConfigData:function(B){var C={};A.each(B.data(),function(E,D){if(typeof D!=="object"||(D&&typeof D==="object"&&(D.constructor===Object||D.constructor===Array))){C[E]=D}});return C},objectKeys:function(B){if(Object.keys){return Object.keys(B)}else{if(B!==Object(B)){throw new TypeError("Object.keys called on a non-object")}var D=[],C;for(C in B){if(Object.prototype.hasOwnProperty.call(B,C)){D.push(C)}}return D}},escape:function(B){return A("<div>").text(B).html()},itemsByValue:function(F,E,B){if(!E||F===null){return[]}if(typeof(B)!=="function"){var G=B||"value";B=function(I){return I[G]}}var D=A.isArray(F),C=[],H=this;A.each(E,function(I,J){if(J.children){C=C.concat(H.itemsByValue(F,J.children,B))}else{if(D){if(A.grep(F,function(L){return L==(J&&typeof J==="object"?B(J):J)}).length){C.push(J)}}else{var K=(J&&(typeof J==="object"))?B(J):J;if(F==K){C.push(J)}}}});return C},createInput:function(D){var E,C,B,F=D.type;if(F==="date"){if(D.mode==="inline"){if(A.fn.editabletypes.datefield){F="datefield"}else{if(A.fn.editabletypes.dateuifield){F="dateuifield"}}}else{if(A.fn.editabletypes.date){F="date"}else{if(A.fn.editabletypes.dateui){F="dateui"}}}if(F==="date"&&!A.fn.editabletypes.date){F="combodate"}}if(F==="datetime"&&D.mode==="inline"){F="datetimefield"}if(F==="wysihtml5"&&!A.fn.editabletypes[F]){F="textarea"}if(typeof A.fn.editabletypes[F]==="function"){E=A.fn.editabletypes[F];C=this.sliceObj(D,this.objectKeys(E.defaults));B=new E(C);return B}else{A.error("Unknown type: "+F);return false}},supportsTransitions:function(){var F=document.body||document.documentElement,C=F.style,D="transition",E=["Moz","Webkit","Khtml","O","ms"];if(typeof C[D]==="string"){return true}D=D.charAt(0).toUpperCase()+D.substr(1);for(var B=0;B<E.length;B++){if(typeof C[E[B]+D]==="string"){return true}}return false}}}(window.jQuery));(function(C){var B=function(E,D){this.init(E,D)};var A=function(E,D){this.init(E,D)};B.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(E,D){this.$element=C(E);this.options=C.extend({},C.fn.editableContainer.defaults,D);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",C.proxy(function(){this.destroy()},this));if(!C(document).data("editable-handlers-attached")){C(document).on("keyup.editable",function(F){if(F.which===27){C(".editable-open").editableContainer("hide")}});C(document).on("click.editable",function(G){var H=C(G.target),F,I=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!C.contains(document.documentElement,G.target)){return}if(H.is(document)){return}for(F=0;F<I.length;F++){if(H.is(I[F])||H.parents(I[F]).length){return}}B.prototype.closeOthers(G.target)});C(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!C.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var D in this.options){if(D in this.defaults){this.containerOptions[D]=this.options[D]}else{this.formOptions[D]=this.options[D]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var D;if(this.containerDataName){if(D=this.$element.data(this.containerDataName)){return D}}D=this.$element.data(this.containerName);return D},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:C.proxy(this.save,this),nochange:C.proxy(function(){this.hide("nochange")},this),cancel:C.proxy(function(){this.hide("cancel")},this),show:C.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:C.proxy(this.setPosition,this),resize:C.proxy(this.setPosition,this),rendered:C.proxy(function(){this.$element.triggerHandler("shown",C(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(D){this.$element.addClass("editable-open");if(D!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=C("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(D){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:D};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",D||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(D){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(D)}},setPosition:function(){},save:function(D,E){this.$element.triggerHandler("save",E);this.hide("save")},option:function(D,E){this.options[D]=E;if(D in this.containerOptions){this.containerOptions[D]=E;this.setContainerOption(D,E)}else{this.formOptions[D]=E;if(this.$form){this.$form.editableform("option",D,E)}}},setContainerOption:function(D,E){this.call("option",D,E)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(D){C(".editable-open").each(function(F,E){if(E===D||C(E).find(D).length){return}var G=C(E),H=G.data("editableContainer");if(!H){return}if(H.options.onblur==="cancel"){G.data("editableContainer").hide("onblur")}else{if(H.options.onblur==="submit"){G.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};C.fn.editableContainer=function(D){var E=arguments;return this.each(function(){var H=C(this),F="editableContainer",J=H.data(F),I=typeof D==="object"&&D,G=(I.mode==="inline")?A:B;if(!J){H.data(F,(J=new G(this,I)))}if(typeof D==="string"){J[D].apply(J,Array.prototype.slice.call(E,1))}})};C.fn.editableContainer.Popup=B;C.fn.editableContainer.Inline=A;C.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(D){if(D.handler){D.handler()}}}}(window.jQuery));(function(A){A.extend(A.fn.editableContainer.Inline.prototype,A.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=A("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,A.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(B){var A=function(D,C){this.$element=B(D);this.options=B.extend({},B.fn.editable.defaults,C,B.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!B.fn.editableutils.supportsTransitions()){this.options.highlight=false}};A.prototype={constructor:A,init:function(){var D=false,C,E;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=B.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(B.trim(this.$element.html()));D=true}else{this.options.value=B.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",B.proxy(function(F){if(!this.options.disabled){F.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var G=(this.options.toggle!=="click");this.toggle(G)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":C=true;break;case"auto":C=!B.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!D;break;default:C=false}B.when(C?this.render():true).then(B.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var C=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",C,B.proxy(function(D){var E=B(D.target);if(!E.data("editable")){if(E.hasClass(this.options.emptyclass)){E.empty()}E.editable(this.options).trigger(D)}},this))},render:function(C){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,C)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,C)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(C,D){if(C&&typeof C==="object"){B.each(C,B.proxy(function(F,E){this.option(B.trim(F),E)},this));return}this.options[C]=D;if(C==="disabled"){return D?this.disable():this.enable()}if(C==="value"){this.setValue(D)}if(this.container){this.container.option(C,D)}if(this.input.option){this.input.option(C,D)}},handleEmpty:function(C){if(this.options.display===false){return}if(C!==undefined){this.isEmpty=C}else{if(typeof(this.input.isEmpty)==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=B.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(C){if(this.options.disabled){return}if(!this.container){var D=B.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(D);this.$element.on("save.internal",B.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(C)},hide:function(){if(this.container){this.container.hide()}},toggle:function(C){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(C)}},save:function(D,F){if(this.options.unsavedclass){var C=false;C=C||typeof this.options.url==="function";C=C||this.options.display===false;C=C||F.response!==undefined;C=C||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(F.newValue));if(C){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var G=this.$element,E=G.css("background-color");G.css("background-color",this.options.highlight);setTimeout(function(){if(E==="transparent"){E=""}G.css("background-color",E);G.addClass("editable-bg-transition");setTimeout(function(){G.removeClass("editable-bg-transition")},1700)},10)}this.setValue(F.newValue,false,F.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(C,E,D){if(E){this.value=this.input.str2value(C)}else{this.value=C}if(this.container){this.container.option("value",this.value)}B.when(this.render(D)).then(B.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};B.fn.editable=function(K){var G={},D=arguments,M="editable";switch(K){case"validate":this.each(function(){var N=B(this),P=N.data(M),O;if(P&&(O=P.validate())){G[P.options.name]=O}});return G;case"getValue":if(arguments.length===2&&arguments[1]===true){G=this.eq(0).data(M).value}else{this.each(function(){var N=B(this),O=N.data(M);if(O&&O.value!==undefined&&O.value!==null){G[O.options.name]=O.input.value2submit(O.value)}})}return G;case"submit":var C=arguments[1]||{},J=this,L=this.editable("validate");if(B.isEmptyObject(L)){var E={};if(J.length===1){var F=J.data("editable");var I={name:F.options.name||"",value:F.input.value2submit(F.value),pk:(typeof F.options.pk==="function")?F.options.pk.call(F.options.scope):F.options.pk};if(typeof F.options.params==="function"){I=F.options.params.call(F.options.scope,I)}else{F.options.params=B.fn.editableutils.tryParseJson(F.options.params,true);B.extend(I,F.options.params)}E={url:F.options.url,data:I,type:"POST"};C.success=C.success||F.options.success;C.error=C.error||F.options.error}else{var H=this.editable("getValue");E={url:C.url,data:H,type:"POST"}}E.success=typeof C.success==="function"?function(N){C.success.call(J,N,C)}:B.noop;E.error=typeof C.error==="function"?function(){C.error.apply(J,arguments)}:B.noop;if(C.ajaxOptions){B.extend(E,C.ajaxOptions)}if(C.data){B.extend(E.data,C.data)}B.ajax(E)}else{if(typeof C.error==="function"){C.error.call(J,L)}}return this}return this.each(function(){var N=B(this),P=N.data(M),O=typeof K==="object"&&K;if(O&&O.selector){P=new A(this,O);return}if(!P){N.data(M,(P=new A(this,O)))}if(typeof K==="string"){P[K].apply(P,Array.prototype.slice.call(D,1))}})};B.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function(B){B.fn.editabletypes={};var A=function(){};A.prototype={init:function(C,D,E){this.type=C;this.options=B.extend({},E,D)},prerender:function(){this.$tpl=B(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(C,D){B(D)[this.options.escape?"text":"html"](B.trim(C))},html2value:function(C){return B("<div>").html(C).text()},value2str:function(C){return C},str2value:function(C){return C},value2submit:function(C){return C},value2input:function(C){this.$input.val(C)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(C){return B("<div>").text(C).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(C){if(this.options[C]!==undefined&&this.options[C]!==null){this.$input.attr(C,this.options[C])}},option:function(C,D){this.options[C]=D}};A.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};B.extend(B.fn.editabletypes,{abstractinput:A})}(window.jQuery));(function(B){var A=function(C){};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){var C=B.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();C.resolve()},function(){this.error=this.options.sourceError;C.resolve()});return C.promise()},html2value:function(C){return null},value2html:function(F,G,D,H){var E=B.Deferred(),C=function(){if(typeof D==="function"){D.call(G,F,this.sourceData,H)}else{this.value2htmlFinal(F,G)}E.resolve()};if(F===null){C.call(this)}else{this.onSourceReady(C,function(){E.resolve()})}return E.promise()},onSourceReady:function(C,I){var F;if(B.isFunction(this.options.source)){F=this.options.source.call(this.options.scope);this.sourceData=null}else{F=this.options.source}if(this.options.sourceCache&&B.isArray(this.sourceData)){C.call(this);return}try{F=B.fn.editableutils.tryParseJson(F,false)}catch(E){I.call(this);return}if(typeof F==="string"){if(this.options.sourceCache){var G=F,D;if(!B(document).data(G)){B(document).data(G,{})}D=B(document).data(G);if(D.loading===false&&D.sourceData){this.sourceData=D.sourceData;this.doPrepend();C.call(this);return}else{if(D.loading===true){D.callbacks.push(B.proxy(function(){this.sourceData=D.sourceData;this.doPrepend();C.call(this)},this));D.err_callbacks.push(B.proxy(I,this));return}else{D.loading=true;D.callbacks=[];D.err_callbacks=[]}}}var H=B.extend({url:F,type:"get",cache:false,dataType:"json",success:B.proxy(function(J){if(D){D.loading=false}this.sourceData=this.makeArray(J);if(B.isArray(this.sourceData)){if(D){D.sourceData=this.sourceData;B.each(D.callbacks,function(){this.call()})}this.doPrepend();C.call(this)}else{I.call(this);if(D){B.each(D.err_callbacks,function(){this.call()})}}},this),error:B.proxy(function(){I.call(this);if(D){D.loading=false;B.each(D.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);B.ajax(H)}else{this.sourceData=this.makeArray(F);if(B.isArray(this.sourceData)){this.doPrepend();C.call(this)}else{I.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!B.isArray(this.prependData)){if(B.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=B.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(B.isArray(this.prependData)&&B.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(C,D){},makeArray:function(I){var D,F,E=[],G,H;if(!I||typeof I==="string"){return null}if(B.isArray(I)){H=function(K,J){F={value:K,text:J};if(D++>=2){return false}};for(var C=0;C<I.length;C++){G=I[C];if(typeof G==="object"){D=0;B.each(G,H);if(D===1){E.push(F)}else{if(D>1){if(G.children){G.children=this.makeArray(G.children)}E.push(G)}}}else{E.push({value:G,text:G})}}}else{B.each(I,function(K,J){E.push({value:K,text:J})})}return E},option:function(C,D){this.options[C]=D;if(C==="source"){this.sourceData=null}if(C==="prepend"){this.prependData=null}}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});B.fn.editabletypes.list=A}(window.jQuery));(function(B){var A=function(C){this.init("text",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();B.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=B('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(B.proxy(function(C){if(~B.inArray(C.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var D=this;this.t=setTimeout(function(){D.toggleClear(C)},100)},this)).parent().css("position","relative");this.$clear.click(B.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(C){if(!this.$clear){return}var E=this.$input.val().length,D=this.$clear.is(":visible");if(E&&!D){this.$clear.show()}if(!E&&D){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});B.fn.editabletypes.text=A}(window.jQuery));(function(B){var A=function(C){this.init("textarea",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(C){if(C.ctrlKey&&C.which===13){B(this).closest("form").submit()}})},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});B.fn.editabletypes.textarea=A}(window.jQuery));(function(B){var A=function(C){this.init("select",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.list);B.extend(A.prototype,{renderList:function(){this.$input.empty();var C=function(F,G){var E;if(B.isArray(G)){for(var D=0;D<G.length;D++){E={};if(G[D].children){E.label=G[D].text;F.append(C(B("<optgroup>",E),G[D].children))}else{E.value=G[D].value;if(G[D].disabled){E.disabled=true}F.append(B("<option>",E).text(G[D].text))}}}return F};C(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(D){if(D.which===13){B(this).closest("form").submit()}})},value2htmlFinal:function(E,F){var D="",C=B.fn.editableutils.itemsByValue(E,this.sourceData);if(C.length){D=C[0].text}B.fn.editabletypes.abstractinput.prototype.value2html.call(this,D,F)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){B(this).closest("form").submit()})}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:"<select></select>"});B.fn.editabletypes.select=A}(window.jQuery));(function(B){var A=function(C){this.init("checklist",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.list);B.extend(A.prototype,{renderList:function(){var E,D;this.$tpl.empty();if(!B.isArray(this.sourceData)){return}for(var C=0;C<this.sourceData.length;C++){E=B("<label>").append(B("<input>",{type:"checkbox",value:this.sourceData[C].value})).append(B("<span>").text(" "+this.sourceData[C].text));B("<div>").append(E).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(C){return B.isArray(C)?C.sort().join(B.trim(this.options.separator)):""},str2value:function(D){var C,E=null;if(typeof D==="string"&&D.length){C=new RegExp("\\s*"+B.trim(this.options.separator)+"\\s*");E=D.split(C)}else{if(B.isArray(D)){E=D}else{E=[D]}}return E},value2input:function(C){this.$input.prop("checked",false);if(B.isArray(C)&&C.length){this.$input.each(function(E,D){var F=B(D);B.each(C,function(H,G){if(F.val()==G){F.prop("checked",true)}})})}},input2value:function(){var C=[];this.$input.filter(":checked").each(function(E,D){C.push(B(D).val())});return C},value2htmlFinal:function(F,G){var C=[],D=B.fn.editableutils.itemsByValue(F,this.sourceData),E=this.options.escape;if(D.length){B.each(D,function(H,I){var J=E?B.fn.editableutils.escape(I.text):I.text;C.push(J)});B(G).html(C.join("<br>"))}else{B(G).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(C){if(C.which===13){B(this).closest("form").submit()}})}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});B.fn.editabletypes.checklist=A}(window.jQuery));(function(B){var A=function(C){this.init("password",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);B.extend(A.prototype,{value2html:function(C,D){if(C){B(D).text("[hidden]")}else{B(D).empty()}},html2value:function(C){return null}});A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});B.fn.editabletypes.password=A}(window.jQuery));(function(B){var A=function(C){this.init("email",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});B.fn.editabletypes.email=A}(window.jQuery));(function(B){var A=function(C){this.init("url",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});B.fn.editabletypes.url=A}(window.jQuery));(function(B){var A=function(C){this.init("tel",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});B.fn.editabletypes.tel=A}(window.jQuery));(function(B){var A=function(C){this.init("number",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);B.extend(A.prototype,{render:function(){A.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});B.fn.editabletypes.number=A}(window.jQuery));(function(B){var A=function(C){this.init("range",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.number);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){B(this).siblings("output").text(B(this).val())})},activate:function(){this.$input.focus()}});A.defaults=B.extend({},B.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});B.fn.editabletypes.range=A}(window.jQuery));(function(B){var A=function(C){this.init("time",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass()}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});B.fn.editabletypes.time=A}(window.jQuery));(function(B){var A=function(D){this.init("select2",D,A.defaults);D.select2=D.select2||{};this.sourceData=null;if(D.placeholder){D.select2.placeholder=D.placeholder}if(!D.select2.tags&&D.source){var C=D.source;if(B.isFunction(D.source)){C=D.source.call(D.scope)}if(typeof C==="string"){D.select2.ajax=D.select2.ajax||{};if(!D.select2.ajax.data){D.select2.ajax.data=function(F){return{query:F}}}if(!D.select2.ajax.results){D.select2.ajax.results=function(F){return{results:F}}}D.select2.ajax.url=C}else{this.sourceData=this.convertSource(C);D.select2.data=this.sourceData}}this.options.select2=B.extend({},A.defaults.select2,D.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var E=this.idFunc||"id";this.idFunc=function(F){return F[E]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(F){return F.text}}};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",B.proxy(function(C){this.sourceData=C.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){B(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(E,F){var D="",G,C=this;if(this.options.select2.tags){G=E}else{if(this.sourceData){G=B.fn.editableutils.itemsByValue(E,this.sourceData,this.idFunc)}else{}}if(B.isArray(G)){D=[];B.each(G,function(I,H){D.push(H&&typeof H==="object"?C.formatSelection(H):H)})}else{if(G){D=C.formatSelection(G)}}D=B.isArray(D)?D.join(this.options.viewseparator):D;A.superclass.value2html.call(this,D,F)},html2value:function(C){return this.options.select2.tags?this.str2value(C,this.options.viewseparator):null},value2input:function(D){if(B.isArray(D)){D=D.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(D);this.$input.select2(this.options.select2)}else{this.$input.val(D).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var C=this.options.select2.id,E=this.options.select2.formatSelection;if(!C&&!E){var F=B(this.options.scope);if(!F.data("editable").isEmpty){var G={id:D,text:F.text()};this.$input.select2("data",G)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(F,C){if(typeof F!=="string"||!this.isMultiple){return F}C=C||this.getSeparator();var G,D,E;if(F===null||F.length<1){return null}G=F.split(C);for(D=0,E=G.length;D<E;D=D+1){G[D]=B.trim(G[D])}return G},autosubmit:function(){this.$input.on("change",function(D,C){if(!C){B(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||B.fn.select2.defaults.separator},convertSource:function(D){if(B.isArray(D)&&D.length&&D[0].value!==undefined){for(var C=0;C<D.length;C++){if(D[C].value!==undefined){D[C].id=D[C].value;delete D[C].value}}}return D},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});B.fn.editabletypes.select2=A}(window.jQuery));(function(B){var A=function(D,C){this.$element=B(D);if(!this.$element.is("input")){B.error("Combodate should be applied to INPUT element");return}this.options=B.extend({},B.fn.combodate.defaults,C,this.$element.data());this.init()};A.prototype={constructor:A,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=B('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",B.proxy(function(C){this.$element.val(this.getValue()).change();if(this.options.smartDays){if(B(C.target).is(".month")||B(C.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var C=this.options.template;B.each(this.map,function(G,E){E=E[0];var D=new RegExp(E+"+"),F=E.length>1?E.substring(1,2):E;C=C.replace(D,"{"+F+"}")});C=C.replace(/ /g,"&nbsp;");B.each(this.map,function(F,E){E=E[0];var D=E.length>1?E.substring(1,2):E;C=C.replace("{"+D+"}",'<select class="'+F+'"></select>')});return C},initCombos:function(){for(var D in this.map){var C=this.$widget.find("."+D);this["$"+D]=C.length?C:null;this.fillCombo(D)}},fillCombo:function(H){var G=this["$"+H];if(!G){return}var D="fill"+H.charAt(0).toUpperCase()+H.slice(1);var F=this[D]();var C=G.val();G.empty();for(var E=0;E<F.length;E++){G.append('<option value="'+F[E][0]+'">'+F[E][1]+"</option>")}G.val(C)},fillCommon:function(C){var F=[],E;if(this.options.firstItem==="name"){E=moment.relativeTime||moment.langData()._relativeTime;var D=typeof E[C]==="function"?E[C](1,true,C,false):E[C];D=D.split(" ").reverse()[0];F.push(["",D])}else{if(this.options.firstItem==="empty"){F.push(["",""])}}return F},fillDay:function(){var H=this.fillCommon("d"),G,C,I=this.options.template.indexOf("DD")!==-1,E=31;if(this.options.smartDays&&this.$month&&this.$year){var D=parseInt(this.$month.val(),10);var F=parseInt(this.$year.val(),10);if(!isNaN(D)&&!isNaN(F)){E=moment([F,D]).daysInMonth()}}for(C=1;C<=E;C++){G=I?this.leadZero(C):C;H.push([C,G])}return H},fillMonth:function(){var G=this.fillCommon("M"),E,C,F=this.options.template.indexOf("MMMM")!==-1,D=this.options.template.indexOf("MMM")!==-1,H=this.options.template.indexOf("MM")!==-1;for(C=0;C<=11;C++){if(F){E=moment().date(1).month(C).format("MMMM")}else{if(D){E=moment().date(1).month(C).format("MMM")}else{if(H){E=this.leadZero(C+1)}else{E=C+1}}}G.push([C,E])}return G},fillYear:function(){var F=[],D,C,E=this.options.template.indexOf("YYYY")!==-1;for(C=this.options.maxYear;C>=this.options.minYear;C--){D=E?C:(C+"").substring(2);F[this.options.yearDescending?"push":"unshift"]([C,D])}F=this.fillCommon("y").concat(F);return F},fillHour:function(){var J=this.fillCommon("h"),I,F,H=this.options.template.indexOf("h")!==-1,C=this.options.template.indexOf("H")!==-1,G=this.options.template.toLowerCase().indexOf("hh")!==-1,D=H?1:0,E=H?12:23;for(F=D;F<=E;F++){I=G?this.leadZero(F):F;J.push([F,I])}return J},fillMinute:function(){var E=this.fillCommon("m"),D,C,F=this.options.template.indexOf("mm")!==-1;for(C=0;C<=59;C+=this.options.minuteStep){D=F?this.leadZero(C):C;E.push([C,D])}return E},fillSecond:function(){var E=this.fillCommon("s"),D,C,F=this.options.template.indexOf("ss")!==-1;for(C=0;C<=59;C+=this.options.secondStep){D=F?this.leadZero(C):C;E.push([C,D])}return E},fillAmpm:function(){var C=this.options.template.indexOf("a")!==-1,D=this.options.template.indexOf("A")!==-1,E=[["am",C?"am":"AM"],["pm",C?"pm":"PM"]];return E},getValue:function(D){var C,G={},E=this,F=false;B.each(this.map,function(J,H){if(J==="ampm"){return}var I=J==="day"?1:0;G[J]=E["$"+J]?parseInt(E["$"+J].val(),10):I;if(isNaN(G[J])){F=true;return false}});if(F){return""}if(this.$ampm){if(G.hour===12){G.hour=this.$ampm.val()==="am"?0:12}else{G.hour=this.$ampm.val()==="am"?G.hour:G.hour+12}}C=moment([G.year,G.month,G.day,G.hour,G.minute,G.second]);this.highlight(C);D=D===undefined?this.options.format:D;if(D===null){return C.isValid()?C:null}else{return C.isValid()?C.format(D):""}},setValue:function(F){if(!F){return}var C=typeof F==="string"?moment(F,this.options.format):moment(F),D=this,G={};function E(J,H){var I={};J.children("option").each(function(K,L){var M=B(L).attr("value"),N;if(M===""){return}N=Math.abs(M-H);if(typeof I.distance==="undefined"||N<I.distance){I={value:M,distance:N}}});return I.value}if(C.isValid()){B.each(this.map,function(I,H){if(I==="ampm"){return}G[I]=C[H[1]]()});if(this.$ampm){if(G.hour>=12){G.ampm="pm";if(G.hour>12){G.hour-=12}}else{G.ampm="am";if(G.hour===0){G.hour=12}}}B.each(G,function(I,H){if(D["$"+I]){if(I==="minute"&&D.options.minuteStep>1&&D.options.roundTime){H=E(D["$"+I],H)}if(I==="second"&&D.options.secondStep>1&&D.options.roundTime){H=E(D["$"+I],H)}D["$"+I].val(H)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(C.format(this.options.format)).change()}},highlight:function(C){if(!C.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(C){return C<=9?"0"+C:C},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};B.fn.combodate=function(C){var D,E=Array.apply(null,arguments);E.shift();if(C==="getValue"&&this.length&&(D=this.eq(0).data("combodate"))){return D.getValue.apply(D,E)}return this.each(function(){var F=B(this),H=F.data("combodate"),G=typeof C=="object"&&C;if(!H){F.data("combodate",(H=new A(this,G)))}if(typeof C=="string"&&typeof H[C]=="function"){H[C].apply(H,E)}})};B.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}}(window.jQuery));(function(B){var A=function(C){this.init("combodate",C,A.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}C.combodate=B.fn.editableutils.tryParseJson(C.combodate,true);this.options.combodate=B.extend({},A.defaults.combodate,C.combodate,{format:this.options.format,template:this.options.template})};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(B.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(D,E){var C=D?D.format(this.options.viewformat):"";A.superclass.value2html.call(this,C,E)},html2value:function(C){return C?moment(C,this.options.viewformat):null},value2str:function(C){return C?C.format(this.options.format):""},str2value:function(C){return C?moment(C,this.options.format):null},value2submit:function(C){return this.value2str(C)},value2input:function(C){this.$input.combodate("setValue",C)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});B.fn.editabletypes.combodate=A}(window.jQuery));(function(B){var A=B.fn.editableform.Constructor.prototype.initInput;B.extend(B.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=B(B.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){A.apply(this);var F=this.input.options.inputclass===null||this.input.options.inputclass===false;var H="input-sm";var E="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~B.inArray(this.input.type,E)){this.input.$input.addClass("form-control");if(F){this.input.options.inputclass=H;this.input.$input.addClass(H)}}var D=this.$form.find(".editable-buttons");var G=F?[H]:this.input.options.inputclass.split(" ");for(var C=0;C<G.length;C++){if(G[C].toLowerCase()==="input-lg"){D.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});B.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>';B.fn.editableform.errorGroupClass="has-error";B.fn.editableform.errorBlockClass=null;B.fn.editableform.engine="bs3"}(window.jQuery));(function(A){A.extend(A.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:A.fn.popover.Constructor.DEFAULTS,initContainer:function(){A.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var B;if(this.$element.data("template")){B=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(B){this.$element.data("template",B)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(B,C){this.container().options[B]=C},setPosition:function(){(function(){var L=this.tip();var I=typeof this.options.placement=="function"?this.options.placement.call(this,L[0],this.$element[0]):this.options.placement;var C=/\s?auto?\s?/i;var N=C.test(I);if(N){I=I.replace(C,"")||"top"}var K=this.getPosition();var M=L[0].offsetWidth;var D=L[0].offsetHeight;if(N){var B=this.$element.parent();var H=I;var F=document.documentElement.scrollTop||document.body.scrollTop;var E=this.options.container=="body"?window.innerWidth:B.outerWidth();var J=this.options.container=="body"?window.innerHeight:B.outerHeight();var G=this.options.container=="body"?0:B.offset().left;I=I=="bottom"&&K.top+K.height+D-F>J?"top":I=="top"&&K.top-F-D<0?"bottom":I=="right"&&K.right+M>E?"left":I=="left"&&K.left-M<G?"right":I;L.removeClass(H).addClass(I)}var O=this.getCalculatedOffset(I,K,M,D);this.applyPlacement(O,I)}).call(this.container())}})}(window.jQuery));(function(K){function A(){return new Date(Date.UTC.apply(Date,arguments))}function I(){var N=new Date();return A(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate())}var F=function(P,O){var N=this;this._process_options(O);this.element=K(P);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=K(G.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(Q,R){return parseInt(R)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};F.prototype={constructor:F,_process_options:function(O){this._o=K.extend({},this._o,O);var P=this.o=K.extend({},this._o);var Q=P.language;if(!H[Q]){Q=Q.split("-")[0];if(!H[Q]){Q=D.language}}P.language=Q;switch(P.startView){case 2:case"decade":P.startView=2;break;case 1:case"year":P.startView=1;break;default:P.startView=0}switch(P.minViewMode){case 1:case"months":P.minViewMode=1;break;case 2:case"years":P.minViewMode=2;break;default:P.minViewMode=0}P.startView=Math.max(P.startView,P.minViewMode);P.weekStart%=7;P.weekEnd=((P.weekStart+6)%7);var N=G.parseFormat(P.format);if(P.startDate!==-Infinity){P.startDate=G.parseDate(P.startDate,N,P.language)}if(P.endDate!==Infinity){P.endDate=G.parseDate(P.endDate,N,P.language)}P.daysOfWeekDisabled=P.daysOfWeekDisabled||[];if(!K.isArray(P.daysOfWeekDisabled)){P.daysOfWeekDisabled=P.daysOfWeekDisabled.split(/[,\s]*/)}P.daysOfWeekDisabled=K.map(P.daysOfWeekDisabled,function(R){return parseInt(R,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(P){for(var O=0,N,Q;O<P.length;O++){N=P[O][0];Q=P[O][1];N.on(Q)}},_unapplyEvents:function(P){for(var O=0,N,Q;O<P.length;O++){N=P[O][0];Q=P[O][1];N.off(Q)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:K.proxy(this.show,this),keyup:K.proxy(this.update,this),keydown:K.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:K.proxy(this.show,this),keyup:K.proxy(this.update,this),keydown:K.proxy(this.keydown,this)}],[this.component,{click:K.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:K.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:K.proxy(this.click,this)}],[K(window),{resize:K.proxy(this.place,this)}],[K(document),{mousedown:K.proxy(function(N){if(!(this.element.is(N.target)||this.element.find(N.target).size()||this.picker.is(N.target)||this.picker.find(N.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(N,O){var Q=O||this.date,P=new Date(Q.getTime()+(Q.getTimezoneOffset()*60000));this.element.trigger({type:N,date:P,format:K.proxy(function(S){var R=S||this.o.format;return G.formatDate(Q,R,this.o.language)},this)})},show:function(N){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(N){N.preventDefault()}this._trigger("show")},hide:function(N){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var N=this.getUTCDate();return new Date(N.getTime()+(N.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(N){this.setUTCDate(new Date(N.getTime()-(N.getTimezoneOffset()*60000)))},setUTCDate:function(N){this.date=N;this.setValue()},setValue:function(){var N=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(N)}}else{this.element.val(N)}},getFormattedDate:function(N){if(N===undefined){N=this.o.format}return G.formatDate(this.date,N,this.o.language)},setStartDate:function(N){this._process_options({startDate:N});this.update();this.updateNavArrows()},setEndDate:function(N){this._process_options({endDate:N});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(N){this._process_options({daysOfWeekDisabled:N});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var O=parseInt(this.element.parents().filter(function(){return K(this).css("z-index")!="auto"}).first().css("z-index"))+10;var N=this.component?this.component.parent().offset():this.element.offset();var P=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:N.top+P,left:N.left,zIndex:O})},_allow_update:true,update:function(){if(!this._allow_update){return}var O,N=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){O=arguments[0];N=true}else{O=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=G.parseDate(O,this.o.format,this.o.language);if(N){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var P=this.o.weekStart,N="<tr>";if(this.o.calendarWeeks){var O='<th class="cw">&nbsp;</th>';N+=O;this.picker.find(".datepicker-days thead tr:first-child").prepend(O)}while(P<this.o.weekStart+7){N+='<th class="dow">'+H[this.o.language].daysMin[(P++)%7]+"</th>"}N+="</tr>";this.picker.find(".datepicker-days thead").append(N)},fillMonths:function(){var N="",O=0;while(O<12){N+='<span class="month">'+H[this.o.language].monthsShort[O++]+"</span>"}this.picker.find(".datepicker-months td").html(N)},setRange:function(N){if(!N||!N.length){delete this.range}else{this.range=K.map(N,function(O){return O.valueOf()})}this.fill()},getClassNames:function(S){var P=[],R=this.viewDate.getUTCFullYear(),O=this.viewDate.getUTCMonth(),N=this.date.valueOf(),Q=new Date();if(S.getUTCFullYear()<R||(S.getUTCFullYear()==R&&S.getUTCMonth()<O)){P.push("old")}else{if(S.getUTCFullYear()>R||(S.getUTCFullYear()==R&&S.getUTCMonth()>O)){P.push("new")}}if(this.o.todayHighlight&&S.getUTCFullYear()==Q.getFullYear()&&S.getUTCMonth()==Q.getMonth()&&S.getUTCDate()==Q.getDate()){P.push("today")}if(N&&S.valueOf()==N){P.push("active")}if(S.valueOf()<this.o.startDate||S.valueOf()>this.o.endDate||K.inArray(S.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){P.push("disabled")}if(this.range){if(S>this.range[0]&&S<this.range[this.range.length-1]){P.push("range")}if(K.inArray(S.valueOf(),this.range)!=-1){P.push("selected")}}return P},fill:function(){var Z=new Date(this.viewDate),c=Z.getUTCFullYear(),j=Z.getUTCMonth(),P=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,N=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,X=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,Q=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,e=this.date&&this.date.valueOf(),f;this.picker.find(".datepicker-days thead th.datepicker-switch").text(H[this.o.language].months[j]+" "+c);this.picker.find("tfoot th.today").text(H[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(H[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var l=A(c,j-1,28,0,0,0,0),g=G.getDaysInMonth(l.getUTCFullYear(),l.getUTCMonth());l.setUTCDate(g);l.setUTCDate(g-(l.getUTCDay()-this.o.weekStart+7)%7);var V=new Date(l);V.setUTCDate(V.getUTCDate()+42);V=V.valueOf();var b=[];var Y;while(l.valueOf()<V){if(l.getUTCDay()==this.o.weekStart){b.push("<tr>");if(this.o.calendarWeeks){var O=new Date(+l+(this.o.weekStart-l.getUTCDay()-7)%7*86400000),R=new Date(+O+(7+4-O.getUTCDay())%7*86400000),U=new Date(+(U=A(R.getUTCFullYear(),0,1))+(7+4-U.getUTCDay())%7*86400000),W=(R-U)/86400000/7+1;b.push('<td class="cw">'+W+"</td>")}}Y=this.getClassNames(l);Y.push("day");var T=this.o.beforeShowDay(l);if(T===undefined){T={}}else{if(typeof(T)==="boolean"){T={enabled:T}}else{if(typeof(T)==="string"){T={classes:T}}}}if(T.enabled===false){Y.push("disabled")}if(T.classes){Y=Y.concat(T.classes.split(/\s+/))}if(T.tooltip){f=T.tooltip}Y=K.unique(Y);b.push('<td class="'+Y.join(" ")+'"'+(f?' title="'+f+'"':"")+">"+l.getUTCDate()+"</td>");if(l.getUTCDay()==this.o.weekEnd){b.push("</tr>")}l.setUTCDate(l.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var m=this.date&&this.date.getUTCFullYear();var k=this.picker.find(".datepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active");if(m&&m==c){k.eq(this.date.getUTCMonth()).addClass("active")}if(c<P||c>X){k.addClass("disabled")}if(c==P){k.slice(0,N).addClass("disabled")}if(c==X){k.slice(Q+1).addClass("disabled")}b="";c=parseInt(c/10,10)*10;var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td");c-=1;for(var h=-1;h<11;h++){b+='<span class="year'+(h==-1?" old":h==10?" new":"")+(m==c?" active":"")+(c<P||c>X?" disabled":"")+'">'+c+"</span>";c+=1}S.html(b)},updateNavArrows:function(){if(!this._allow_update){return}var N=new Date(this.viewDate),P=N.getUTCFullYear(),O=N.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&P<=this.o.startDate.getUTCFullYear()&&O<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&P>=this.o.endDate.getUTCFullYear()&&O>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&P<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&P>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(N){N.preventDefault();var T=K(N.target).closest("span, td, th");if(T.length==1){switch(T[0].nodeName.toLowerCase()){case"th":switch(T[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var P=G.modes[this.viewMode].navStep*(T[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,P);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,P);break}this.fill();break;case"today":var V=new Date();V=A(V.getFullYear(),V.getMonth(),V.getDate(),0,0,0);this.showMode(-2);var S=this.o.todayBtn=="linked"?null:"view";this._setDate(V,S);break;case"clear":var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!T.is(".disabled")){this.viewDate.setUTCDate(1);if(T.is(".month")){var R=1;var Q=T.parent().find("span").index(T);var U=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(Q);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(A(U,Q,R,0,0,0,0))}}else{var U=parseInt(T.text(),10)||0;var R=1;var Q=0;this.viewDate.setUTCFullYear(U);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(A(U,Q,R,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(T.is(".day")&&!T.is(".disabled")){var R=parseInt(T.text(),10)||1;var U=this.viewDate.getUTCFullYear(),Q=this.viewDate.getUTCMonth();if(T.is(".old")){if(Q===0){Q=11;U-=1}else{Q-=1}}else{if(T.is(".new")){if(Q==11){Q=0;U+=1}else{Q+=1}}}this._setDate(A(U,Q,R,0,0,0,0))}break}}},_setDate:function(P,N){if(!N||N=="date"){this.date=new Date(P)}if(!N||N=="view"){this.viewDate=new Date(P)}this.fill();this.setValue();this._trigger("changeDate");var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.change();if(this.o.autoclose&&(!N||N=="date")){this.hide()}}},moveMonth:function(V,Q){if(!Q){return V}var T=new Date(V.valueOf()),R=T.getUTCDate(),N=T.getUTCMonth(),P=Math.abs(Q),O,U;Q=Q>0?1:-1;if(P==1){U=Q==-1?function(){return T.getUTCMonth()==N}:function(){return T.getUTCMonth()!=O};O=N+Q;T.setUTCMonth(O);if(O<0||O>11){O=(O+12)%12}}else{for(var S=0;S<P;S++){T=this.moveMonth(T,Q)}O=T.getUTCMonth();T.setUTCDate(R);U=function(){return O!=T.getUTCMonth()}}while(U()){T.setUTCDate(--R);T.setUTCMonth(O)}return T},moveYear:function(O,N){return this.moveMonth(O,N*12)},dateWithinRange:function(N){return N>=this.o.startDate&&N<=this.o.endDate},keydown:function(Q){if(this.picker.is(":not(:visible)")){if(Q.keyCode==27){this.show()}return}var N=false,R,S,P,U,T;switch(Q.keyCode){case 27:this.hide();Q.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}R=Q.keyCode==37?-1:1;if(Q.ctrlKey){U=this.moveYear(this.date,R);T=this.moveYear(this.viewDate,R)}else{if(Q.shiftKey){U=this.moveMonth(this.date,R);T=this.moveMonth(this.viewDate,R)}else{U=new Date(this.date);U.setUTCDate(this.date.getUTCDate()+R);T=new Date(this.viewDate);T.setUTCDate(this.viewDate.getUTCDate()+R)}}if(this.dateWithinRange(U)){this.date=U;this.viewDate=T;this.setValue();this.update();Q.preventDefault();N=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}R=Q.keyCode==38?-1:1;if(Q.ctrlKey){U=this.moveYear(this.date,R);T=this.moveYear(this.viewDate,R)}else{if(Q.shiftKey){U=this.moveMonth(this.date,R);T=this.moveMonth(this.viewDate,R)}else{U=new Date(this.date);U.setUTCDate(this.date.getUTCDate()+R*7);T=new Date(this.viewDate);T.setUTCDate(this.viewDate.getUTCDate()+R*7)}}if(this.dateWithinRange(U)){this.date=U;this.viewDate=T;this.setValue();this.update();Q.preventDefault();N=true}break;case 13:this.hide();Q.preventDefault();break;case 9:this.hide();break}if(N){this._trigger("changeDate");var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.change()}}},showMode:function(N){if(N){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+N))}this.picker.find(">div").hide().filter(".datepicker-"+G.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var L=function(O,N){this.element=K(O);this.inputs=K.map(N.inputs,function(P){return P.jquery?P[0]:P});delete N.inputs;K(this.inputs).datepicker(N).bind("changeDate",K.proxy(this.dateUpdated,this));this.pickers=K.map(this.inputs,function(P){return K(P).data("datepicker")});this.updateDates()};L.prototype={updateDates:function(){this.dates=K.map(this.pickers,function(N){return N.date});this.updateRanges()},updateRanges:function(){var N=K.map(this.dates,function(O){return O.valueOf()});K.each(this.pickers,function(O,P){P.setRange(N)})},dateUpdated:function(P){var Q=K(P.target).data("datepicker"),N=Q.getUTCDate(),O=K.inArray(P.target,this.inputs),R=this.inputs.length;if(O==-1){return}if(N<this.dates[O]){while(O>=0&&N<this.dates[O]){this.pickers[O--].setUTCDate(N)}}else{if(N>this.dates[O]){while(O<R&&N>this.dates[O]){this.pickers[O++].setUTCDate(N)}}}this.updateDates()},remove:function(){K.map(this.pickers,function(N){N.remove()});delete this.element.data().datepicker}};function C(N,P){var T=K(N).data(),R={},Q,S=new RegExp("^"+P.toLowerCase()+"([A-Z])"),P=new RegExp("^"+P.toLowerCase());for(var O in T){if(P.test(O)){Q=O.replace(S,function(V,U){return U.toLowerCase()});R[Q]=T[O]}}return R}function J(O){var P={};if(!H[O]){O=O.split("-")[0];if(!H[O]){return}}var N=H[O];K.each(E,function(Q,R){if(R in N){P[R]=N[R]}});return P}var B=K.fn.datepicker;var M=K.fn.datepicker=function(N){var Q=Array.apply(null,arguments);Q.shift();var O,P;this.each(function(){var X=K(this),R=X.data("datepicker"),U=typeof N=="object"&&N;if(!R){var T=C(this,"date"),W=K.extend({},D,T,U),Y=J(W.language),V=K.extend({},D,Y,T,U);if(X.is(".input-daterange")||V.inputs){var S={inputs:V.inputs||X.find("input").toArray()};X.data("datepicker",(R=new L(this,K.extend(V,S))))}else{X.data("datepicker",(R=new F(this,V)))}}if(typeof N=="string"&&typeof R[N]=="function"){O=R[N].apply(R,Q);if(O!==undefined){return false}}});if(O!==undefined){return O}else{return this}};var D=K.fn.datepicker.defaults={autoclose:false,beforeShowDay:K.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var E=K.fn.datepicker.locale_opts=["format","rtl","weekStart"];K.fn.datepicker.Constructor=F;var H=K.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var G={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(N){return(((N%4===0)&&(N%100!==0))||(N%400===0))},getDaysInMonth:function(O,N){return[31,(G.isLeapYear(O)?29:28),31,30,31,30,31,31,30,31,30,31][N]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(O){var P=O.replace(this.validParts,"\0").split("\0"),N=O.match(this.validParts);if(!P||!P.length||!N||N.length===0){throw new Error("Invalid date format.")}return{separators:P,parts:N}},parseDate:function(d,R,b){if(d instanceof Date){return d}if(typeof R==="string"){R=G.parseFormat(R)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(d)){var O=/([\-+]\d+)([dmwy])/,X=d.match(/([\-+]\d+)([dmwy])/g),Y,P;d=new Date();for(var U=0;U<X.length;U++){Y=O.exec(X[U]);P=parseInt(Y[1]);switch(Y[2]){case"d":d.setUTCDate(d.getUTCDate()+P);break;case"m":d=F.prototype.moveMonth.call(F.prototype,d,P);break;case"w":d.setUTCDate(d.getUTCDate()+P*7);break;case"y":d=F.prototype.moveYear.call(F.prototype,d,P);break}}return A(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,0)}var X=d&&d.match(this.nonpunctuation)||[],d=new Date(),Z={},T=["yyyy","yy","M","MM","m","mm","d","dd"],N={yyyy:function(e,f){return e.setUTCFullYear(f)},yy:function(e,f){return e.setUTCFullYear(2000+f)},m:function(e,f){f-=1;while(f<0){f+=12}f%=12;e.setUTCMonth(f);while(e.getUTCMonth()!=f){e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,f){return e.setUTCDate(f)}},Q,c,Y;N["M"]=N["MM"]=N["mm"]=N["m"];N["dd"]=N["d"];d=A(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);var V=R.parts.slice();if(X.length!=V.length){V=K(V).filter(function(e,f){return K.inArray(f,T)!==-1}).toArray()}if(X.length==V.length){for(var U=0,W=V.length;U<W;U++){Q=parseInt(X[U],10);Y=V[U];if(isNaN(Q)){switch(Y){case"MM":c=K(H[b].months).filter(function(){var f=this.slice(0,X[U].length),e=X[U].slice(0,f.length);return f==e});Q=K.inArray(c[0],H[b].months)+1;break;case"M":c=K(H[b].monthsShort).filter(function(){var f=this.slice(0,X[U].length),e=X[U].slice(0,f.length);return f==e});Q=K.inArray(c[0],H[b].monthsShort)+1;break}}Z[Y]=Q}for(var U=0,S;U<T.length;U++){S=T[U];if(S in Z&&!isNaN(Z[S])){N[S](d,Z[S])}}}return d},formatDate:function(S,O,N){if(typeof O==="string"){O=G.parseFormat(O)}var R={d:S.getUTCDate(),D:H[N].daysShort[S.getUTCDay()],DD:H[N].days[S.getUTCDay()],m:S.getUTCMonth()+1,M:H[N].monthsShort[S.getUTCMonth()],MM:H[N].months[S.getUTCMonth()],yy:S.getUTCFullYear().toString().substring(2),yyyy:S.getUTCFullYear()};R.dd=(R.d<10?"0":"")+R.d;R.mm=(R.m<10?"0":"")+R.m;var S=[],T=K.extend([],O.separators);for(var P=0,Q=O.parts.length;P<=Q;P++){if(T.length){S.push(T.shift())}S.push(R[O.parts[P]])}return S.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};G.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+G.headTemplate+"<tbody></tbody>"+G.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+G.headTemplate+G.contTemplate+G.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+G.headTemplate+G.contTemplate+G.footTemplate+"</table></div></div>";K.fn.datepicker.DPGlobal=G;K.fn.datepicker.noConflict=function(){K.fn.datepicker=B;return this};K(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(N){var O=K(this);if(O.data("datepicker")){return}N.preventDefault();M.call(O,"show")});K(function(){M.call(K('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function(B){B.fn.bdatepicker=B.fn.datepicker.noConflict();if(!B.fn.datepicker){B.fn.datepicker=B.fn.bdatepicker}var A=function(C){this.init("date",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{initPicker:function(C,D){if(!this.options.viewformat){this.options.viewformat=this.options.format}C.datepicker=B.fn.editableutils.tryParseJson(C.datepicker,true);this.options.datepicker=B.extend({},D.datepicker,C.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=B.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=B('<a href="#"></a>').html(this.options.clear).click(B.proxy(function(C){C.preventDefault();C.stopPropagation();this.clear()},this));this.$tpl.parent().append(B('<div class="editable-clear">').append(this.$clear))}},value2html:function(D,E){var C=D?this.dpg.formatDate(D,this.parsedViewFormat,this.options.datepicker.language):"";A.superclass.value2html.call(this,C,E)},html2value:function(C){return this.parseDate(C,this.parsedViewFormat)},value2str:function(C){return C?this.dpg.formatDate(C,this.parsedFormat,this.options.datepicker.language):""},str2value:function(C){return this.parseDate(C,this.parsedFormat)},value2submit:function(C){return this.value2str(C)},value2input:function(C){this.$input.bdatepicker("update",C)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(D){if(B(D.currentTarget).is(".old")||B(D.currentTarget).is(".new")){return}var C=B(this).closest("form");setTimeout(function(){C.submit()},200)})},parseDate:function(D,C){var E=null,F;if(D){E=this.dpg.parseDate(D,C,this.options.datepicker.language);if(typeof D==="string"){F=this.dpg.formatDate(E,C,this.options.datepicker.language);if(D!==F){E=null}}}return E}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});B.fn.editabletypes.date=A}(window.jQuery));(function(B){var A=function(C){this.init("datefield",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.date);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(B.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(C){this.$input.val(C?this.dpg.formatDate(C,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});B.fn.editabletypes.datefield=A}(window.jQuery));(function(B){var A=function(C){this.init("datetime",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{initPicker:function(C,D){if(!this.options.viewformat){this.options.viewformat=this.options.format}C.datetimepicker=B.fn.editableutils.tryParseJson(C.datetimepicker,true);this.options.datetimepicker=B.extend({},D.datetimepicker,C.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=B.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(C){var D=B(this).closest("form").parent();setTimeout(function(){D.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=B('<a href="#"></a>').html(this.options.clear).click(B.proxy(function(C){C.preventDefault();C.stopPropagation();this.clear()},this));this.$tpl.parent().append(B('<div class="editable-clear">').append(this.$clear))}},value2html:function(D,E){var C=D?this.dpg.formatDate(this.toUTC(D),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(E){A.superclass.value2html.call(this,C,E)}else{return C}},html2value:function(C){var D=this.parseDate(C,this.parsedViewFormat);return D?this.fromUTC(D):null},value2str:function(C){return C?this.dpg.formatDate(this.toUTC(C),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(C){var D=this.parseDate(C,this.parsedFormat);return D?this.fromUTC(D):null},value2submit:function(C){return this.value2str(C)},value2input:function(C){if(C){this.$input.data("datetimepicker").setDate(C)}},input2value:function(){var C=this.$input.data("datetimepicker");return C.date?C.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(D){var C=B(this).closest("form");setTimeout(function(){C.submit()},200)})},toUTC:function(C){return C?new Date(C.valueOf()-C.getTimezoneOffset()*60000):C},fromUTC:function(C){return C?new Date(C.valueOf()+C.getTimezoneOffset()*60000):C},parseDate:function(D,C){var E=null,F;if(D){E=this.dpg.parseDate(D,C,this.options.datetimepicker.language,this.options.formatType);if(typeof D==="string"){F=this.dpg.formatDate(E,C,this.options.datetimepicker.language,this.options.formatType);if(D!==F){E=null}}}return E}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});B.fn.editabletypes.datetime=A}(window.jQuery));(function(B){var A=function(C){this.init("datetimefield",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.datetime);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(B.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(C){this.$input.val(this.value2html(C));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});B.fn.editabletypes.datetimefield=A}(window.jQuery));(function(B){var A=function(C){this.init("address",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(D,E){if(!D){B(E).empty();return}var C=B("<div>").text(D.city).html()+", "+B("<div>").text(D.street).html()+" st., bld. "+B("<div>").text(D.building).html();B(E).html(C)},html2value:function(C){return null},value2str:function(D){var C="";if(D){for(var E in D){C=C+E+":"+D[E]+";"}}return C},str2value:function(C){return C},value2input:function(C){if(!C){return}this.$input.filter('[name="city"]').val(C.city);this.$input.filter('[name="street"]').val(C.street);this.$input.filter('[name="building"]').val(C.building)},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(C){if(C.which===13){B(this).closest("form").submit()}})}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: </span><input type="text" name="city" class="input-small form-control"></label></div><div class="editable-address"><label><span>Street: </span><input type="text" name="street" class="input-small form-control"></label></div><div class="editable-address"><label><span>Building: </span><input type="text" name="building" class="input-mini form-control"></label></div>',inputclass:""});B.fn.editabletypes.address=A}(window.jQuery));
/*
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(I){var G="0.9.3";var H={isMsie:function(){var M=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return M?parseInt(M[2],10):false},isBlankString:function(M){return !M||/^\s*$/.test(M)},escapeRegExChars:function(M){return M.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(M){return typeof M==="string"},isNumber:function(M){return typeof M==="number"},isArray:I.isArray,isFunction:I.isFunction,isObject:I.isPlainObject,isUndefined:function(M){return typeof M==="undefined"},bind:I.proxy,bindAll:function(N){var O;for(var M in N){I.isFunction(O=N[M])&&(N[M]=I.proxy(O,N))}},indexOf:function(O,M){for(var N=0;N<O.length;N++){if(O[N]===M){return N}}return -1},each:I.each,map:I.map,filter:I.grep,every:function(N,M){var O=true;if(!N){return O}I.each(N,function(P,Q){if(!(O=M.call(null,Q,P,N))){return false}});return !!O},some:function(N,M){var O=false;if(!N){return O}I.each(N,function(P,Q){if(O=M.call(null,Q,P,N)){return false}});return !!O},mixin:I.extend,getUniqueId:function(){var M=0;return function(){return M++}}(),defer:function(M){setTimeout(M,0)},debounce:function(N,Q,P){var M,O;return function(){var R=this,U=arguments,S,T;S=function(){M=null;if(!P){O=N.apply(R,U)}};T=P&&!M;clearTimeout(M);M=setTimeout(S,Q);if(T){O=N.apply(R,U)}return O}},throttle:function(T,Q){var P,M,N,O,S,R;S=0;R=function(){S=new Date();N=null;O=T.apply(P,M)};return function(){var V=new Date(),U=Q-(V-S);P=this;M=arguments;if(U<=0){clearTimeout(N);N=null;S=V;O=T.apply(P,M)}else{if(!N){N=setTimeout(R,U)}}return O}},tokenizeQuery:function(M){return I.trim(M).toLowerCase().split(/[\s]+/)},tokenizeText:function(M){return I.trim(M).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}};var B=function(){var M=/\s+/;return{on:function(P,N){var O;if(!N){return this}this._callbacks=this._callbacks||{};P=P.split(M);while(O=P.shift()){this._callbacks[O]=this._callbacks[O]||[];this._callbacks[O].push(N)}return this},trigger:function(Q,R){var P,O;if(!this._callbacks){return this}Q=Q.split(M);while(P=Q.shift()){if(O=this._callbacks[P]){for(var N=0;N<O.length;N+=1){O[N].call(this,{type:P,data:R})}}}return this}}}();var L=function(){var M="typeahead:";function N(O){if(!O||!O.el){I.error("EventBus initialized without el")}this.$el=I(O.el)}H.mixin(N.prototype,{trigger:function(O){var P=[].slice.call(arguments,1);this.$el.trigger(M+O,P)}});return N}();var F=function(){var N,R;try{N=window.localStorage;N.setItem("~~~","!");N.removeItem("~~~")}catch(P){N=null}function S(T){this.prefix=["__",T,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(N&&window.JSON){R={_prefix:function(T){return this.prefix+T},_ttlKey:function(T){return this._prefix(T)+this.ttlKey},get:function(T){if(this.isExpired(T)){this.remove(T)}return Q(N.getItem(this._prefix(T)))},set:function(T,V,U){if(H.isNumber(U)){N.setItem(this._ttlKey(T),O(M()+U))}else{N.removeItem(this._ttlKey(T))}return N.setItem(this._prefix(T),O(V))},remove:function(T){N.removeItem(this._ttlKey(T));N.removeItem(this._prefix(T));return this},clear:function(){var U,T,W=[],V=N.length;for(U=0;U<V;U++){if((T=N.key(U)).match(this.keyMatcher)){W.push(T.replace(this.keyMatcher,""))}}for(U=W.length;U--;){this.remove(W[U])}return this},isExpired:function(T){var U=Q(N.getItem(this._ttlKey(T)));return H.isNumber(U)&&M()>U?true:false}}}else{R={get:H.noop,set:H.noop,remove:H.noop,clear:H.noop,isExpired:H.noop}}H.mixin(S.prototype,R);return S;function M(){return new Date().getTime()}function O(T){return JSON.stringify(H.isUndefined(T)?null:T)}function Q(T){return JSON.parse(T)}}();var C=function(){function M(N){H.bindAll(this);N=N||{};this.sizeLimit=N.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}H.mixin(M.prototype,{get:function(N){return this.cache[N]},set:function(N,O){var P;if(this.cachedKeysByAge.length===this.sizeLimit){P=this.cachedKeysByAge.shift();delete this.cache[P]}this.cache[N]=O;this.cachedKeysByAge.push(N)}});return M}();var J=function(){var R=0,M={},P,Q;function T(U){H.bindAll(this);U=H.isString(U)?{url:U}:U;Q=Q||new C();P=H.isNumber(U.maxParallelRequests)?U.maxParallelRequests:P||6;this.url=U.url;this.wildcard=U.wildcard||"%QUERY";this.filter=U.filter;this.replace=U.replace;this.ajaxSettings={type:"get",cache:U.cache,timeout:U.timeout,dataType:U.dataType||"json",beforeSend:U.beforeSend};this._get=(/^throttle$/i.test(U.rateLimitFn)?H.throttle:H.debounce)(this._get,U.rateLimitWait||300)}H.mixin(T.prototype,{_get:function(W,U){var X=this;if(S()){this._sendRequest(W).done(V)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function V(Y){var Z=X.filter?X.filter(Y):Y;U&&U(Z);Q.set(W,Y)}},_sendRequest:function(U){var V=this,X=M[U];if(!X){N();X=M[U]=I.ajax(U,this.ajaxSettings).always(W)}return X;function W(){O();M[U]=null;if(V.onDeckRequestArgs){V._get.apply(V,V.onDeckRequestArgs);V.onDeckRequestArgs=null}}},get:function(X,U){var W=this,Y=encodeURIComponent(X||""),V,Z;U=U||H.noop;V=this.replace?this.replace(this.url,Y):this.url.replace(this.wildcard,Y);if(Z=Q.get(V)){H.defer(function(){U(W.filter?W.filter(Z):Z)})}else{this._get(V,U)}return !!Z}});return T;function N(){R++}function O(){R--}function S(){return R<P}}();var K=function(){var N={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};function O(P){H.bindAll(this);if(H.isString(P.template)&&!P.engine){I.error("no template engine specified")}if(!P.local&&!P.prefetch&&!P.remote){I.error("one of local, prefetch, or remote is required")}this.name=P.name||H.getUniqueId();this.limit=P.limit||5;this.minLength=P.minLength||1;this.header=P.header;this.footer=P.footer;this.valueKey=P.valueKey||"value";this.template=M(P.template,P.engine,this.valueKey);this.local=P.local;this.prefetch=P.prefetch;this.remote=P.remote;this.itemHash={};this.adjacencyList={};this.storage=P.name?new F(P.name):null}H.mixin(O.prototype,{_processLocalData:function(P){this._mergeProcessedData(this._processData(P))},_loadPrefetchData:function(V){var U=this,P=G+(V.thumbprint||""),R,S,Y,Q,T,W;if(this.storage){R=this.storage.get(N.thumbprint);S=this.storage.get(N.protocol);Y=this.storage.get(N.itemHash);Q=this.storage.get(N.adjacencyList)}T=R!==P||S!==H.getProtocol();V=H.isString(V)?{url:V}:V;V.ttl=H.isNumber(V.ttl)?V.ttl:24*60*60*1000;if(Y&&Q&&!T){this._mergeProcessedData({itemHash:Y,adjacencyList:Q});W=I.Deferred().resolve()}else{W=I.getJSON(V.url).done(X)}return W;function X(e){var c=V.filter?V.filter(e):e,d=U._processData(c),b=d.itemHash,Z=d.adjacencyList;if(U.storage){U.storage.set(N.itemHash,b,V.ttl);U.storage.set(N.adjacencyList,Z,V.ttl);U.storage.set(N.thumbprint,P,V.ttl);U.storage.set(N.protocol,H.getProtocol(),V.ttl)}U._mergeProcessedData(d)}},_transformDatum:function(S){var R=H.isString(S)?S:S[this.valueKey],Q=S.tokens||H.tokenizeText(R),P={value:R,tokens:Q};if(H.isString(S)){P.datum={};P.datum[this.valueKey]=S}else{P.datum=S}P.tokens=H.filter(P.tokens,function(T){return !H.isBlankString(T)});P.tokens=H.map(P.tokens,function(T){return T.toLowerCase()});return P},_processData:function(S){var Q=this,R={},P={};H.each(S,function(T,W){var U=Q._transformDatum(W),V=H.getUniqueId(U.value);R[V]=U;H.each(U.tokens,function(X,Y){var b=Y.charAt(0),Z=P[b]||(P[b]=[V]);!~H.indexOf(Z,V)&&Z.push(V)})});return{itemHash:R,adjacencyList:P}},_mergeProcessedData:function(Q){var P=this;H.mixin(this.itemHash,Q.itemHash);H.each(Q.adjacencyList,function(T,R){var S=P.adjacencyList[T];P.adjacencyList[T]=S?S.concat(R):R})},_getLocalSuggestions:function(P){var Q=this,R=[],T=[],S,U=[];H.each(P,function(V,W){var X=W.charAt(0);!~H.indexOf(R,X)&&R.push(X)});H.each(R,function(V,X){var W=Q.adjacencyList[X];if(!W){return false}T.push(W);if(!S||W.length<S.length){S=W}});if(T.length<R.length){return[]}H.each(S,function(W,Z){var X=Q.itemHash[Z],V,Y;V=H.every(T,function(b){return ~H.indexOf(b,Z)});Y=V&&H.every(P,function(b){return H.some(X.tokens,function(c){return c.indexOf(b)===0})});Y&&U.push(X)});return U},initialize:function(){var P;this.local&&this._processLocalData(this.local);this.transport=this.remote?new J(this.remote):null;P=this.prefetch?this._loadPrefetchData(this.prefetch):I.Deferred().resolve();this.local=this.prefetch=this.remote=null;this.initialize=function(){return P};return P},getSuggestions:function(U,P){var S=this,R,V,Q=false;if(U.length<this.minLength){return}R=H.tokenizeQuery(U);V=this._getLocalSuggestions(R).slice(0,this.limit);if(V.length<this.limit&&this.transport){Q=this.transport.get(U,T)}!Q&&P&&P(V);function T(W){V=V.slice(0);H.each(W,function(X,b){var Z=S._transformDatum(b),Y;Y=H.some(V,function(c){return Z.value===c.value});!Y&&V.push(Z);return V.length<S.limit});P&&P(V)}}});return O;function M(Q,R,T){var S,P;if(H.isFunction(Q)){S=Q}else{if(H.isString(Q)){P=R.compile(Q);S=H.bind(P.render,P)}else{S=function(U){return"<p>"+U[T]+"</p>"}}}return S}}();var A=function(){function M(P){var Q=this;H.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=I(P.hint);this.$input=I(P.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(!H.isMsie()){this.$input.on("input.tt",this._compareQueryToInputValue)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(R){if(Q.specialKeyCodeMap[R.which||R.keyCode]){return}H.defer(Q._compareQueryToInputValue)})}this.query=this.$input.val();this.$overflowHelper=N(this.$input)}H.mixin(M.prototype,B,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(Q){var P=this.specialKeyCodeMap[Q.which||Q.keyCode];P&&this.trigger(P+"Keyed",Q)},_compareQueryToInputValue:function(){var P=this.getInputValue(),R=O(this.query,P),Q=R?this.query.length!==P.length:false;if(Q){this.trigger("whitespaceChanged",{value:this.query})}else{if(!R){this.trigger("queryChanged",{value:this.query=P})}}},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(P){this.query=P},getInputValue:function(){return this.$input.val()},setInputValue:function(P,Q){this.$input.val(P);!Q&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(P){this.$hint.val(P)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var Q=this.$input.val().length,P=this.$input[0].selectionStart,R;if(H.isNumber(P)){return P===Q}else{if(document.selection){R=document.selection.createRange();R.moveStart("character",-Q);return Q===R.text.length}}return true}});return M;function N(P){return I("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:P.css("font-family"),fontSize:P.css("font-size"),fontStyle:P.css("font-style"),fontVariant:P.css("font-variant"),fontWeight:P.css("font-weight"),wordSpacing:P.css("word-spacing"),letterSpacing:P.css("letter-spacing"),textIndent:P.css("text-indent"),textRendering:P.css("text-rendering"),textTransform:P.css("text-transform")}).insertAfter(P)}function O(Q,P){Q=(Q||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");P=(P||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");return Q===P}}();var E=function(){var M={suggestionsList:'<span class="tt-suggestions"></span>'},O={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};function P(Q){H.bindAll(this);this.isOpen=false;this.isEmpty=true;this.isMouseOverDropdown=false;this.$menu=I(Q.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}H.mixin(P.prototype,B,{_handleMouseenter:function(){this.isMouseOverDropdown=true},_handleMouseleave:function(){this.isMouseOverDropdown=false},_handleMouseover:function(R){var Q=I(R.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");Q.addClass("tt-is-under-cursor")},_handleSelection:function(R){var Q=I(R.currentTarget);this.trigger("suggestionSelected",N(Q))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(S){var T,U,Q,R;if(!this.isVisible()){return}T=this._getSuggestions();U=T.filter(".tt-is-under-cursor");U.removeClass("tt-is-under-cursor");Q=T.index(U)+S;Q=(Q+1)%(T.length+1)-1;if(Q===-1){this.trigger("cursorRemoved");return}else{if(Q<-1){Q=T.length-1}}R=T.eq(Q).addClass("tt-is-under-cursor");this._ensureVisibility(R);this.trigger("cursorMoved",N(R))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(S){var R=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),T=this.$menu.scrollTop(),Q=S.position().top,U=Q+S.outerHeight(true);if(Q<0){this.$menu.scrollTop(T+Q)}else{if(R<U){this.$menu.scrollTop(T+(U-R))}}},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){if(!this.isMouseOverDropdown){this.close()}},close:function(){if(this.isOpen){this.isOpen=false;this.isMouseOverDropdown=false;this._hide();this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");this.trigger("closed")}},open:function(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function(Q){var R={left:"0",right:"auto"},S={left:"auto",right:" 0"};Q==="ltr"?this.$menu.css(R):this.$menu.css(S)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(+1)},getSuggestionUnderCursor:function(){var Q=this._getSuggestions().filter(".tt-is-under-cursor").first();return Q.length>0?N(Q):null},getFirstSuggestion:function(){var Q=this._getSuggestions().first();return Q.length>0?N(Q):null},renderSuggestions:function(X,V){var R="tt-dataset-"+X.name,W='<div class="tt-suggestion">%body</div>',Q,S,T=this.$menu.find("."+R),U,Z,Y;if(T.length===0){S=I(M.suggestionsList).css(O.suggestionsList);T=I("<div></div>").addClass(R).append(X.header).append(S).append(X.footer).appendTo(this.$menu)}if(V.length>0){this.isEmpty=false;this.isOpen&&this._show();U=document.createElement("div");Z=document.createDocumentFragment();H.each(V,function(b,c){c.dataset=X.name;Q=X.template(c.datum);U.innerHTML=W.replace("%body",Q);Y=I(U.firstChild).css(O.suggestion).data("suggestion",c);Y.children().each(function(){I(this).css(O.suggestionChild)});Z.appendChild(Y[0])});T.show().find(".tt-suggestions").html(Z)}else{this.clearSuggestions(X.name)}this.trigger("suggestionsRendered")},clearSuggestions:function(Q){var R=Q?this.$menu.find(".tt-dataset-"+Q):this.$menu.find('[class^="tt-dataset-"]'),S=R.find(".tt-suggestions");R.hide();S.empty();if(this._getSuggestions().length===0){this.isEmpty=true;this._hide()}}});return P;function N(Q){return Q.data("suggestion")}}();var D=function(){var M={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},O={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};if(H.isMsie()){H.mixin(O.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(H.isMsie()&&H.isMsie()<=7){H.mixin(O.wrapper,{display:"inline",zoom:"1"});H.mixin(O.query,{marginTop:"-1px"})}function P(S){var U,R,T;H.bindAll(this);this.$node=Q(S.input);this.datasets=S.datasets;this.dir=null;this.eventBus=S.eventBus;U=this.$node.find(".tt-dropdown-menu");R=this.$node.find(".tt-query");T=this.$node.find(".tt-hint");this.dropdownView=new E({menu:U}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new A({input:R,hint:T}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}H.mixin(P.prototype,B,{_managePreventDefault:function(T){var V=T.data,R,S,U=false;switch(T.type){case"tabKeyed":R=this.inputView.getHintValue();S=this.inputView.getInputValue();U=R&&R!==S;break;case"upKeyed":case"downKeyed":U=!V.shiftKey&&!V.ctrlKey&&!V.metaKey;break}U&&V.preventDefault()},_setLanguageDirection:function(){var R=this.inputView.getLanguageDirection();if(R!==this.dir){this.dir=R;this.$node.css("direction",R);this.dropdownView.setLanguageDirection(R)}},_updateHint:function(){var R=this.dropdownView.getFirstSuggestion(),X=R?R.value:null,S=this.dropdownView.isVisible(),Y=this.inputView.isOverflow(),W,V,Z,U,T;if(X&&S&&!Y){W=this.inputView.getInputValue();V=W.replace(/\s{2,}/g," ").replace(/^\s+/g,"");Z=H.escapeRegExChars(V);U=new RegExp("^(?:"+Z+")(.*$)","i");T=U.exec(X);this.inputView.setHintValue(W+(T?T[1]:""))}},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(R){var S=R.data;this.inputView.setInputValue(S.value,true)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(R){this.dropdownView[R.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(R){var S=R.data;if(!S.shiftKey&&!S.ctrlKey&&!S.metaKey){this.dropdownView[R.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()}},_handleSelection:function(R){var S=R.type==="suggestionSelected",T=S?R.data:this.dropdownView.getSuggestionUnderCursor();if(T){this.inputView.setInputValue(T.value);S?this.inputView.focus():R.data.preventDefault();S&&H.isMsie()?H.defer(this.dropdownView.close):this.dropdownView.close();this.eventBus.trigger("selected",T.datum,T.dataset)}},_getSuggestions:function(){var R=this,S=this.inputView.getQuery();if(H.isBlankString(S)){return}H.each(this.datasets,function(U,T){T.getSuggestions(S,function(V){if(S===R.inputView.getQuery()){R.dropdownView.renderSuggestions(T,V)}})})},_autocomplete:function(S){var U,W,T,R,V;if(S.type==="rightKeyed"||S.type==="leftKeyed"){U=this.inputView.isCursorAtEnd();W=this.inputView.getLanguageDirection()==="ltr"?S.type==="leftKeyed":S.type==="rightKeyed";if(!U||W){return}}T=this.inputView.getQuery();R=this.inputView.getHintValue();if(R!==""&&T!==R){V=this.dropdownView.getFirstSuggestion();this.inputView.setInputValue(V.value);this.eventBus.trigger("autocompleted",V.datum,V.dataset)}},_propagateEvent:function(R){this.eventBus.trigger(R.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();N(this.$node);this.$node=null},setQuery:function(R){this.inputView.setQuery(R);this.inputView.setInputValue(R);this._clearHint();this._clearSuggestions();this._getSuggestions()}});return P;function Q(U){var S=I(M.wrapper),W=I(M.dropdown),R=I(U),V=I(M.hint);S=S.css(O.wrapper);W=W.css(O.dropdown);V.css(O.hint).css({backgroundAttachment:R.css("background-attachment"),backgroundClip:R.css("background-clip"),backgroundColor:R.css("background-color"),backgroundImage:R.css("background-image"),backgroundOrigin:R.css("background-origin"),backgroundPosition:R.css("background-position"),backgroundRepeat:R.css("background-repeat"),backgroundSize:R.css("background-size")});R.data("ttAttrs",{dir:R.attr("dir"),autocomplete:R.attr("autocomplete"),spellcheck:R.attr("spellcheck"),style:R.attr("style")});R.addClass("tt-query").attr({autocomplete:"off",spellcheck:false}).css(O.query);try{!R.attr("dir")&&R.attr("dir","auto")}catch(T){}return R.wrap(S).parent().prepend(V).append(W)}function N(S){var R=S.find(".tt-query");H.each(R.data("ttAttrs"),function(T,U){H.isUndefined(U)?R.removeAttr(T):R.attr(T,U)});R.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(S);S.remove()}}();(function(){var M={},O="ttView",N;N={initialize:function(R){var Q;R=H.isArray(R)?R:[R];if(R.length===0){I.error("no datasets provided")}Q=H.map(R,function(T){var S=M[T.name]?M[T.name]:new K(T);if(T.name){M[T.name]=S}return S});return this.each(P);function P(){var S=I(this),U,T=new L({el:S});U=H.map(Q,function(V){return V.initialize()});S.data(O,new D({input:S,eventBus:T=new L({el:S}),datasets:Q}));I.when.apply(I,U).always(function(){H.defer(function(){T.trigger("initialized")})})}},destroy:function(){return this.each(P);function P(){var Q=I(this),R=Q.data(O);if(R){R.destroy();Q.removeData(O)}}},setQuery:function(P){return this.each(Q);function Q(){var R=I(this).data(O);R&&R.setQuery(P)}}};jQuery.fn.typeahead=function(P){if(N[P]){return N[P].apply(this,[].slice.call(arguments,1))}else{return N.initialize.apply(this,arguments)}}})()})(window.jQuery);(function(B){var A=function(C){this.init("typeaheadjs",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);B.extend(A.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder");this.$input.typeahead(this.options.typeahead);if(B.fn.editableform.engine==="bs3"){if(this.$input.hasClass("input-sm")){this.$input.siblings("input.tt-hint").addClass("input-sm")}if(this.$input.hasClass("input-lg")){this.$input.siblings("input.tt-hint").addClass("input-lg")}}}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:true});B.fn.editabletypes.typeaheadjs=A}(window.jQuery));
/*
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jrn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(A){A.extend(A.fn,{validate:function(B){if(!this.length){if(B&&B.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var C=A.data(this[0],"validator");if(C){return C}this.attr("novalidate","novalidate");C=new A.validator(B,this[0]);A.data(this[0],"validator",C);if(C.settings.onsubmit){this.validateDelegate(":submit","click",function(D){if(C.settings.submitHandler){C.submitButton=D.target}if(A(D.target).hasClass("cancel")){C.cancelSubmit=true}if(A(D.target).attr("formnovalidate")!==undefined){C.cancelSubmit=true}});this.submit(function(E){if(C.settings.debug){E.preventDefault()}function D(){var F;if(C.settings.submitHandler){if(C.submitButton){F=A("<input type='hidden'/>").attr("name",C.submitButton.name).val(A(C.submitButton).val()).appendTo(C.currentForm)}C.settings.submitHandler.call(C,C.currentForm,E);if(C.submitButton){F.remove()}return false}return true}if(C.cancelSubmit){C.cancelSubmit=false;return D()}if(C.form()){if(C.pendingRequest){C.formSubmitted=true;return false}return D()}else{C.focusInvalid();return false}})}return C},valid:function(){if(A(this[0]).is("form")){return this.validate().form()}else{var B=true;var C=A(this[0].form).validate();this.each(function(){B=B&&C.element(this)});return B}},removeAttrs:function(B){var C={},D=this;A.each(B.split(/\s/),function(F,E){C[E]=D.attr(E);D.removeAttr(E)});return C},rules:function(G,F){var D=this[0];if(G){var C=A.data(D.form,"validator").settings;var H=C.rules;var B=A.validator.staticRules(D);switch(G){case"add":A.extend(B,A.validator.normalizeRule(F));delete B.messages;H[D.name]=B;if(F.messages){C.messages[D.name]=A.extend(C.messages[D.name],F.messages)}break;case"remove":if(!F){delete H[D.name];return B}var I={};A.each(F.split(/\s/),function(L,K){I[K]=B[K];delete B[K]});return I}}var E=A.validator.normalizeRules(A.extend({},A.validator.classRules(D),A.validator.attributeRules(D),A.validator.dataRules(D),A.validator.staticRules(D)),D);if(E.required){var J=E.required;delete E.required;E=A.extend({required:J},E)}return E}});A.extend(A.expr[":"],{blank:function(B){return !A.trim(""+A(B).val())},filled:function(B){return !!A.trim(""+A(B).val())},unchecked:function(B){return !A(B).prop("checked")}});A.validator=function(C,B){this.settings=A.extend(true,{},A.validator.defaults,C);this.currentForm=B;this.init()};A.validator.format=function(B,C){if(arguments.length===1){return function(){var D=A.makeArray(arguments);D.unshift(B);return A.validator.format.apply(this,D)}}if(arguments.length>2&&C.constructor!==Array){C=A.makeArray(arguments).slice(1)}if(C.constructor!==Array){C=[C]}A.each(C,function(D,E){B=B.replace(new RegExp("\\{"+D+"\\}","g"),function(){return E})});return B};A.extend(A.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:A([]),errorLabelContainer:A([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(C,B){this.lastActive=C;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,C,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(C)).hide()}},onfocusout:function(C,B){if(!this.checkable(C)&&(C.name in this.submitted||!this.optional(C))){this.element(C)}},onkeyup:function(C,B){if(B.which===9&&this.elementValue(C)===""){return}else{if(C.name in this.submitted||C===this.lastElement){this.element(C)}}},onclick:function(C,B){if(C.name in this.submitted){this.element(C)}else{if(C.parentNode.name in this.submitted){this.element(C.parentNode)}}},highlight:function(D,C,B){if(D.type==="radio"){this.findByName(D.name).addClass(C).removeClass(B)}else{A(D).addClass(C).removeClass(B)}},unhighlight:function(D,C,B){if(D.type==="radio"){this.findByName(D.name).removeClass(C).addClass(B)}else{A(D).removeClass(C).addClass(B)}}},setDefaults:function(B){A.extend(A.validator.defaults,B)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:A.validator.format("Please enter no more than {0} characters."),minlength:A.validator.format("Please enter at least {0} characters."),rangelength:A.validator.format("Please enter a value between {0} and {1} characters long."),range:A.validator.format("Please enter a value between {0} and {1}."),max:A.validator.format("Please enter a value less than or equal to {0}."),min:A.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=A(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||A(this.currentForm);this.containers=A(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var B=(this.groups={});A.each(this.settings.groups,function(E,F){if(typeof F==="string"){F=F.split(/\s/)}A.each(F,function(H,G){B[G]=E})});var C=this.settings.rules;A.each(C,function(E,F){C[E]=A.validator.normalizeRule(F)});function D(F){var G=A.data(this[0].form,"validator"),E="on"+F.type.replace(/^validate/,"");if(G.settings[E]){G.settings[E].call(G,this[0],F)}}A(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",D).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",D);if(this.settings.invalidHandler){A(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();A.extend(this.submitted,this.errorMap);this.invalid=A.extend({},this.errorMap);if(!this.valid()){A(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var B=0,C=(this.currentElements=this.elements());C[B];B++){this.check(C[B])}return this.valid()},element:function(C){C=this.validationTargetFor(this.clean(C));this.lastElement=C;this.prepareElement(C);this.currentElements=A(C);var B=this.check(C)!==false;if(B){delete this.invalid[C.name]}else{this.invalid[C.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return B},showErrors:function(B){if(B){A.extend(this.errorMap,B);this.errorList=[];for(var C in B){this.errorList.push({message:B[C],element:this.findByName(C)[0]})}this.successList=A.grep(this.successList,function(D){return !(D.name in B)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(A.fn.resetForm){A(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(D){var B=0;for(var C in D){B++}return B},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{A(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(B){}}},findLastActive:function(){var B=this.lastActive;return B&&A.grep(this.errorList,function(C){return C.element.name===B.name}).length===1&&B},elements:function(){var B=this,C={};return A(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&B.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in C||!B.objectLength(A(this).rules())){return false}C[this.name]=true;return true})},clean:function(B){return A(B)[0]},errors:function(){var B=this.settings.errorClass.replace(" ",".");return A(this.settings.errorElement+"."+B,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=A([]);this.toHide=A([]);this.currentElements=A([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(B){this.reset();this.toHide=this.errorsFor(B)},elementValue:function(D){var B=A(D).attr("type"),C=A(D).val();if(B==="radio"||B==="checkbox"){return A("input[name='"+A(D).attr("name")+"']:checked").val()}if(typeof C==="string"){return C.replace(/\r/g,"")}return C},check:function(C){C=this.validationTargetFor(this.clean(C));var E=A(C).rules();var H=false;var F=this.elementValue(C);var D;for(var I in E){var G={method:I,parameters:E[I]};try{D=A.validator.methods[I].call(this,F,C,G.parameters);if(D==="dependency-mismatch"){H=true;continue}H=false;if(D==="pending"){this.toHide=this.toHide.not(this.errorsFor(C));return}if(!D){this.formatAndAdd(C,G);return false}}catch(B){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+C.id+", check the '"+G.method+"' method.",B)}throw B}}if(H){return}if(this.objectLength(E)){this.successList.push(C)}return true},customDataMessage:function(C,B){return A(C).data("msg-"+B.toLowerCase())||(C.attributes&&A(C).attr("data-msg-"+B.toLowerCase()))},customMessage:function(B,C){var D=this.settings.messages[B];return D&&(D.constructor===String?D:D[C])},findDefined:function(){for(var B=0;B<arguments.length;B++){if(arguments[B]!==undefined){return arguments[B]}}return undefined},defaultMessage:function(C,B){return this.findDefined(this.customMessage(C.name,B),this.customDataMessage(C,B),!this.settings.ignoreTitle&&C.title||undefined,A.validator.messages[B],"<strong>Warning: No message defined for "+C.name+"</strong>")},formatAndAdd:function(D,B){var E=this.defaultMessage(D,B.method),C=/\$?\{(\d+)\}/g;if(typeof E==="function"){E=E.call(this,B.parameters,D)}else{if(C.test(E)){E=A.validator.format(E.replace(C,"{$1}"),B.parameters)}}this.errorList.push({message:E,element:D});this.errorMap[D.name]=E;this.submitted[D.name]=E},addWrapper:function(B){if(this.settings.wrapper){B=B.add(B.parent(this.settings.wrapper))}return B},defaultShowErrors:function(){var B,C;for(B=0;this.errorList[B];B++){var D=this.errorList[B];if(this.settings.highlight){this.settings.highlight.call(this,D.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(D.element,D.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(B=0;this.successList[B];B++){this.showLabel(this.successList[B])}}if(this.settings.unhighlight){for(B=0,C=this.validElements();C[B];B++){this.settings.unhighlight.call(this,C[B],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return A(this.errorList).map(function(){return this.element})},showLabel:function(C,D){var B=this.errorsFor(C);if(B.length){B.removeClass(this.settings.validClass).addClass(this.settings.errorClass);B.html(D)}else{B=A("<"+this.settings.errorElement+">").attr("for",this.idOrName(C)).addClass(this.settings.errorClass).html(D||"");if(this.settings.wrapper){B=B.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(B).length){if(this.settings.errorPlacement){this.settings.errorPlacement(B,A(C))}else{B.insertAfter(C)}}}if(!D&&this.settings.success){B.text("");if(typeof this.settings.success==="string"){B.addClass(this.settings.success)}else{this.settings.success(B,C)}}this.toShow=this.toShow.add(B)},errorsFor:function(C){var B=this.idOrName(C);return this.errors().filter(function(){return A(this).attr("for")===B})},idOrName:function(B){return this.groups[B.name]||(this.checkable(B)?B.name:B.id||B.name)},validationTargetFor:function(B){if(this.checkable(B)){B=this.findByName(B.name).not(this.settings.ignore)[0]}return B},checkable:function(B){return(/radio|checkbox/i).test(B.type)},findByName:function(B){return A(this.currentForm).find("[name='"+B+"']")},getLength:function(B,C){switch(C.nodeName.toLowerCase()){case"select":return A("option:selected",C).length;case"input":if(this.checkable(C)){return this.findByName(C.name).filter(":checked").length}}return B.length},depend:function(B,C){return this.dependTypes[typeof B]?this.dependTypes[typeof B](B,C):true},dependTypes:{"boolean":function(B,C){return B},"string":function(B,C){return !!A(B,C.form).length},"function":function(B,C){return B(C)}},optional:function(C){var B=this.elementValue(C);return !A.validator.methods.required.call(this,B,C)&&"dependency-mismatch"},startRequest:function(B){if(!this.pending[B.name]){this.pendingRequest++;this.pending[B.name]=true}},stopRequest:function(C,B){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[C.name];if(B&&this.pendingRequest===0&&this.formSubmitted&&this.form()){A(this.currentForm).submit();this.formSubmitted=false}else{if(!B&&this.pendingRequest===0&&this.formSubmitted){A(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(B){return A.data(B,"previousValue")||A.data(B,"previousValue",{old:null,valid:true,message:this.defaultMessage(B,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(B,C){if(B.constructor===String){this.classRuleSettings[B]=C}else{A.extend(this.classRuleSettings,B)}},classRules:function(C){var B={};var D=A(C).attr("class");if(D){A.each(D.split(" "),function(){if(this in A.validator.classRuleSettings){A.extend(B,A.validator.classRuleSettings[this])}})}return B},attributeRules:function(G){var C={};var B=A(G);var D=B[0].getAttribute("type");for(var E in A.validator.methods){var F;if(E==="required"){F=B.get(0).getAttribute(E);if(F===""){F=true}F=!!F}else{F=B.attr(E)}if(/min|max/.test(E)&&(D===null||/number|range|text/.test(D))){F=Number(F)}if(F){C[E]=F}else{if(D===E&&D!=="range"){C[E]=true}}}if(C.maxlength&&/-1|2147483647|524288/.test(C.maxlength)){delete C.maxlength}return C},dataRules:function(F){var D,E,C={},B=A(F);for(D in A.validator.methods){E=B.data("rule-"+D.toLowerCase());if(E!==undefined){C[D]=E}}return C},staticRules:function(D){var B={};var C=A.data(D.form,"validator");if(C.settings.rules){B=A.validator.normalizeRule(C.settings.rules[D.name])||{}}return B},normalizeRules:function(B,C){A.each(B,function(D,F){if(F===false){delete B[D];return}if(F.param||F.depends){var E=true;switch(typeof F.depends){case"string":E=!!A(F.depends,C.form).length;break;case"function":E=F.depends.call(C,C);break}if(E){B[D]=F.param!==undefined?F.param:true}else{delete B[D]}}});A.each(B,function(D,E){B[D]=A.isFunction(E)?E(C):E});A.each(["minlength","maxlength"],function(){if(B[this]){B[this]=Number(B[this])}});A.each(["rangelength","range"],function(){var D;if(B[this]){if(A.isArray(B[this])){B[this]=[Number(B[this][0]),Number(B[this][1])]}else{if(typeof B[this]==="string"){D=B[this].split(/[\s,]+/);B[this]=[Number(D[0]),Number(D[1])]}}}});if(A.validator.autoCreateRanges){if(B.min&&B.max){B.range=[B.min,B.max];delete B.min;delete B.max}if(B.minlength&&B.maxlength){B.rangelength=[B.minlength,B.maxlength];delete B.minlength;delete B.maxlength}}return B},normalizeRule:function(C){if(typeof C==="string"){var B={};A.each(C.split(/\s/),function(){B[this]=true});C=B}return C},addMethod:function(B,C,D){A.validator.methods[B]=C;A.validator.messages[B]=D!==undefined?D:A.validator.messages[B];if(C.length<3){A.validator.addClassRules(B,A.validator.normalizeRule(B))}},methods:{required:function(D,E,C){if(!this.depend(C,E)){return"dependency-mismatch"}if(E.nodeName.toLowerCase()==="select"){var B=A(E).val();return B&&B.length>0}if(this.checkable(E)){return this.getLength(D,E)>0}return A.trim(D).length>0},email:function(B,C){return this.optional(C)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(B)},url:function(B,C){return this.optional(C)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(B)},date:function(B,C){return this.optional(C)||!/Invalid|NaN/.test(new Date(B).toString())},dateISO:function(B,C){return this.optional(C)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(B)},number:function(B,C){return this.optional(C)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(B)},digits:function(B,C){return this.optional(C)||/^\d+$/.test(B)},creditcard:function(F,G){if(this.optional(G)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(F)){return false}var E=0,B=0,H=false;F=F.replace(/\D/g,"");for(var C=F.length-1;C>=0;C--){var D=F.charAt(C);B=parseInt(D,10);if(H){if((B*=2)>9){B-=9}}E+=B;H=!H}return(E%10)===0},minlength:function(D,E,C){var B=A.isArray(D)?D.length:this.getLength(A.trim(D),E);return this.optional(E)||B>=C},maxlength:function(D,E,C){var B=A.isArray(D)?D.length:this.getLength(A.trim(D),E);return this.optional(E)||B<=C},rangelength:function(D,E,C){var B=A.isArray(D)?D.length:this.getLength(A.trim(D),E);return this.optional(E)||(B>=C[0]&&B<=C[1])},min:function(C,D,B){return this.optional(D)||C>=B},max:function(C,D,B){return this.optional(D)||C<=B},range:function(C,D,B){return this.optional(D)||(C>=B[0]&&C<=B[1])},equalTo:function(D,E,B){var C=A(B);if(this.settings.onfocusout){C.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){A(E).valid()})}return D===C.val()},remote:function(D,E,B){if(this.optional(E)){return"dependency-mismatch"}var C=this.previousValue(E);if(!this.settings.messages[E.name]){this.settings.messages[E.name]={}}C.originalMessage=this.settings.messages[E.name].remote;this.settings.messages[E.name].remote=C.message;B=typeof B==="string"&&{url:B}||B;if(C.old===D){return C.valid}C.old=D;var F=this;this.startRequest(E);var G={};G[E.name]=D;A.ajax(A.extend(true,{url:B,mode:"abort",port:"validate"+E.name,dataType:"json",data:G,success:function(L){F.settings.messages[E.name].remote=C.originalMessage;var J=L===true||L==="true";if(J){var K=F.formSubmitted;F.prepareElement(E);F.formSubmitted=K;F.successList.push(E);delete F.invalid[E.name];F.showErrors()}else{var I={};var H=L||F.defaultMessage(E,"remote");I[E.name]=C.message=A.isFunction(H)?H(D):H;F.invalid[E.name]=true;F.showErrors(I)}C.valid=J;F.stopRequest(E,J)}},B));return"pending"}}});A.format=A.validator.format}(jQuery));(function(C){var A={};if(C.ajaxPrefilter){C.ajaxPrefilter(function(F,G,D){var E=F.port;if(F.mode==="abort"){if(A[E]){A[E].abort()}A[E]=D}})}else{var B=C.ajax;C.ajax=function(F){var E=("mode" in F?F:C.ajaxSettings).mode,D=("port" in F?F:C.ajaxSettings).port;if(E==="abort"){if(A[D]){A[D].abort()}A[D]=B.apply(this,arguments);return A[D]}return B.apply(this,arguments)}}}(jQuery));(function(A){A.extend(A.fn,{validateDelegate:function(D,B,C){return this.bind(B,function(E){var F=A(E.target);if(F.is(D)){return C.apply(F,arguments)}})}})}(jQuery));
/*
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jrn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(){function A(B){return B.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(B,C,D){return this.optional(C)||A(B).match(/\b\w+\b/g).length<=D},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(B,C,D){return this.optional(C)||A(B).match(/\b\w+\b/g).length>=D},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(D,E,F){var C=A(D);var B=/\b\w+\b/g;return this.optional(E)||C.match(B).length>=F[0]&&C.match(B).length<=F[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}());jQuery.validator.addMethod("letterswithbasicpunc",function(A,B){return this.optional(B)||/^[a-z\-.,()'"\s]+$/i.test(A)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(A,B){return this.optional(B)||/^\w+$/i.test(A)},"Letters, numbers, and underscores only please");jQuery.validator.addMethod("lettersonly",function(A,B){return this.optional(B)||/^[a-z]+$/i.test(A)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(A,B){return this.optional(B)||/^\S+$/i.test(A)},"No white space please");jQuery.validator.addMethod("ziprange",function(A,B){return this.optional(B)||/^90[2-5]\d\{2\}-\d{4}$/.test(A)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("zipcodeUS",function(A,B){return this.optional(B)||/\d{5}-\d{4}$|^\d{5}$/.test(A)},"The specified US ZIP Code is invalid");jQuery.validator.addMethod("integer",function(A,B){return this.optional(B)||/^-?\d+$/.test(A)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(B){if(B.length!==17){return false}var E,F,K,I,J,C;var H=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var G=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var A=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var D=0;for(E=0;E<17;E++){I=A[E];K=B.slice(E,E+1);if(E===8){C=K}if(!isNaN(K)){K*=I}else{for(F=0;F<H.length;F++){if(K.toUpperCase()===H[F]){K=G[F];K*=I;if(isNaN(C)&&F===8){C=H[F]}break}}}D+=K}J=D%11;if(J===10){J="X"}if(J===C){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(D,B){var H=false;var A=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(A.test(D)){var G=D.split("/");var I=parseInt(G[0],10);var C=parseInt(G[1],10);var F=parseInt(G[2],10);var E=new Date(F,C-1,I);if((E.getFullYear()===F)&&(E.getMonth()===C-1)&&(E.getDate()===I)){H=true}else{H=false}}else{H=false}return this.optional(B)||H},"Please enter a correct date");jQuery.validator.addMethod("iban",function(H,B){if(this.optional(B)){return true}if(!(/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(H))){return false}var C=H.replace(/ /g,"").toUpperCase();var F=C.substring(0,2);var K={"AL":"\\d{8}[\\dA-Z]{16}","AD":"\\d{8}[\\dA-Z]{12}","AT":"\\d{16}","AZ":"[\\dA-Z]{4}\\d{20}","BE":"\\d{12}","BH":"[A-Z]{4}[\\dA-Z]{14}","BA":"\\d{16}","BR":"\\d{23}[A-Z][\\dA-Z]","BG":"[A-Z]{4}\\d{6}[\\dA-Z]{8}","CR":"\\d{17}","HR":"\\d{17}","CY":"\\d{8}[\\dA-Z]{16}","CZ":"\\d{20}","DK":"\\d{14}","DO":"[A-Z]{4}\\d{20}","EE":"\\d{16}","FO":"\\d{14}","FI":"\\d{14}","FR":"\\d{10}[\\dA-Z]{11}\\d{2}","GE":"[\\dA-Z]{2}\\d{16}","DE":"\\d{18}","GI":"[A-Z]{4}[\\dA-Z]{15}","GR":"\\d{7}[\\dA-Z]{16}","GL":"\\d{14}","GT":"[\\dA-Z]{4}[\\dA-Z]{20}","HU":"\\d{24}","IS":"\\d{22}","IE":"[\\dA-Z]{4}\\d{14}","IL":"\\d{19}","IT":"[A-Z]\\d{10}[\\dA-Z]{12}","KZ":"\\d{3}[\\dA-Z]{13}","KW":"[A-Z]{4}[\\dA-Z]{22}","LV":"[A-Z]{4}[\\dA-Z]{13}","LB":"\\d{4}[\\dA-Z]{20}","LI":"\\d{5}[\\dA-Z]{12}","LT":"\\d{16}","LU":"\\d{3}[\\dA-Z]{13}","MK":"\\d{3}[\\dA-Z]{10}\\d{2}","MT":"[A-Z]{4}\\d{5}[\\dA-Z]{18}","MR":"\\d{23}","MU":"[A-Z]{4}\\d{19}[A-Z]{3}","MC":"\\d{10}[\\dA-Z]{11}\\d{2}","MD":"[\\dA-Z]{2}\\d{18}","ME":"\\d{18}","NL":"[A-Z]{4}\\d{10}","NO":"\\d{11}","PK":"[\\dA-Z]{4}\\d{16}","PS":"[\\dA-Z]{4}\\d{21}","PL":"\\d{24}","PT":"\\d{21}","RO":"[A-Z]{4}[\\dA-Z]{16}","SM":"[A-Z]\\d{10}[\\dA-Z]{12}","SA":"\\d{2}[\\dA-Z]{18}","RS":"\\d{18}","SK":"\\d{20}","SI":"\\d{15}","ES":"\\d{20}","SE":"\\d{20}","CH":"\\d{5}[\\dA-Z]{12}","TN":"\\d{20}","TR":"\\d{5}[\\dA-Z]{17}","AE":"\\d{3}\\d{16}","GB":"[A-Z]{4}\\d{14}","VG":"[\\dA-Z]{4}\\d{16}"};var G=K[F];if(typeof G!=="undefined"){var P=new RegExp("^[A-Z]{2}\\d{2}"+G+"$","");if(!(P.test(C))){return false}}var I=C.substring(4,C.length)+C.substring(0,4);var E="";var L=true;var M;for(var N=0;N<I.length;N++){M=I.charAt(N);if(M!=="0"){L=false}if(!L){E+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(M)}}var D="";var A="";for(var O=0;O<E.length;O++){var J=E.charAt(O);A=""+D+""+J;D=A%97}return D===1},"Please specify a valid IBAN");jQuery.validator.addMethod("dateNL",function(A,B){return this.optional(B)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(A)},"Please enter a correct date");jQuery.validator.addMethod("phoneNL",function(A,B){return this.optional(B)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(A)},"Please specify a valid phone number.");jQuery.validator.addMethod("mobileNL",function(A,B){return this.optional(B)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(A)},"Please specify a valid mobile number");jQuery.validator.addMethod("postalcodeNL",function(A,B){return this.optional(B)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(A)},"Please specify a valid postal code");jQuery.validator.addMethod("bankaccountNL",function(C,B){if(this.optional(B)){return true}if(!(/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(C))){return false}var F=C.replace(/ /g,"");var D=0;var H=F.length;for(var G=0;G<H;G++){var E=H-G;var A=F.substring(G,G+1);D=D+E*A}return D%11===0},"Please specify a valid bank account number");jQuery.validator.addMethod("giroaccountNL",function(A,B){return this.optional(B)||/^[0-9]{1,7}$/.test(A)},"Please specify a valid giro account number");jQuery.validator.addMethod("bankorgiroaccountNL",function(A,B){return this.optional(B)||($.validator.methods["bankaccountNL"].call(this,A,B))||($.validator.methods["giroaccountNL"].call(this,A,B))},"Please specify a valid bank or giro account number");jQuery.validator.addMethod("time",function(A,B){return this.optional(B)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(A)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(A,B){return this.optional(B)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(A)},"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("phoneUS",function(A,B){A=A.replace(/\s+/g,"");return this.optional(B)||A.length>9&&A.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(A,B){A=A.replace(/\(|\)|\s+|-/g,"");return this.optional(B)||A.length>9&&A.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(A,B){A=A.replace(/\(|\)|\s+|-/g,"");return this.optional(B)||A.length>9&&A.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("phonesUK",function(A,B){A=A.replace(/\(|\)|\s+|-/g,"");return this.optional(B)||A.length>9&&A.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");jQuery.validator.addMethod("postcodeUK",function(A,B){return this.optional(B)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(A)},"Please specify a valid UK postcode");jQuery.validator.addMethod("strippedminlength",function(B,C,A){return jQuery(B).text().length>=A},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(B,C,A){return this.optional(C)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(B)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(B,C,A){return this.optional(C)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(B)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(C,D,A){if(/[^0-9\-]+/.test(C)){return false}C=C.replace(/\D/g,"");var B=0;if(A.mastercard){B|=1}if(A.visa){B|=2}if(A.amex){B|=4}if(A.dinersclub){B|=8}if(A.enroute){B|=16}if(A.discover){B|=32}if(A.jcb){B|=64}if(A.unknown){B|=128}if(A.all){B=1|2|4|8|16|32|64|128}if(B&1&&/^(5[12345])/.test(C)){return C.length===16}if(B&2&&/^(4)/.test(C)){return C.length===16}if(B&4&&/^(3[47])/.test(C)){return C.length===15}if(B&8&&/^(3(0[012345]|[68]))/.test(C)){return C.length===14}if(B&16&&/^(2(014|149))/.test(C)){return C.length===15}if(B&32&&/^(6011)/.test(C)){return C.length===16}if(B&64&&/^(3)/.test(C)){return C.length===16}if(B&64&&/^(2131|1800)/.test(C)){return C.length===15}if(B&128){return true}return false},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(B,C,A){return this.optional(C)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(B)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(B,C,A){return this.optional(C)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(B)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(B,C,A){if(this.optional(C)){return true}if(typeof A==="string"){A=new RegExp("^(?:"+A+")$")}return A.test(B)},"Invalid format.");jQuery.validator.addMethod("require_from_group",function(D,E,C){var F=this;var B=C[1];var A=$(B,E.form).filter(function(){return F.elementValue(this)}).length>=C[0];if(!$(E).data("being_validated")){var G=$(B,E.form);G.data("being_validated",true);G.valid();$(E.form).valid();G.data("being_validated",false)}return A},jQuery.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",function(D,A,E){var I=this,C=E[0],G=E[1];var F=$(G,A.form).filter(function(){return I.elementValue(this)}).length;var B=F>=C||F===0;if(!$(A).data("being_validated")){var H=$(G,A.form);H.data("being_validated",true);H.valid();H.data("being_validated",false)}return B},jQuery.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("accept",function(E,F,D){var A=typeof D==="string"?D.replace(/\s/g,"").replace(/,/g,"|"):"image/*",C=this.optional(F),B,G;if(C){return C}if($(F).attr("type")==="file"){A=A.replace(/\*/g,".*");if(F.files&&F.files.length){for(B=0;B<F.files.length;B++){G=F.files[B];if(!G.type.match(new RegExp(".?("+A+")$","i"))){return false}}}}return true},jQuery.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("extension",function(B,C,A){A=typeof A==="string"?A.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(C)||B.match(new RegExp(".("+A+")$","i"))},jQuery.format("Please enter a value with a valid extension."));
/* DataTables 1.10.0-beta.2
 * 2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(A,B,C){(function(D){if(typeof define==="function"&&define.amd){define("datatables",["jquery"],D)}else{if(jQuery&&!jQuery.fn.dataTable){D(jQuery)}}}(function(H){var w;var K;var AT;var Ay;var AB;var q={};var Au=/[\r\n]/g;var z=/<.*?>/g;var AA=/^[\d\+\-a-zA-Z]/;var F=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var X=/[',$%\u2009\u202F]/g;var Ar=function(BK){return !BK||BK==="-"?true:false};var Z=function(BK){var BL=parseInt(BK,10);return !isNaN(BL)&&isFinite(BK)?BL:null};var W=function(BL,BK){if(!q[BK]){q[BK]=new RegExp(Bk(BK),"g")}return BL.replace(/\./g,"").replace(q[BK],".")};var Bo=function(BL,BK,BM){var BN=typeof BL==="string";if(BK&&BN){BL=W(BL,BK)}if(BM&&BN){BL=BL.replace(X,"")}return !BL||BL==="-"||(!isNaN(parseFloat(BL))&&isFinite(BL))};var Bi=function(BK){return !BK||typeof BK==="string"};var Aq=function(BL,BK,BN){if(Ar(BL)){return true}var BM=Bi(BL);return !BM?null:Bo(Bt(BL),BK,BN)?true:null};var h=function(BO,BM,BP){var BN=[];var BL=0,BK=BO.length;if(BP!==C){for(;BL<BK;BL++){if(BO[BL]&&BO[BL][BM]){BN.push(BO[BL][BM][BP])}}}else{for(;BL<BK;BL++){if(BO[BL]){BN.push(BO[BL][BM])}}}return BN};var Ao=function(BP,BM,BN,BQ){var BO=[];var BL=0,BK=BM.length;if(BQ!==C){for(;BL<BK;BL++){BO.push(BP[BM[BL]][BN][BQ])}}else{for(;BL<BK;BL++){BO.push(BP[BM[BL]][BN])}}return BO};var A0=function(BM,BO){var BL=[];var BN;if(BO===C){BO=0;BN=BM}else{BN=BO;BO=BM}for(var BK=BO;BK<BN;BK++){BL.push(BK)}return BL};var Bt=function(BK){return BK.replace(z,"")};var A5=function(BO){var BN=[],BM,BL,BK=BO.length,BP,BQ=0;again:for(BL=0;BL<BK;BL++){BM=BO[BL];for(BP=0;BP<BQ;BP++){if(BN[BP]===BM){continue again}}BN.push(BM);BQ++}return BN};function BI(BM){var BK="a aa ai ao as b fn i m o s ",BL,BO,BN={};H.each(BM,function(BP,BQ){BL=BP.match(/^([^A-Z]+?)([A-Z])/);if(BL&&BK.indexOf(BL[1]+" ")!==-1){BO=BP.replace(BL[0],BL[2].toLowerCase());BN[BO]=BP;if(BL[1]==="o"){BI(BM[BP])}}});BM._hungarianMap=BN}function AR(BM,BN,BL){if(!BM._hungarianMap){BI(BM)}var BK;H.each(BN,function(BO,BP){BK=BM._hungarianMap[BO];if(BK!==C&&(BL||BN[BK]===C)){BN[BK]=BN[BO];if(BK.charAt(0)==="o"){AR(BM[BK],BN[BO])}}})}function M(BK){var BN=w.defaults.oLanguage;var BL=BK.sZeroRecords;if(!BK.sEmptyTable&&BL&&BN.sEmptyTable==="No data available in table"){A8(BK,BK,"sZeroRecords","sEmptyTable")}if(!BK.sLoadingRecords&&BL&&BN.sLoadingRecords==="Loading..."){A8(BK,BK,"sZeroRecords","sLoadingRecords")}if(BK.sInfoThousands){BK.sThousands=BK.sInfoThousands}var BM=BK.sDecimal;if(BM){As(BM)}}var R=function(BK,BM,BL){if(BK[BM]!==C){BK[BL]=BK[BM]}};function Az(BK){R(BK,"ordering","bSort");R(BK,"orderMulti","bSortMulti");R(BK,"orderClasses","bSortClasses");R(BK,"orderCellsTop","bSortCellsTop");R(BK,"order","aaSorting");R(BK,"orderFixed","aaSortingFixed");R(BK,"paging","bPaginate");R(BK,"pagingType","sPaginationType");R(BK,"pageLength","iDisplayLength");R(BK,"searching","bFilter")}function Bn(BK){R(BK,"orderable","bSortable");R(BK,"orderData","aDataSort");R(BK,"orderSequence","asSorting");R(BK,"orderDataType","sortDataType")}function A2(BN){var BK=BN.oBrowser;var BL=H("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(H("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(H('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body");var BM=BL.find(".test");BK.bScrollOversize=BM[0].offsetWidth===100;BK.bScrollbarLeft=BM.offset().left!==1;BL.remove()}function AD(BM,BL){var BP=w.defaults.column;var BK=BM.aoColumns.length;var BN=H.extend({},w.models.oColumn,BP,{"sSortingClass":BM.oClasses.sSortable,"sSortingClassJUI":BM.oClasses.sSortJUI,"nTh":BL?BL:B.createElement("th"),"sTitle":BP.sTitle?BP.sTitle:BL?BL.innerHTML:"","aDataSort":BP.aDataSort?BP.aDataSort:[BK],"mData":BP.mData?BP.mData:BK,idx:BK});BM.aoColumns.push(BN);if(BM.aoPreSearchCols[BK]===C||BM.aoPreSearchCols[BK]===null){BM.aoPreSearchCols[BK]=H.extend(true,{},w.models.oSearch)}else{var BO=BM.aoPreSearchCols[BK];if(BO.bRegex===C){BO.bRegex=true}if(BO.bSmart===C){BO.bSmart=true}if(BO.bCaseInsensitive===C){BO.bCaseInsensitive=true}}AL(BM,BK,null)}function AL(BR,BK,BV){var BM=BR.aoColumns[BK];var BN=BR.oClasses;if(!BM.sWidthOrig){var BW=H(BM.nTh);BM.sWidthOrig=BW.attr("width")||null;var BO=(BW.attr("style")||"").match(/width:\s*(\d+[pxem%])/);if(BO){BM.sWidthOrig=BO[1]}}if(BV!==C&&BV!==null){Bn(BV);AR(w.defaults.column,BV);if(BV.mDataProp!==C&&!BV.mData){BV.mData=BV.mDataProp}BM._sManualType=BV.sType;if(BV.className&&!BV.sClass){BV.sClass=BV.className}H.extend(BM,BV);A8(BM,BV,"sWidth","sWidthOrig");if(typeof BV.iDataSort==="number"){BM.aDataSort=[BV.iDataSort]}A8(BM,BV,"aDataSort")}var BU=BM.mData;var BT=Bc(BU);var BL=BM.mRender?Bc(BM.mRender):null;var BP=function(BX){return typeof BX==="string"&&BX.indexOf("@")!==-1};BM._bAttrSrc=H.isPlainObject(BU)&&(BP(BU.sort)||BP(BU.type)||BP(BU.filter));BM.fnGetData=function(BZ,BX){var BY=BT(BZ,BX);if(BM.mRender&&(BX&&BX!=="")){return BL(BY,BX,BZ)}return BY};BM.fnSetData=Bl(BU);if(!BR.oFeatures.bSort){BM.bSortable=false}var BS=H.inArray("asc",BM.asSorting)!==-1;var BQ=H.inArray("desc",BM.asSorting)!==-1;if(!BM.bSortable||(!BS&&!BQ)){BM.sSortingClass=BN.sSortableNone;BM.sSortingClassJUI=""}else{if(BS&&!BQ){BM.sSortingClass=BN.sSortableAsc;BM.sSortingClassJUI=BN.sSortJUIAscAllowed}else{if(!BS&&BQ){BM.sSortingClass=BN.sSortableDesc;BM.sSortingClassJUI=BN.sSortJUIDescAllowed}}}}function Y(BL){if(BL.oFeatures.bAutoWidth!==false){var BO=BL.aoColumns;Al(BL);for(var BK=0,BN=BO.length;BK<BN;BK++){BO[BK].nTh.style.width=BO[BK].sWidth}}var BM=BL.oScroll;if(BM.sY!==""||BM.sX!==""){AY(BL)}BD(BL,null,"column-sizing",[BL])}function Bf(BL,BM){var BK=S(BL,"bVisible");return typeof BK[BM]==="number"?BK[BM]:null}function Aw(BM,BN){var BL=S(BM,"bVisible");var BK=H.inArray(BN,BL);return BK!==-1?BK:null}function Ad(BK){return S(BK,"bVisible").length}function S(BL,BK){var BM=[];H.map(BL.aoColumns,function(BO,BN){if(BO[BK]){BM.push(BN)}});return BM}function r(BL){var BP=BL.aoColumns;var BN=BL.aoData;var BS=w.ext.type.detect;var BT,BK,BQ,BM,BR,BV;var BX,BU,BO,BW;for(BT=0,BK=BP.length;BT<BK;BT++){BX=BP[BT];BW=[];if(!BX.sType&&BX._sManualType){BX.sType=BX._sManualType}else{if(!BX.sType){for(BQ=0,BM=BS.length;BQ<BM;BQ++){for(BR=0,BV=BN.length;BR<BV;BR++){if(BW[BR]===C){BW[BR]=U(BL,BR,BT,"type")}BO=BS[BQ](BW[BR],BL);if(!BO||BO==="html"){break}}if(BO){BX.sType=BO;break}}if(!BX.sType){BX.sType="string"}}}}}function Q(BR,BL,BN,BS){var BQ,BK,BO,BM,BP,BT,BU;if(BL){for(BQ=BL.length-1;BQ>=0;BQ--){BU=BL[BQ];var BV=BU.targets!==C?BU.targets:BU.aTargets;if(!H.isArray(BV)){BV=[BV]}for(BO=0,BM=BV.length;BO<BM;BO++){if(typeof BV[BO]==="number"&&BV[BO]>=0){while(BR.aoColumns.length<=BV[BO]){AD(BR)}BS(BV[BO],BU)}else{if(typeof BV[BO]==="number"&&BV[BO]<0){BS(BR.aoColumns.length+BV[BO],BU)}else{if(typeof BV[BO]==="string"){for(BP=0,BT=BR.aoColumns.length;BP<BT;BP++){if(BV[BO]=="_all"||H(BR.aoColumns[BP].nTh).hasClass(BV[BO])){BS(BP,BU)}}}}}}}}if(BN){for(BQ=0,BK=BN.length;BQ<BK;BQ++){BS(BQ,BN[BQ])}}}function BC(BQ,BM,BT,BN){var BU=BQ.aoData.length;var BS=H.extend(true,{},w.models.oRow,{src:BT?"dom":"data"});BS._aData=BM;BQ.aoData.push(BS);var BL,BR;var BO=BQ.aoColumns;for(var BP=0,BK=BO.length;BP<BK;BP++){if(BT){N(BQ,BU,BP,U(BQ,BU,BP))}BO[BP].sType=null}BQ.aiDisplayMaster.push(BU);if(!BQ.oFeatures.bDeferRender){Bz(BQ,BU,BT,BN)}return BU}function A3(BM,BL){var BK;if(!(BL instanceof H)){BL=H(BL)}return BL.map(function(BO,BN){BK=BB(BM,BN);return BC(BM,BK.data,BN,BK.cells)})}function Bs(BL,BK){return(BK._DT_RowIndex!==C)?BK._DT_RowIndex:null}function Bd(BM,BL,BK){return H.inArray(BK,BM.aoData[BL].anCells)}function BJ(BN,BM,BQ,BL){var BO=[];for(var BK=0,BP=BL.length;BK<BP;BK++){BO.push(U(BN,BM,BL[BK],BQ))}return BO}function U(BN,BM,BK,BQ){var BO=BN.aoColumns[BK];var BP=BN.aoData[BM]._aData;var BL=BO.fnGetData(BP,BQ);if(BL===C){if(BN.iDrawError!=BN.iDraw&&BO.sDefaultContent===null){v(BN,0,"Requested unknown parameter "+(typeof BO.mData=="function"?"{function}":"'"+BO.mData+"'")+" for row "+BM,4);BN.iDrawError=BN.iDraw}return BO.sDefaultContent}if((BL===BP||BL===null)&&BO.sDefaultContent!==null){BL=BO.sDefaultContent}else{if(typeof BL==="function"){return BL()}}if(BL===null&&BQ=="display"){return""}return BL}function N(BM,BL,BK,BO){var BN=BM.aoColumns[BK];var BP=BM.aoData[BL]._aData;BN.fnSetData(BP,BO)}var Bw=/\[.*?\]$/;var y=/\(\)$/;function Bq(BK){return H.map(BK.match(/(\\.|[^\.])+/g),function(BL){return BL.replace("\\.",".")})}function Bc(BM){if(H.isPlainObject(BM)){var BK={};H.each(BM,function(BN,BO){if(BO){BK[BN]=Bc(BO)}});return function(BP,BN,BO){return BK[BK[BN]!==C?BN:"_"](BP,BN,BO)}}else{if(BM===null){return function(BO,BN){return BO}}else{if(typeof BM==="function"){return function(BP,BN,BO){return BM(BP,BN,BO)}}else{if(typeof BM==="string"&&(BM.indexOf(".")!==-1||BM.indexOf("[")!==-1||BM.indexOf("(")!==-1)){var BL=function(BR,BX,BQ){var BZ,BU,BO,BT;if(BQ!==""){var BY=Bq(BQ);for(var BV=0,BN=BY.length;BV<BN;BV++){BZ=BY[BV].match(Bw);BU=BY[BV].match(y);if(BZ){BY[BV]=BY[BV].replace(Bw,"");if(BY[BV]!==""){BR=BR[BY[BV]]}BO=[];BY.splice(0,BV+1);BT=BY.join(".");for(var BS=0,BP=BR.length;BS<BP;BS++){BO.push(BL(BR[BS],BX,BT))}var BW=BZ[0].substring(1,BZ[0].length-1);BR=(BW==="")?BO:BO.join(BW);break}else{if(BU){BY[BV]=BY[BV].replace(y,"");BR=BR[BY[BV]]();continue}}if(BR===null||BR[BY[BV]]===C){return C}BR=BR[BY[BV]]}}return BR};return function(BO,BN){return BL(BO,BN,BM)}}else{return function(BO,BN){return BO[BM]}}}}}}function Bl(BL){if(H.isPlainObject(BL)){return Bl(BL._)}else{if(BL===null){return function(BN,BM){}}else{if(typeof BL==="function"){return function(BN,BM){BL(BN,"set",BM)}}else{if(typeof BL==="string"&&(BL.indexOf(".")!==-1||BL.indexOf("[")!==-1||BL.indexOf("(")!==-1)){var BK=function(BP,BT,BO){var BY=Bq(BO),BW;var BQ=BY[BY.length-1];var BZ,BX,BU,BS;for(var BV=0,BM=BY.length-1;BV<BM;BV++){BZ=BY[BV].match(Bw);BX=BY[BV].match(y);if(BZ){BY[BV]=BY[BV].replace(Bw,"");BP[BY[BV]]=[];BW=BY.slice();BW.splice(0,BV+1);BS=BW.join(".");for(var BR=0,BN=BT.length;BR<BN;BR++){BU={};BK(BU,BT[BR],BS);BP[BY[BV]].push(BU)}return}else{if(BX){BY[BV]=BY[BV].replace(y,"");BP=BP[BY[BV]](BT)}}if(BP[BY[BV]]===null||BP[BY[BV]]===C){BP[BY[BV]]={}}BP=BP[BY[BV]]}if(BQ.match(y)){BP=BP[BQ.replace(y,"")](BT)}else{BP[BQ.replace(Bw,"")]=BT}};return function(BN,BM){return BK(BN,BM,BL)}}else{return function(BN,BM){BN[BL]=BM}}}}}}function s(BK){return h(BK.aoData,"_aData")}function V(BK){BK.aoData.length=0;BK.aiDisplayMaster.length=0;BK.aiDisplay.length=0}function Bh(BP,BK,BN){var BL=-1;for(var BM=0,BO=BP.length;BM<BO;BM++){if(BP[BM]==BK){BL=BM}else{if(BP[BM]>BK){BP[BM]--}}}if(BL!=-1&&BN===C){BP.splice(BL,1)}}function G(BL,BS,BM,BN){var BQ=BL.aoData[BS];var BP,BK;if(BM==="dom"||((!BM||BM==="auto")&&BQ.src==="dom")){BQ._aData=BB(BL,BQ.nTr).data}else{var BR=BQ.anCells;for(BP=0,BK=BR.length;BP<BK;BP++){BR[BP].innerHTML=U(BL,BS,BP,"display")}}BQ._aSortData=null;BQ._aFilterData=null;var BO=BL.aoColumns;if(BN!==C){BO[BN].sType=null}else{for(BP=0,BK=BO.length;BP<BK;BP++){BO[BP].sType=null}}AV(BQ)}function BB(BL,BS){var BO=[],BV=[],BQ=BS.firstChild,BM,BK,BT,BR=0,BN,BU=BL.aoColumns;var BP=function(BX,B0,BW){if(typeof BX==="string"){var BY=BX.indexOf("@");if(BY!==-1){var BZ=BX.substring(BY+1);BT["@"+BZ]=BW.getAttribute(BZ)}}};while(BQ){BM=BQ.nodeName.toUpperCase();if(BM=="TD"||BM=="TH"){BK=BU[BR];BN=H.trim(BQ.innerHTML);if(BK&&BK._bAttrSrc){BT={display:BN};BP(BK.mData.sort,BT,BQ);BP(BK.mData.type,BT,BQ);BP(BK.mData.filter,BT,BQ);BO.push(BT)}else{BO.push(BN)}BV.push(BQ);BR++}BQ=BQ.nextSibling}return{data:BO,cells:BV}}function Bz(BT,BV,BM,BO){var BR=BT.aoData[BV],BP=BR._aData,BU=[],BS,BL,BN,BQ,BK;if(BR.nTr===null){BS=BM||B.createElement("tr");BR.nTr=BS;BR.anCells=BU;BS._DT_RowIndex=BV;AV(BR);for(BQ=0,BK=BT.aoColumns.length;BQ<BK;BQ++){BN=BT.aoColumns[BQ];BL=BM?BO[BQ]:B.createElement(BN.sCellType);BU.push(BL);if(!BM||BN.mRender||BN.mData!==BQ){BL.innerHTML=U(BT,BV,BQ,"display")}if(BN.sClass){BL.className+=" "+BN.sClass}if(BN.bVisible&&!BM){BS.appendChild(BL)}else{if(!BN.bVisible&&BM){BL.parentNode.removeChild(BL)}}if(BN.fnCreatedCell){BN.fnCreatedCell.call(BT.oInstance,BL,U(BT,BV,BQ,"display"),BP,BV,BQ)}}BD(BT,"aoRowCreatedCallback",null,[BS,BP,BV])}}function AV(BL){var BK=BL.nTr;var BN=BL._aData;if(BK){if(BN.DT_RowId){BK.id=BN.DT_RowId}if(BN.DT_RowClass){var BM=BN.DT_RowClass.split(" ");BL.__rowc=BL.__rowc?A5(BL.__rowc.concat(BM)):BM;H(BK).removeClass(BL.__rowc.join(" ")).addClass(BN.DT_RowClass)}if(BN.DT_RowData){H(BK).data(BN.DT_RowData)}}}function Ax(BR){var BQ,BK,BV,BU,BM;var BL=BR.nTHead;var BN=BR.nTFoot;var BP=H("th, td",BL).length===0;var BO=BR.oClasses;var BT=BR.aoColumns;if(BP){BU=H("<tr/>").appendTo(BL)}for(BQ=0,BK=BT.length;BQ<BK;BQ++){BM=BT[BQ];BV=H(BM.nTh).addClass(BM.sClass);if(BP){BV.appendTo(BU)}if(BR.oFeatures.bSort){BV.addClass(BM.sSortingClass);if(BM.bSortable!==false){BV.attr("tabindex",BR.iTabIndex).attr("aria-controls",BR.sTableId);AM(BR,BM.nTh,BQ)}}if(BM.sTitle!=BV.html()){BV.html(BM.sTitle)}n(BR,"header")(BR,BV,BM,BO)}if(BP){d(BR.aoHeader,BL)}H(BL).find(">tr").attr("role","row");H(BL).find(">tr>th, >tr>td").addClass(BO.sHeaderTH);H(BN).find(">tr>th, >tr>td").addClass(BO.sFooterTH);if(BN!==null){var BS=BR.aoFooter[0];for(BQ=0,BK=BS.length;BQ<BK;BQ++){BM=BT[BQ];BM.nTf=BS[BQ].cell;if(BM.sClass){H(BM.nTf).addClass(BM.sClass)}}}}function o(BR,BZ,BL){var BQ,BK,BO,BM,BP,BS,BU,BV;var BN=[];var BY=[];var BT=BR.aoColumns.length;var BX,BW;if(!BZ){return}if(BL===C){BL=false}for(BQ=0,BK=BZ.length;BQ<BK;BQ++){BN[BQ]=BZ[BQ].slice();BN[BQ].nTr=BZ[BQ].nTr;for(BO=BT-1;BO>=0;BO--){if(!BR.aoColumns[BO].bVisible&&!BL){BN[BQ].splice(BO,1)}}BY.push([])}for(BQ=0,BK=BN.length;BQ<BK;BQ++){BV=BN[BQ].nTr;if(BV){while((BU=BV.firstChild)){BV.removeChild(BU)}}for(BO=0,BM=BN[BQ].length;BO<BM;BO++){BX=1;BW=1;if(BY[BQ][BO]===C){BV.appendChild(BN[BQ][BO].cell);BY[BQ][BO]=1;while(BN[BQ+BX]!==C&&BN[BQ][BO].cell==BN[BQ+BX][BO].cell){BY[BQ+BX][BO]=1;BX++}while(BN[BQ][BO+BW]!==C&&BN[BQ][BO].cell==BN[BQ][BO+BW].cell){for(BP=0;BP<BX;BP++){BY[BQ+BP][BO+BW]=1}BW++}H(BN[BQ][BO].cell).attr("rowspan",BX).attr("colspan",BW)}}}}function BG(BN){var BY=BD(BN,"aoPreDrawCallback","preDraw",[BN]);if(H.inArray(false,BY)!==-1){j(BN,false);return}var BP,BM,BQ;var BW=[];var B3=0;var BZ=BN.asStripeClasses;var BO=BZ.length;var B6=BN.aoOpenRows.length;var B0=BN.oLanguage;var BX=BN.iInitDisplayStart;var BS=Aj(BN)=="ssp";var BV=BN.aiDisplay;BN.bDrawing=true;if(BX!==C&&BX!==-1){BN._iDisplayStart=BS?BX:BX>=BN.fnRecordsDisplay()?0:BX;BN.iInitDisplayStart=-1}var B8=BN._iDisplayStart;var B7=BN.fnDisplayEnd();if(BN.bDeferLoading){BN.bDeferLoading=false;BN.iDraw++;j(BN,false)}else{if(!BS){BN.iDraw++}else{if(!BN.bDestroying&&!i(BN)){return}}}if(BV.length!==0){var BK=BS?0:B8;var B5=BS?BN.aoData.length:B7;for(var B4=BK;B4<B5;B4++){var BT=BV[B4];var BL=BN.aoData[BT];if(BL.nTr===null){Bz(BN,BT)}var B2=BL.nTr;if(BO!==0){var BR=BZ[B3%BO];if(BL._sRowStripe!=BR){H(B2).removeClass(BL._sRowStripe).addClass(BR);BL._sRowStripe=BR}}BD(BN,"aoRowCallback",null,[B2,BL._aData,B3,B4]);BW.push(B2);B3++}}else{var B1=B0.sZeroRecords;if(BN.iDraw==1&&Aj(BN)=="ajax"){B1=B0.sLoadingRecords}else{if(B0.sEmptyTable&&BN.fnRecordsTotal()===0){B1=B0.sEmptyTable}}BW[0]=H("<tr/>",{"class":BO?BZ[0]:""}).append(H("<td />",{"valign":"top","colSpan":Ad(BN),"class":BN.oClasses.sRowEmpty}).html(B1))[0]}BD(BN,"aoHeaderCallback","header",[H(BN.nTHead).children("tr")[0],s(BN),B8,B7,BV]);BD(BN,"aoFooterCallback","footer",[H(BN.nTFoot).children("tr")[0],s(BN),B8,B7,BV]);var BU=H(BN.nTBody);BU.children().detach();BU.append(H(BW));BD(BN,"aoDrawCallback","draw",[BN]);BN.bSorted=false;BN.bFiltered=false;BN.bDrawing=false}function Bu(BN,BM){var BK=BN.oFeatures,BL=BK.bSort,BO=BK.bFilter;if(BL){f(BN)}if(BO){AZ(BN,BN.oPreviousSearch)}else{BN.aiDisplay=BN.aiDisplayMaster.slice()}if(BM!==true){BN._iDisplayStart=0}BG(BN)}function AE(BL){var B1=BL.oClasses;var BN=H(BL.nTable);var BT=H("<div/>").insertBefore(BN);var BY=BL.oFeatures;var BU=H("<div/>",{role:"grid",id:BL.sTableId+"_wrapper","class":B1.sWrapper+(BL.nTFoot?"":" "+B1.sNoFooter)});BL.nTableWrapper=BU[0];BL.nTableReinsertBefore=BL.nTable.nextSibling;var BQ=BL.sDom.split("");var BX,BW,BP,BR,B0,BS;for(var BO=0;BO<BQ.length;BO++){BX=null;BW=BQ[BO];if(BW=="<"){BP=H("<div/>")[0];BR=BQ[BO+1];if(BR=="'"||BR=='"'){B0="";BS=2;while(BQ[BO+BS]!=BR){B0+=BQ[BO+BS];BS++}if(B0=="H"){B0=B1.sJUIHeader}else{if(B0=="F"){B0=B1.sJUIFooter}}if(B0.indexOf(".")!=-1){var BK=B0.split(".");BP.id=BK[0].substr(1,BK[0].length-1);BP.className=BK[1]}else{if(B0.charAt(0)=="#"){BP.id=B0.substr(1,B0.length-1)}else{BP.className=B0}}BO+=BS}BU.append(BP);BU=H(BP)}else{if(BW==">"){BU=BU.parent()}else{if(BW=="l"&&BY.bPaginate&&BY.bLengthChange){BX=I(BL)}else{if(BW=="f"&&BY.bFilter){BX=AQ(BL)}else{if(BW=="r"&&BY.bProcessing){BX=By(BL)}else{if(BW=="t"){BX=AS(BL)}else{if(BW=="i"&&BY.bInfo){BX=L(BL)}else{if(BW=="p"&&BY.bPaginate){BX=At(BL)}else{if(w.ext.feature.length!==0){var BZ=w.ext.feature;for(var BM=0,B2=BZ.length;BM<B2;BM++){if(BW==BZ[BM].cFeature){BX=BZ[BM].fnInit(BL);break}}}}}}}}}}}if(BX){var BV=BL.aanFeatures;if(!BV[BW]){BV[BW]=[]}BV[BW].push(BX);BU.append(BX)}}BT.replaceWith(BU)}function d(BK,BU){var BY=H(BU).children("tr");var BT,BN;var BQ,BP,BV,BO,BL,BM,BR,BZ,BX;var BW;var BS=function(B2,B1,B3){var B0=B2[B1];while(B0[B3]){B3++}return B3};BK.splice(0,BK.length);for(BQ=0,BO=BY.length;BQ<BO;BQ++){BK.push([])}for(BQ=0,BO=BY.length;BQ<BO;BQ++){BT=BY[BQ];BR=0;BN=BT.firstChild;while(BN){if(BN.nodeName.toUpperCase()=="TD"||BN.nodeName.toUpperCase()=="TH"){BZ=BN.getAttribute("colspan")*1;BX=BN.getAttribute("rowspan")*1;BZ=(!BZ||BZ===0||BZ===1)?1:BZ;BX=(!BX||BX===0||BX===1)?1:BX;BM=BS(BK,BQ,BR);BW=BZ===1?true:false;for(BV=0;BV<BZ;BV++){for(BP=0;BP<BX;BP++){BK[BQ+BP][BM+BV]={"cell":BN,"unique":BW};BK[BQ+BP].nTr=BT}}}BN=BN.nextSibling}}}function Af(BQ,BR,BK){var BO=[];if(!BK){BK=BQ.aoHeader;if(BR){BK=[];d(BK,BR)}}for(var BP=0,BM=BK.length;BP<BM;BP++){for(var BN=0,BL=BK[BP].length;BN<BL;BN++){if(BK[BP][BN].unique&&(!BO[BN]||!BQ.bSortCellsTop)){BO[BN]=BK[BP][BN].cell}}}return BO}function AF(BO,BK,BP){BD(BO,"aoServerParams","serverParams",[BK]);if(BK&&BK.__legacy){var BM={};var BT=/(.*?)\[\]$/;H.each(BK,function(BU,BX){var BV=BX.name.match(BT);if(BV){var BW=BV[0];if(!BM[BW]){BM[BW]=[]}BM[BW].push(BX.value)}else{BM[BX.name]=BX.value}});BK=BM}var BL;var BS=BO.ajax;var BN=BO.oInstance;if(H.isPlainObject(BS)&&BS.data){BL=BS.data;var BQ=H.isFunction(BL)?BL(BK):BL;BK=H.isFunction(BL)&&BQ?BQ:H.extend(true,BK,BQ);delete BS.data}var BR={"data":BK,"success":function(BU){var BV=BU.error||BU.sError;if(BV){BO.oApi._fnLog(BO,0,BV)}BO.json=BU;BD(BO,null,"xhr",[BO,BU]);BP(BU)},"dataType":"json","cache":false,"type":BO.sServerMethod,"error":function(BW,BX,BU){var BV=BO.oApi._fnLog;if(BX=="parsererror"){BV(BO,0,"Invalid JSON response",1)}else{BV(BO,0,"Ajax error",7)}}};if(BO.fnServerData){BO.fnServerData.call(BN,BO.sAjaxSource,BK,BP,BO)}else{if(BO.sAjaxSource||typeof BS==="string"){BO.jqXHR=H.ajax(H.extend(BR,{url:BS||BO.sAjaxSource}))}else{if(H.isFunction(BS)){BO.jqXHR=BS.call(BN,BK,BP,BO)}else{BO.jqXHR=H.ajax(H.extend(BR,BS));BS.data=BL}}}}function i(BM){if(BM.bAjaxDataGet){BM.iDraw++;j(BM,true);var BL=BM.aoColumns.length;var BK=AX(BM);AF(BM,BK,function(BN){b(BM,BN)},BM);return false}return true}function AX(BU){var BT=BU.aoColumns,BP=BT.length,BX=BU.oFeatures,B0=BU.oPreviousSearch,BN=BU.aoPreSearchCols,BM,BR=[],BK,BV,BL,BO=O(BU),BZ=BU._iDisplayStart,BQ=BX.bPaginate!==false?BU._iDisplayLength:-1;var BW=function(B1,B2){BR.push({"name":B1,"value":B2})};BW("sEcho",BU.iDraw);BW("iColumns",BP);BW("sColumns",h(BT,"sName").join(","));BW("iDisplayStart",BZ);BW("iDisplayLength",BQ);var BS={draw:BU.iDraw,columns:[],order:[],start:BZ,length:BQ,search:{value:B0.sSearch,regex:B0.bRegex}};for(BM=0;BM<BP;BM++){BV=BT[BM];BL=BN[BM];BK=typeof BV.mData=="function"?"function":BV.mData;BS.columns.push({data:BK,name:BV.sName,searchable:BV.bSearchable,orderable:BV.bSortable,search:{value:BL.sSearch,regex:BL.bRegex}});BW("mDataProp_"+BM,BK);if(BX.bFilter){BW("sSearch_"+BM,BL.sSearch);BW("bRegex_"+BM,BL.bRegex);BW("bSearchable_"+BM,BV.bSearchable)}if(BX.bSort){BW("bSortable_"+BM,BV.bSortable)}}H.each(BO,function(B1,B2){BS.order.push({column:B2.col,dir:B2.dir});BW("iSortCol_"+B1,B2.col);BW("sSortDir_"+B1,B2.dir)});if(BX.bFilter){BW("sSearch",B0.sSearch);BW("bRegex",B0.bRegex)}if(BX.bSort){BW("iSortingCols",BO.length)}BR.__legacy=true;var BY=w.ext.legacy.ajax;if(BY===null){return BU.sAjaxSource?BR:BS}return BY?BR:BS}function b(BL,BO){var BQ=function(BT,BU){return BO[BT]!==C?BO[BT]:BO[BU]};var BS=BQ("sEcho","draw");var BM=BQ("iTotalRecords","recordsTotal");var BR=BQ("iTotalDisplayRecords","recordsFiltered");if(BS){if(BS*1<BL.iDraw){return}BL.iDraw=BS*1}V(BL);BL._iRecordsTotal=parseInt(BM,10);BL._iRecordsDisplay=parseInt(BR,10);var BN=D(BL,BO);for(var BP=0,BK=BN.length;BP<BK;BP++){BC(BL,BN[BP])}BL.aiDisplay=BL.aiDisplayMaster.slice();BL.bAjaxDataGet=false;BG(BL);if(!BL._bInitComplete){AW(BL,BO)}BL.bAjaxDataGet=true;j(BL,false)}function D(BK,BL){var BM=H.isPlainObject(BK.ajax)&&BK.ajax.dataSrc!==C?BK.ajax.dataSrc:BK.sAjaxDataProp;if(BM==="data"){return BL.aaData||BL[BM]}return BM!==""?Bc(BM)(BL):BL}function AQ(BK){var BN=BK.oClasses;var BL=BK.sTableId;var BT=BK.oPreviousSearch;var BM=BK.aanFeatures;var BS='<input type="search" class="'+BN.sFilterInput+'"/>';var BO=BK.oLanguage.sSearch;BO=BO.match(/_INPUT_/)?BO.replace("_INPUT_",BS):BO+BS;var BR=H("<div/>",{"id":!BM.f?BL+"_filter":null,"class":BN.sFilter}).append(H("<label/>").append(BO));var BQ=function(){var BU=BM.f;var BV=!this.value?"":this.value;if(BV!=BT.sSearch){AZ(BK,{"sSearch":BV,"bRegex":BT.bRegex,"bSmart":BT.bSmart,"bCaseInsensitive":BT.bCaseInsensitive});BK._iDisplayStart=0;BG(BK)}};var BP=H('input[type="search"]',BR).val(BT.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT",Aj(BK)==="ssp"?A6(BQ,400):BQ).bind("keypress.DT",function(BU){if(BU.keyCode==13){return false}}).attr("aria-controls",BL);H(BK.nTable).on("filter.DT",function(){try{if(BP[0]!==B.activeElement){BP.val(BT.sSearch)}}catch(BU){}});return BR[0]}function AZ(BO,BN,BL){var BP=BO.oPreviousSearch;var BK=BO.aoPreSearchCols;var BQ=function(BR){BP.sSearch=BR.sSearch;BP.bRegex=BR.bRegex;BP.bSmart=BR.bSmart;BP.bCaseInsensitive=BR.bCaseInsensitive};r(BO);if(Aj(BO)!="ssp"){u(BO,BN.sSearch,BL,BN.bRegex,BN.bSmart,BN.bCaseInsensitive);BQ(BN);for(var BM=0;BM<BK.length;BM++){BA(BO,BK[BM].sSearch,BM,BK[BM].bRegex,BK[BM].bSmart,BK[BM].bCaseInsensitive)}J(BO)}else{BQ(BN)}BO.bFiltered=true;BD(BO,null,"search",[BO])}function J(BQ){var BP=w.ext.search;var BL=S(BQ,"bSearchable");for(var BR=0,BK=BP.length;BR<BK;BR++){var BM=0;for(var BO=0,BN=BQ.aiDisplay.length;BO<BN;BO++){var BS=BQ.aiDisplay[BO-BM];var BT=BP[BR](BQ,BJ(BQ,BS,"filter",BL),BS);if(!BT){BQ.aiDisplay.splice(BO-BM,1);BM++}}}}function BA(BL,BS,BO,BM,BK,BT){if(BS===""){return}var BN;var BP=BL.aiDisplay;var BR=Ae(BS,BM,BK,BT);for(var BQ=BP.length-1;BQ>=0;BQ--){BN=BL.aoData[BP[BQ]]._aFilterData[BO];if(!BR.test(BN)){BP.splice(BQ,1)}}}function u(BL,BT,BM,BN,BR,BV){var BK=Ae(BT,BN,BR,BV);var BO=BL.oPreviousSearch.sSearch;var BQ=BL.aiDisplayMaster;var BU,BP,BS;if(w.ext.search.length!==0){BM=true}BP=BE(BL);if(BT.length<=0){BL.aiDisplay=BQ.slice()}else{if(BP||BM||BO.length>BT.length||BT.indexOf(BO)!==0||BL.bSorted){BL.aiDisplay=BQ.slice()}BU=BL.aiDisplay;for(BS=BU.length-1;BS>=0;BS--){if(!BK.test(BL.aoData[BU[BS]]._sFilterRow)){BU.splice(BS,1)}}}}function Ae(BN,BM,BO,BK){var BL,BP=BM?BN:Bk(BN);if(BO){BL=BP.split(" ");BP="^(?=.*?"+BL.join(")(?=.*?")+").*$"}return new RegExp(BP,BK?"i":"")}function Bk(BK){return BK.replace(F,"\\$1")}var Ab=H("<div>")[0];var m=Ab.textContent!==C;function BE(BL){var BP=BL.aoColumns;var BN;var BR,BQ,BK,BM,BO,BT,BS;var BV=w.ext.type.search;var BU=false;for(BR=0,BK=BL.aoData.length;BR<BK;BR++){BS=BL.aoData[BR];if(!BS._aFilterData){BO=[];for(BQ=0,BM=BP.length;BQ<BM;BQ++){BN=BP[BQ];if(BN.bSearchable){BT=U(BL,BR,BQ,"filter");BT=BV[BN.sType]?BV[BN.sType](BT):BT!==null?BT:""}else{BT=""}if(BT.indexOf&&BT.indexOf("&")!==-1){Ab.innerHTML=BT;BT=m?Ab.textContent:Ab.innerText;BT=BT.replace(/[\r\n]/g,"")}BO.push(BT)}BS._aFilterData=BO;BS._sFilterRow=BO.join("  ");BU=true}}return BU}function L(BN){var BM=BN.sTableId,BK=BN.aanFeatures.i,BL=H("<div/>",{"class":BN.oClasses.sInfo,"id":!BK?BM+"_info":null});if(!BK){BN.aoDrawCallback.push({"fn":Ac,"sName":"information"});BL.attr("role","alert").attr("aria-live","polite").attr("aria-relevant","all");H(BN.nTable).attr("aria-describedby",BM+"_info")}return BL[0]}function Ac(BK){var BS=BK.aanFeatures.i;if(BS.length===0){return}var BP=BK.oLanguage,BM=BK._iDisplayStart+1,BO=BK.fnDisplayEnd(),BN=BK.fnRecordsTotal(),BR=BK.fnRecordsDisplay(),BL=BR?BP.sInfo:BP.sInfoEmpty;if(BR!==BN){BL+=" "+BP.sInfoFiltered}BL+=BP.sInfoPostFix;BL=Aa(BK,BL);var BQ=BP.fnInfoCallback;if(BQ!==null){BL=BQ.call(BK.oInstance,BK,BM,BO,BN,BR,BL)}H(BS).html(BL)}function Aa(BM,BL){var BK=BM.fnFormatNumber,BP=BM._iDisplayStart+1,BN=BM._iDisplayLength,BO=BM.fnRecordsDisplay(),BQ=BN===-1;return BL.replace(/_START_/g,BK.call(BM,BP)).replace(/_END_/g,BK.call(BM,BM.fnDisplayEnd())).replace(/_MAX_/g,BK.call(BM,BM.fnRecordsTotal())).replace(/_TOTAL_/g,BK.call(BM,BO)).replace(/_PAGE_/g,BK.call(BM,BQ?1:Math.ceil(BP/BN))).replace(/_PAGES_/g,BK.call(BM,BQ?1:Math.ceil(BO/BN)))}function AG(BL){var BP,BK,BR=BL.iInitDisplayStart;var BO=BL.aoColumns,BM;var BN=BL.oFeatures;if(!BL.bInitialised){setTimeout(function(){AG(BL)},200);return}AE(BL);Ax(BL);o(BL,BL.aoHeader);o(BL,BL.aoFooter);j(BL,true);if(BN.bAutoWidth){Al(BL)}for(BP=0,BK=BO.length;BP<BK;BP++){BM=BO[BP];if(BM.sWidth){BM.nTh.style.width=Ap(BM.sWidth)}}Bu(BL);var BQ=Aj(BL);if(BQ!="ssp"){if(BQ=="ajax"){AF(BL,[],function(BS){var BT=D(BL,BS);for(BP=0;BP<BT.length;BP++){BC(BL,BT[BP])}BL.iInitDisplayStart=BR;Bu(BL);j(BL,false);AW(BL,BS)},BL)}else{j(BL,false);AW(BL)}}}function AW(BL,BK){BL._bInitComplete=true;if(BK){Y(BL)}BD(BL,"aoInitComplete","init",[BL,BK])}function BH(BK,BM){var BL=parseInt(BM,10);BK._iDisplayLength=BL;Bp(BK);BD(BK,null,"length",[BK,BL])}function I(BL){var BP=BL.oClasses,BN=BL.sTableId,BS=BL.aLengthMenu,BR=H.isArray(BS[0]),BT=BR?BS[0]:BS,BU=BR?BS[1]:BS;var BK=H("<select/>",{"name":BN+"_length","aria-controls":BN,"class":BP.sLengthSelect});for(var BQ=0,BM=BT.length;BQ<BM;BQ++){BK[0][BQ]=new Option(BU[BQ],BT[BQ])}var BV=H("<div><label/></div>").addClass(BP.sLength);if(!BL.aanFeatures.l){BV[0].id=BN+"_length"}var BO=BL.oLanguage.sLengthMenu.split(/(_MENU_)/);BV.children().append(BO[0]).append(BK).append(BO[2]);BK.val(BL._iDisplayLength).bind("change.DT",function(BW){BH(BL,H(this).val());BG(BL)});H(BL.nTable).bind("length",function(BW,BX,BY){BK.val(BY)});return BV[0]}function At(BO){var BK=BO.sPaginationType,BN=w.ext.pager[BK],BQ=typeof BN==="function",BM=function(BR){BG(BR)},BP=H("<div/>").addClass(BO.oClasses.sPaging+BK)[0],BL=BO.aanFeatures;if(!BQ){BN.fnInit(BO,BP,BM)}if(!BL.p){BP.id=BO.sTableId+"_paginate";BO.aoDrawCallback.push({"fn":function(BS){if(BQ){var BT=BS._iDisplayStart,BZ=BS._iDisplayLength,BV=BS.fnRecordsDisplay(),BY=BZ===-1,BU=BY?0:Math.ceil(BT/BZ),BW=BY?1:Math.ceil(BV/BZ),B0=BN(BU,BW),BX,BR;for(BX=0,BR=BL.p.length;BX<BR;BX++){n(BS,"pageButton")(BS,BL.p[BX],BX,B0,BU,BW)}}else{BN.fnUpdate(BS,BM)}},"sName":"pagination"})}return BP}function Bg(BN,BK,BQ){var BP=BN._iDisplayStart,BO=BN._iDisplayLength,BL=BN.fnRecordsDisplay();if(BL===0||BO===-1){BP=0}else{if(typeof BK==="number"){BP=BK*BO;if(BP>BL){BP=0}}else{if(BK=="first"){BP=0}else{if(BK=="previous"){BP=BO>=0?BP-BO:0;if(BP<0){BP=0}}else{if(BK=="next"){if(BP+BO<BL){BP+=BO}}else{if(BK=="last"){BP=Math.floor((BL-1)/BO)*BO}else{v(BN,0,"Unknown paging action: "+BK,5)}}}}}}var BM=BN._iDisplayStart!==BP;BN._iDisplayStart=BP;BD(BN,null,"page",[BN]);if(BQ){BG(BN)}return BM}function By(BK){return H("<div/>",{"id":!BK.aanFeatures.r?BK.sTableId+"_processing":null,"class":BK.oClasses.sProcessing}).html(BK.oLanguage.sProcessing).insertBefore(BK.nTable)[0]}function j(BL,BK){if(BL.oFeatures.bProcessing){H(BL.aanFeatures.r).css("visibility",BK?"visible":"hidden")}BD(BL,null,"processing",[BL,BK])}function AS(BS){var BR=BS.oScroll;if(BR.sX===""&&BR.sY===""){return BS.nTable}var B0=BR.sX;var BZ=BR.sY;var BN=BS.oClasses;var BP=H(BS.nTable);var BQ=BP.children("caption");var BX=BQ.length?BQ[0]._captionSide:null;var BT=H(BP[0].cloneNode(false));var BM=H(BP[0].cloneNode(false));var BV=BP.children("tfoot");var BL="<div/>";var BO=function(B2){return !B2?null:Ap(B2)};if(BR.sX&&BP.attr("width")==="100%"){BP.removeAttr("width")}if(!BV.length){BV=null}var BK=H(BL,{"class":BN.sScrollWrapper}).append(H(BL,{"class":BN.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:B0?BO(B0):"100%"}).append(H(BL,{"class":BN.sScrollHeadInner}).css({"box-sizing":"content-box",width:BR.sXInner||"100%"}).append(BT.removeAttr("id").css("margin-left",0).append(BP.children("thead")))).append(BX==="top"?BQ:null)).append(H(BL,{"class":BN.sScrollBody}).css({overflow:"auto",height:BO(BZ),width:BO(B0)}).append(BP));if(BV){BK.append(H(BL,{"class":BN.sScrollFoot}).css({overflow:"hidden",border:0,width:B0?BO(B0):"100%"}).append(H(BL,{"class":BN.sScrollFootInner}).append(BM.removeAttr("id").css("margin-left",0).append(BP.children("tfoot")))).append(BX==="bottom"?BQ:null))}var BY=BK.children();var B1=BY[0];var BU=BY[1];var BW=BV?BY[2]:null;if(B0){H(BU).scroll(function(B2){var B3=this.scrollLeft;B1.scrollLeft=B3;if(BV){BW.scrollLeft=B3}})}BS.nScrollHead=B1;BS.nScrollBody=BU;BS.nScrollFoot=BW;BS.aoDrawCallback.push({"fn":AY,"sName":"scrolling"});return BK[0]}function AY(Cb){var Cm=Cb.oScroll,Ch=Cm.sX,BP=Cm.sXInner,Cg=Cm.sY,B2=Cm.iBarWidth,Cl=H(Cb.nScrollHead),BS=Cl[0].style,Co=Cl.children("div"),BV=Co[0].style,B9=Co.children("table"),Cc=Cb.nScrollBody,B5=H(Cc),BM=Cc.style,Ca=H(Cb.nScrollFoot),Cf=Ca.children("div"),B7=Cf.children("table"),BR=H(Cb.nTHead),B1=H(Cb.nTable),B3=B1[0],Cd=B3.style,Cn=Cb.nTFoot?H(Cb.nTFoot):null,BN=Cb.oBrowser,BY=BN.bScrollOversize,B0,B4,Ci,BW,BL,BT,Ce=[],Cj=[],BQ=[],BZ,B8,BK,BU=function(Cp){var Cq=Cp.style;Cq.paddingTop="0";Cq.paddingBottom="0";Cq.borderTopWidth="0";Cq.borderBottomWidth="0";Cq.height=0};B1.children("thead, tfoot").remove();BL=BR.clone().prependTo(B1);B0=BR.find("tr");Ci=BL.find("tr");BL.find("th, td").removeAttr("tabindex");if(Cn){BT=Cn.clone().prependTo(B1);B4=Cn.find("tr");BW=BT.find("tr")}if(!Ch){BM.width="100%";Cl[0].style.width="100%"}H.each(Af(Cb,BL),function(Cq,Cp){BZ=Bf(Cb,Cq);Cp.style.width=Cb.aoColumns[BZ].sWidth});if(Cn){Br(function(Cp){Cp.style.width=""},BW)}if(Cm.bCollapse&&Cg!==""){BM.height=(B5.offsetHeight+BR[0].offsetHeight)+"px"}BK=B1.outerWidth();if(Ch===""){Cd.width="100%";if(BY&&(B1.find("tbody").height()>Cc.offsetHeight||B5.css("overflow-y")=="scroll")){Cd.width=Ap(B1.outerWidth()-B2)}}else{if(BP!==""){Cd.width=Ap(BP)}else{if(BK==B5.width()&&B5.height()<B1.height()){Cd.width=Ap(BK-B2);if(B1.outerWidth()>BK-B2){Cd.width=Ap(BK)}}else{Cd.width=Ap(BK)}}}BK=B1.outerWidth();Br(BU,Ci);Br(function(Cp){BQ.push(Cp.innerHTML);Ce.push(Ap(H(Cp).css("width")))},Ci);Br(function(Cq,Cp){Cq.style.width=Ce[Cp]},B0);H(Ci).height(0);if(Cn){Br(BU,BW);Br(function(Cp){Cj.push(Ap(H(Cp).css("width")))},BW);Br(function(Cq,Cp){Cq.style.width=Cj[Cp]},B4);H(BW).height(0)}Br(function(Cq,Cp){Cq.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+BQ[Cp]+"</div>";Cq.style.width=Ce[Cp]},Ci);if(Cn){Br(function(Cq,Cp){Cq.innerHTML="";Cq.style.width=Cj[Cp]},BW)}if(B1.outerWidth()<BK){B8=((Cc.scrollHeight>Cc.offsetHeight||B5.css("overflow-y")=="scroll"))?BK+B2:BK;if(BY&&(Cc.scrollHeight>Cc.offsetHeight||B5.css("overflow-y")=="scroll")){Cd.width=Ap(B8-B2)}if(Ch===""||BP!==""){v(Cb,1,"Possible column misalignment",6)}}else{B8="100%"}BM.width=Ap(B8);BS.width=Ap(B8);if(Cn){Cb.nScrollFoot.style.width=Ap(B8)}if(!Cg){if(BY){BM.height=Ap(B3.offsetHeight+B2)}}if(Cg&&Cm.bCollapse){BM.height=Ap(Cg);var Ck=(Ch&&B3.offsetWidth>Cc.offsetWidth)?B2:0;if(B3.offsetHeight<Cc.offsetHeight){BM.height=Ap(B3.offsetHeight+Ck)}}var B6=B1.outerWidth();B9[0].style.width=Ap(B6);BV.width=Ap(B6);var BX=B1.height()>Cc.clientHeight||B5.css("overflow-y")=="scroll";var BO="padding"+(BN.bScrollbarLeft?"Left":"Right");BV[BO]=BX?B2+"px":"0px";if(Cn){B7[0].style.width=Ap(B6);Cf[0].style.width=Ap(B6);Cf[0].style[BO]=BX?B2+"px":"0px"}B5.scroll();if(Cb.bSorted||Cb.bFiltered){Cc.scrollTop=0}}function Br(BQ,BM,BL){var BR=0,BO=0,BK=BM.length;var BP,BN;while(BO<BK){BP=BM[BO].firstChild;BN=BL?BL[BO].firstChild:null;while(BP){if(BP.nodeType===1){if(BL){BQ(BP,BN,BR)}else{BQ(BP,BR)}BR++}BP=BP.nextSibling;BN=BL?BN.nextSibling:null}BO++}}var Ag=/<.*?>/g;function Al(BM){var BO=BM.nTable,BU=BM.aoColumns,BT=BM.oScroll,B1=BT.sY,B2=BT.sX,BK=BT.sXInner,BW=BU.length,BL=S(BM,"bVisible"),B3=H("th",BM.nTHead),BS=BO.getAttribute("width"),B0=BO.parentNode,B4=false,BP,BV,BY,BR,BZ;for(BP=0;BP<BL.length;BP++){BV=BU[BL[BP]];if(BV.sWidth!==null){BV.sWidth=An(BV.sWidthOrig,B0);B4=true}}if(!B4&&!B2&&!B1&&BW==Ad(BM)&&BW==B3.length){for(BP=0;BP<BW;BP++){BU[BP].sWidth=Ap(B3.eq(BP).width())}}else{var BN=H(BO.cloneNode(false)).css("visibility","hidden").removeAttr("id").append(H(BM.nTHead).clone(false)).append(H(BM.nTFoot).clone(false)).append(H("<tbody><tr/></tbody>"));BN.find("tfoot th, tfoot td").css("width","");var BX=BN.find("tbody tr");B3=Af(BM,BN.find("thead")[0]);for(BP=0;BP<BL.length;BP++){BV=BU[BL[BP]];B3[BP].style.width=BV.sWidthOrig!==null&&BV.sWidthOrig!==""?Ap(BV.sWidthOrig):""}if(BM.aoData.length){for(BP=0;BP<BL.length;BP++){BY=BL[BP];BV=BU[BY];H(AH(BM,BY)).clone(false).append(BV.sContentPadding).appendTo(BX)}}BN.appendTo(B0);if(B2&&BK){BN.width(BK)}else{if(B2){BN.css("width","auto");if(BN.width()<B0.offsetWidth){BN.width(B0.offsetWidth)}}else{if(B1){BN.width(B0.offsetWidth)}else{if(BS){BN.width(BS)}}}}AC(BM,BN[0]);if(B2){var BQ=0;for(BP=0;BP<BL.length;BP++){BV=BU[BL[BP]];BZ=H(B3[BP]).outerWidth();BQ+=BV.sWidthOrig===null?BZ:parseInt(BV.sWidth,10)+BZ-H(B3[BP]).width()}BN.width(Ap(BQ));BO.style.width=Ap(BQ)}for(BP=0;BP<BL.length;BP++){BV=BU[BL[BP]];BR=H(B3[BP]).width();if(BR){BV.sWidth=Ap(BR)}}BO.style.width=Ap(BN.css("width"));BN.remove()}if(BS){BO.style.width=Ap(BS)}if((BS||B2)&&!BM._reszEvt){H(A).bind("resize.DT-"+BM.sInstance,A6(function(){Y(BM)}));BM._reszEvt=true}}function A6(BL,BK){var BO=BK||200,BM,BN;return function(){var BP=this,BQ=+new Date(),BR=arguments;if(BM&&BQ<BM+BO){clearTimeout(BN);BN=setTimeout(function(){BM=C;BL.apply(BP,BR)},BO)}else{if(BM){BM=BQ;BL.apply(BP,BR)}else{BM=BQ}}}}function An(BM,BN){if(!BM){return 0}var BK=H("<div/>").css("width",Ap(BM)).appendTo(BN||B.body);var BL=BK[0].offsetWidth;BK.remove();return BL}function AC(BM,BK){var BN=BM.oScroll;if(BN.sX||BN.sY){var BL=!BN.sX?BN.iBarWidth:0;BK.style.width=Ap(H(BK).outerWidth()-BL)}}function AH(BL,BK){var BM=AO(BL,BK);if(BM<0){return null}var BN=BL.aoData[BM];return !BN.nTr?H("<td/>").html(U(BL,BM,BK,"display"))[0]:BN.anCells[BK]}function AO(BP,BK){var BM,BQ=-1,BN=-1;for(var BL=0,BO=BP.aoData.length;BL<BO;BL++){BM=U(BP,BL,BK,"display")+"";BM=BM.replace(Ag,"");if(BM.length>BQ){BQ=BM.length;BN=BL}}return BN}function Ap(BK){if(BK===null){return"0px"}if(typeof BK=="number"){return BK<0?"0px":BK+"px"}return BK.match(/\d$/)?BK+"px":BK}function Ak(){if(!w.__scrollbarWidth){var BN=H("<p/>").css({width:"100%",height:200,padding:0})[0];var BL=H("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(BN).appendTo("body");var BM=BN.offsetWidth;BL.css("overflow","scroll");var BK=BN.offsetWidth;if(BM===BK){BK=BL[0].clientWidth}BL.remove();w.__scrollbarWidth=BM-BK}return w.__scrollbarWidth}function O(BL){var BS,BK,BR,BT,BU=[],BN=[],BW=BL.aoColumns,BX,BY,BP,BM,BO=BL.aaSortingFixed,BQ=H.isPlainObject(BO),BV=[],BZ=function(B0){if(B0.length&&!H.isArray(B0[0])){BV.push(B0)}else{BV.push.apply(BV,B0)}};if(H.isArray(BO)){BZ(BO)}if(BQ&&BO.pre){BZ(BO.pre)}BZ(BL.aaSorting);if(BQ&&BO.post){BZ(BO.post)}for(BS=0;BS<BV.length;BS++){BM=BV[BS][0];BX=BW[BM].aDataSort;for(BR=0,BT=BX.length;BR<BT;BR++){BY=BX[BR];BP=BW[BY].sType||"string";BU.push({src:BM,col:BY,dir:BV[BS][1],index:BV[BS][2],type:BP,formatter:w.ext.type.order[BP+"-pre"]})}}return BU}function f(BO){var BQ,BZ,BN,B0,BY,BP,B6,BW,BS,BX=[],B2=w.ext.type.order,B3=BO.aoData,BT=BO.aoColumns,BL,B1,B5,BK,BM,BR=0,BU,BV=BO.aiDisplayMaster,B4=O(BO);r(BO);for(BQ=0,BZ=B4.length;BQ<BZ;BQ++){BU=B4[BQ];if(BU.formatter){BR++}AN(BO,BU.col)}if(Aj(BO)!="ssp"&&B4.length!==0){for(BQ=0,BN=BV.length;BQ<BN;BQ++){BX[BV[BQ]]=BQ}if(BR===B4.length){BV.sort(function(Cf,Cc){var Cd,Ce,B9,Ca,Cg,B7=B4.length,B8=B3[Cf]._aSortData,Cb=B3[Cc]._aSortData;for(B9=0;B9<B7;B9++){Cg=B4[B9];Cd=B8[Cg.col];Ce=Cb[Cg.col];Ca=Cd<Ce?-1:Cd>Ce?1:0;if(Ca!==0){return Cg.dir==="asc"?Ca:-Ca}}Cd=BX[Cf];Ce=BX[Cc];return Cd<Ce?-1:Cd>Ce?1:0})}else{BV.sort(function(Ch,Ce){var Cf,Cg,B8,Cc,Ci,Ca,Cb,B7=B4.length,B9=B3[Ch]._aSortData,Cd=B3[Ce]._aSortData;for(B8=0;B8<B7;B8++){Ca=B4[B8];Cf=B9[Ca.col];Cg=Cd[Ca.col];Cb=B2[Ca.type+"-"+Ca.dir]||B2["string-"+Ca.dir];Ci=Cb(Cf,Cg);if(Ci!==0){return Ci}}Cf=BX[Ch];Cg=BX[Ce];return Cf<Cg?-1:Cf>Cg?1:0})}}BO.bSorted=true}function AJ(BL){var BS;var BO;var BN=BL.aoColumns;var BR=O(BL);var BP=BL.oLanguage.oAria;for(var BQ=0,BK=BN.length;BQ<BK;BQ++){var BV=BN[BQ];var BM=BV.asSorting;var BU=BV.sTitle.replace(/<.*?>/g,"");var BT=BV.nTh;BT.removeAttribute("aria-sort");if(BV.bSortable){if(BR.length>0&&BR[0].col==BQ){BT.setAttribute("aria-sort",BR[0].dir=="asc"?"ascending":"descending");BO=BM[BR[0].index+1]||BM[0]}else{BO=BM[0]}BS=BU+(BO==="asc"?BP.sSortAscending:BP.sSortDescending)}else{BS=BU}BT.setAttribute("aria-label",BS)}}function T(BK,BR,BQ,BL){var BT=BK.aoColumns[BR];var BP=BK.aaSorting;var BO=BT.asSorting;var BM;var BS=function(BV){var BU=BV._idx;if(BU===C){BU=H.inArray(BV[1],BO)}return BU+1>=BO.length?0:BU+1};if(BQ&&BK.oFeatures.bSortMulti){var BN=H.inArray(BR,h(BP,"0"));if(BN!==-1){BM=BS(BP[BN]);BP[BN][1]=BO[BM];BP[BN]._idx=BM}else{BP.push([BR,BO[0],0]);BP[BP.length-1]._idx=0}}else{if(BP.length&&BP[0][0]==BR){BM=BS(BP[0]);BP.length=1;BP[0][1]=BO[BM];BP[0]._idx=BM}else{BP.length=0;BP.push([BR,BO[0]]);BP[0]._idx=0}}Bu(BK);if(typeof BL=="function"){BL(BK)}}function AM(BM,BO,BK,BN){var BL=BM.aoColumns[BK];P(BO,{},function(BP){if(BL.bSortable===false){return}j(BM,true);setTimeout(function(){T(BM,BK,BP.shiftKey,BN);if(Aj(BM)!=="ssp"){j(BM,false)}},0)})}function AU(BL){var BQ=BL.aLastSort;var BP=BL.oClasses.sSortColumn;var BR=O(BL);var BM=BL.oFeatures;var BO,BK,BN;if(BM.bSort&&BM.bSortClasses){for(BO=0,BK=BQ.length;BO<BK;BO++){BN=BQ[BO].src;H(h(BL.aoData,"anCells",BN)).removeClass(BP+(BO<2?BO+1:3))}for(BO=0,BK=BR.length;BO<BK;BO++){BN=BR[BO].src;H(h(BL.aoData,"anCells",BN)).addClass(BP+(BO<2?BO+1:3))}}BL.aLastSort=BR}function AN(BL,BN){var BM=BL.aoColumns[BN];var BO=w.ext.order[BM.sSortDataType];var BT;if(BO){BT=BO.call(BL.oInstance,BL,BN,Aw(BL,BN))}var BQ,BR;var BS=w.ext.type.order[BM.sType+"-pre"];for(var BP=0,BK=BL.aoData.length;BP<BK;BP++){BQ=BL.aoData[BP];if(!BQ._aSortData){BQ._aSortData=[]}if(!BQ._aSortData[BN]||BO){BR=BO?BT[BP]:U(BL,BP,BN,"sort");BQ._aSortData[BN]=BS?BS(BR):BR}}}function Av(BM){if(!BM.oFeatures.bStateSave||BM.bDestroying){return}var BK,BN;var BL={"iCreate":new Date().getTime(),"iStart":BM._iDisplayStart,"iLength":BM._iDisplayLength,"aaSorting":H.extend(true,[],BM.aaSorting),"oSearch":H.extend(true,{},BM.oPreviousSearch),"aoSearchCols":H.extend(true,[],BM.aoPreSearchCols),"abVisCols":[]};for(BK=0,BN=BM.aoColumns.length;BK<BN;BK++){BL.abVisCols.push(BM.aoColumns[BK].bVisible)}BD(BM,"aoStateSaveParams","stateSaveParams",[BM,BL]);BM.fnStateSaveCallback.call(BM.oInstance,BM,BL)}function Bj(BN,BM){var BQ,BK;var BL=BN.aoColumns;if(!BN.oFeatures.bStateSave){return}var BO=BN.fnStateLoadCallback.call(BN.oInstance,BN);if(!BO){return}var BP=BD(BN,"aoStateLoadParams","stateLoadParams",[BN,BO]);if(H.inArray(false,BP)!==-1){return}if(BO.iCreate<new Date().getTime()-(BN.iStateDuration*1000)){return}if(BL.length!==BO.aoSearchCols.length){return}BN.oLoadedState=H.extend(true,{},BO);BN._iDisplayStart=BO.iStart;BN.iInitDisplayStart=BO.iStart;BN._iDisplayLength=BO.iLength;BN.aaSorting=[];var BR=BO.aaSorting;for(BQ=0,BK=BR.length;BQ<BK;BQ++){BN.aaSorting.push(BR[BQ][0]>=BL.length?[0,BR[BQ][1]]:BR[BQ])}H.extend(BN.oPreviousSearch,BO.oSearch);H.extend(true,BN.aoPreSearchCols,BO.aoSearchCols);for(BQ=0,BK=BO.abVisCols.length;BQ<BK;BQ++){BL[BQ].bVisible=BO.abVisCols[BQ]}BD(BN,"aoStateLoaded","stateLoaded",[BN,BO])}function Am(BM){var BK=w.settings;var BL=H.inArray(BM,h(BK,"nTable"));return BL!==-1?BK[BL]:null}function v(BN,BM,BP,BL){BP="DataTables warning: "+(BN!==null?"table id="+BN.sTableId+" - ":"")+BP;if(BL){BP+=". For more information about this error, please see http://datatables.net/tn/"+BL}if(!BM){var BK=w.ext;var BO=BK.sErrMode||BK.errMode;if(BO=="alert"){alert(BP)}else{throw new Error(BP)}}else{if(A.console&&console.log){console.log(BP)}}}function A8(BM,BN,BL,BK){if(H.isArray(BL)){H.each(BL,function(BO,BP){if(H.isArray(BP)){A8(BM,BN,BP[0],BP[1])}else{A8(BM,BN,BP)}});return}if(BK===C){BK=BL}if(BN[BL]!==C){BM[BK]=BN[BL]}}function Ai(BL,BN,BK){var BO;for(var BM in BN){if(BN.hasOwnProperty(BM)){BO=BN[BM];if(H.isPlainObject(BO)){if(!H.isPlainObject(BL[BM])){BL[BM]={}}H.extend(true,BL[BM],BO)}else{if(BK&&BM!=="data"&&BM!=="aaData"&&H.isArray(BO)){BL[BM]=BO.slice()}else{BL[BM]=BO}}}}return BL}function P(BK,BM,BL){H(BK).bind("click.DT",BM,function(BN){BK.blur();BL(BN)}).bind("keypress.DT",BM,function(BN){if(BN.which===13){BL(BN)}}).bind("selectstart.DT",function(){return false})}function Bb(BL,BM,BN,BK){if(BN){BL[BM].push({"fn":BN,"sName":BK})}}function BD(BL,BO,BK,BM){var BN=[];if(BO){BN=H.map(BL[BO].slice().reverse(),function(BQ,BP){return BQ.fn.apply(BL.oInstance,BM)})}if(BK!==null){H(BL.nTable).trigger(BK+".dt",BM)}return BN}function Bp(BK){var BN=BK._iDisplayStart,BL=BK.fnDisplayEnd(),BM=BK._iDisplayLength;if(BL===BK.fnRecordsDisplay()){BN=BL-BM}if(BM===-1||BN<0){BN=0}BK._iDisplayStart=BN}function n(BN,BK){var BM=BN.renderer;var BL=w.ext.renderer[BK];if(H.isPlainObject(BM)&&BM[BK]){return BL[BM[BK]]||BL._}else{if(typeof BM==="string"){return BL[BM]||BL._}}return BL._}function Aj(BK){if(BK.oFeatures.bServerSide){return"ssp"}else{if(BK.ajax||BK.sAjaxSource){return"ajax"}}return"dom"}w=function(BM){this.$=function(BP,BQ){return this.api(true).$(BP,BQ)};this._=function(BP,BQ){return this.api(true).rows(BP,BQ).data()};this.api=function(BP){return BP?new AT(Am(this[K.iApiIndex])):new AT(this)};this.fnAddData=function(BS,BP){var BR=this.api(true);var BQ=H.isArray(BS)&&(H.isArray(BS[0])||H.isPlainObject(BS[0]))?BR.rows.add(BS):BR.row.add(BS);if(BP===C||BP){BR.draw()}return BQ.flatten().toArray()};this.fnAdjustColumnSizing=function(BP){var BS=this.api(true).columns.adjust();var BQ=BS.settings()[0];var BR=BQ.oScroll;if(BP===C||BP){BS.draw(false)}else{if(BR.sX!==""||BR.sY!==""){AY(BQ)}}};this.fnClearTable=function(BP){var BQ=this.api(true).clear();if(BP===C||BP){BQ.draw()}};this.fnClose=function(BP){this.api(true).row(BP).child.hide()};this.fnDeleteRow=function(BT,BP,BV){var BU=this.api(true);var BR=BU.rows(BT);var BS=BR.settings()[0];var BQ=BS.aoData[BR[0][0]];BR.remove();if(BP){BP.call(this,BS,BQ)}if(BV===C||BV){BU.draw()}return BQ};this.fnDestroy=function(BP){this.api(true).destroy(BP)};this.fnDraw=function(BP){this.api(true).draw(!BP)};this.fnFilter=function(BT,BS,BR,BV,BQ,BP){var BU=this.api(true);if(BS===null||BS===C){BU.search(BT,BR,BV,BP)}else{BU.column(BS).search(BT,BR,BV,BP)}BU.draw()};this.fnGetData=function(BR,BQ){var BS=this.api(true);if(BR!==C){var BP=BR.nodeName?BR.nodeName.toLowerCase():"";return BQ!==C||BP=="td"||BP=="th"?BS.cell(BR,BQ).data():BS.row(BR).data()}return BS.data().toArray()};this.fnGetNodes=function(BP){var BQ=this.api(true);return BP!==C?BQ.row(BP).node():BQ.rows().nodes().toArray()};this.fnGetPosition=function(BP){var BR=this.api(true);var BS=BP.nodeName.toUpperCase();if(BS=="TR"){return BR.row(BP).index()}else{if(BS=="TD"||BS=="TH"){var BQ=BR.cell(BP).index();return[BQ.row,BQ.columnVisible,BQ.column]}}return null};this.fnIsOpen=function(BP){return this.api(true).row(BP).child.isShown()};this.fnOpen=function(BQ,BP,BR){return this.api(true).row(BQ).child(BP,BR).show()};this.fnPageChange=function(BQ,BP){var BR=this.api(true).page(BQ);if(BP===C||BP){BR.draw(false)}};this.fnSetColumnVis=function(BP,BR,BQ){var BS=this.api(true).column(BP).visible(BR);if(BQ===C||BQ){BS.columns.adjust().draw()}};this.fnSettings=function(){return Am(this[K.iApiIndex])};this.fnSort=function(BP){this.api(true).order(BP).draw()};this.fnSortListener=function(BP,BQ,BR){this.api(true).order.listener(BP,BQ,BR)};this.fnUpdate=function(BU,BR,BQ,BP,BS){var BT=this.api(true);if(BQ===C||BQ===null){BT.row(BR).data(BU)}else{BT.cell(BR,BQ).data(BU)}if(BS===C||BS){BT.columns.adjust()}if(BP===C||BP){BT.draw()}return 0};this.fnVersionCheck=K.fnVersionCheck;var BL=this;var BK=BM===C;var BN=this.length;if(BK){BM={}}this.oApi=this.internal=K.internal;for(var BO in w.ext.internal){if(BO){this[BO]=k(BO)}}this.each(function(){var BX={};var Cc=BN>1?Ai(BX,BM,true):BM;var BW=0,BR,Ca,B7,BV,Ce;var Cd=this.getAttribute("id");var Cb=false;var B4=w.defaults;if(this.nodeName.toLowerCase()!="table"){v(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}Az(B4);Bn(B4.column);AR(B4,B4,true);AR(B4.column,B4.column,true);AR(B4,Cc);var BU=w.settings;for(BW=0,BR=BU.length;BW<BR;BW++){if(BU[BW].nTable==this){var B8=Cc.bRetrieve!==C?Cc.bRetrieve:B4.bRetrieve;var B9=Cc.bDestroy!==C?Cc.bDestroy:B4.bDestroy;if(BK||B8){return BU[BW].oInstance}else{if(B9){BU[BW].oInstance.fnDestroy();break}else{v(BU[BW],0,"Cannot reinitialise DataTable",3);return}}}if(BU[BW].sTableId==this.id){BU.splice(BW,1);break}}if(Cd===null||Cd===""){Cd="DataTables_Table_"+(w.ext._unique++);this.id=Cd}var BP=H.extend(true,{},w.models.oSettings,{"nTable":this,"oApi":BL.internal,"oInit":Cc,"sDestroyWidth":H(this)[0].style.width,"sInstance":Cd,"sTableId":Cd});BU.push(BP);BP.oInstance=(BL.length===1)?BL:H(this).dataTable();Az(Cc);if(Cc.oLanguage){M(Cc.oLanguage)}if(Cc.aLengthMenu&&!Cc.iDisplayLength){Cc.iDisplayLength=H.isArray(Cc.aLengthMenu[0])?Cc.aLengthMenu[0][0]:Cc.aLengthMenu[0]}Cc=Ai(H.extend(true,{},B4),Cc);A8(BP.oFeatures,Cc,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);A8(BP,Cc,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);A8(BP.oScroll,Cc,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);A8(BP.oLanguage,Cc,"fnInfoCallback");Bb(BP,"aoDrawCallback",Cc.fnDrawCallback,"user");Bb(BP,"aoServerParams",Cc.fnServerParams,"user");Bb(BP,"aoStateSaveParams",Cc.fnStateSaveParams,"user");Bb(BP,"aoStateLoadParams",Cc.fnStateLoadParams,"user");Bb(BP,"aoStateLoaded",Cc.fnStateLoaded,"user");Bb(BP,"aoRowCallback",Cc.fnRowCallback,"user");Bb(BP,"aoRowCreatedCallback",Cc.fnCreatedRow,"user");Bb(BP,"aoHeaderCallback",Cc.fnHeaderCallback,"user");Bb(BP,"aoFooterCallback",Cc.fnFooterCallback,"user");Bb(BP,"aoInitComplete",Cc.fnInitComplete,"user");Bb(BP,"aoPreDrawCallback",Cc.fnPreDrawCallback,"user");if(Cc.bJQueryUI){H.extend(BP.oClasses,w.ext.oJUIClasses,Cc.oClasses);if(Cc.sDom===B4.sDom&&B4.sDom==="lfrtip"){BP.sDom='<"H"lfr>t<"F"ip>'}if(!BP.renderer){BP.renderer="jqueryui"}else{if(H.isPlainObject(BP.renderer)&&!BP.renderer.header){BP.renderer.header="jqueryui"}}}else{H.extend(BP.oClasses,w.ext.classes,Cc.oClasses)}H(this).addClass(BP.oClasses.sTable);if(BP.oScroll.sX!==""||BP.oScroll.sY!==""){BP.oScroll.iBarWidth=Ak()}if(BP.oScroll.sX===true){BP.oScroll.sX="100%"}if(BP.iInitDisplayStart===C){BP.iInitDisplayStart=Cc.iDisplayStart;BP._iDisplayStart=Cc.iDisplayStart}if(Cc.iDeferLoading!==null){BP.bDeferLoading=true;var BS=H.isArray(Cc.iDeferLoading);BP._iRecordsDisplay=BS?Cc.iDeferLoading[0]:Cc.iDeferLoading;BP._iRecordsTotal=BS?Cc.iDeferLoading[1]:Cc.iDeferLoading}if(Cc.oLanguage.sUrl!==""){BP.oLanguage.sUrl=Cc.oLanguage.sUrl;H.getJSON(BP.oLanguage.sUrl,null,function(Cf){M(Cf);AR(B4.oLanguage,Cf);H.extend(true,BP.oLanguage,Cc.oLanguage,Cf);AG(BP)});Cb=true}else{H.extend(true,BP.oLanguage,Cc.oLanguage)}if(Cc.asStripeClasses===null){BP.asStripeClasses=[BP.oClasses.sStripeOdd,BP.oClasses.sStripeEven]}var B5=BP.asStripeClasses;var B0=H("tbody tr:eq(0)",this);if(H.inArray(true,H.map(B5,function(Cf,Cg){return B0.hasClass(Cf)}))!==-1){H("tbody tr",this).removeClass(B5.join(" "));BP.asDestroyStripes=B5.slice()}var BZ=[];var B3;var BQ=this.getElementsByTagName("thead");if(BQ.length!==0){d(BP.aoHeader,BQ[0]);BZ=Af(BP)}if(Cc.aoColumns===null){B3=[];for(BW=0,BR=BZ.length;BW<BR;BW++){B3.push(null)}}else{B3=Cc.aoColumns}for(BW=0,BR=B3.length;BW<BR;BW++){AD(BP,BZ?BZ[BW]:null)}Q(BP,Cc.aoColumnDefs,B3,function(Cf,Cg){AL(BP,Cf,Cg)});if(B0.length){var B2=function(Cg,Cf){return Cg.getAttribute("data-"+Cf)?Cf:null};H.each(BB(BP,B0[0]).cells,function(Cf,Cj){var Cg=BP.aoColumns[Cf];if(Cg.mData===Cf){var Ch=B2(Cj,"sort")||B2(Cj,"order");var Ci=B2(Cj,"filter")||B2(Cj,"search");if(Ch!==null||Ci!==null){Cg.mData={_:Cf+".display",sort:Ch!==null?Cf+".@data-"+Ch:C,type:Ch!==null?Cf+".@data-"+Ch:C,filter:Ci!==null?Cf+".@data-"+Ci:C};AL(BP,Cf)}}})}if(Cc.bStateSave){BP.oFeatures.bStateSave=true;Bj(BP,Cc);Bb(BP,"aoDrawCallback",Av,"state_save")}if(Cc.aaSorting===C){for(BW=0,BR=BP.aaSorting.length;BW<BR;BW++){BP.aaSorting[BW][1]=BP.aoColumns[BW].asSorting[0]}}AU(BP);if(BP.oFeatures.bSort){Bb(BP,"aoDrawCallback",function(){if(BP.bSorted){var Cf=O(BP);var Cg={};H.each(Cf,function(Ch,Ci){Cg[Ci.src]=Ci.dir});BD(BP,null,"order",[BP,Cf,Cg]);AU(BP);AJ(BP)}})}A2(BP);var B6=H(this).children("caption").each(function(){this._captionSide=H(this).css("caption-side")});var BT=H(this).children("thead");if(BT.length===0){BT=H("<thead/>").appendTo(this)}BP.nTHead=BT[0];var B1=H(this).children("tbody");if(B1.length===0){B1=H("<tbody/>").appendTo(this)}BP.nTBody=B1[0];var BY=H(this).children("tfoot");if(BY.length===0&&B6.length>0&&(BP.oScroll.sX!==""||BP.oScroll.sY!=="")){BY=H("<tfoot/>").appendTo(this)}if(BY.length===0||BY.children().length===0){H(this).addClass(BP.oClasses.sNoFooter)}else{if(BY.length>0){BP.nTFoot=BY[0];d(BP.aoFooter,BP.nTFoot)}}if(Cc.aaData){for(BW=0;BW<Cc.aaData.length;BW++){BC(BP,Cc.aaData[BW])}}else{if(BP.bDeferLoading||Aj(BP)=="dom"){A3(BP,H(BP.nTBody).children("tr"))}}BP.aiDisplay=BP.aiDisplayMaster.slice();BP.bInitialised=true;if(Cb===false){AG(BP)}});BL=null;return this};var BF=[];var Bv=Array.prototype;var Be=function(BN){var BO,BK;var BL=w.settings;var BM=H.map(BL,function(BP,BQ){return BP.nTable});if(!BN){return[]}else{if(BN.nTable&&BN.oApi){return[BN]}else{if(BN.nodeName&&BN.nodeName.toLowerCase()==="table"){BO=H.inArray(BN,BM);return BO!==-1?[BL[BO]]:null}else{if(BN&&typeof BN.settings==="function"){return BN.settings()}else{if(typeof BN==="string"){BK=H(BN)}else{if(BN instanceof H){BK=BN}}}}}}if(BK){return BK.map(function(BP){BO=H.inArray(this,BM);return BO!==-1?BL[BO]:null}).toArray()}};w.Api=AT=function(BK,BP){if(!this instanceof AT){throw"DT API must be constructed as a new object"}var BO=[];var BM=function(BQ){var BR=Be(BQ);if(BR){BO.push.apply(BO,BR)}};if(H.isArray(BK)){for(var BL=0,BN=BK.length;BL<BN;BL++){BM(BK[BL])}}else{BM(BK)}this.context=A5(BO);if(BP){this.push.apply(this,BP.toArray?BP.toArray():BP)}this.selector={rows:null,cols:null,opts:null};AT.extend(this,this,BF)};AT.prototype={concat:Bv.concat,context:[],each:function(BL){if(Bv.forEach){Bv.forEach.call(this,BL,this)}else{for(var BK=0,BM=this.length;BK<BM;BK++){BL.call(this,this[BK],BK,this)}}return this},eq:function(BK){var BL=this.context;return BL.length>BK?new AT(BL[BK],this[BK]):null},filter:function(BL){var BN=[];if(Bv.filter){BN=Bv.filter.call(this,BL,this)}else{for(var BK=0,BM=this.length;BK<BM;BK++){if(BL.call(this,this[BK],BK,this)){BN.push(this[BK])}}}return new AT(this.context,BN)},flatten:function(){var BK=[];return new AT(this.context,BK.concat.apply(BK,this.toArray()))},join:Bv.join,indexOf:Bv.indexOf||function(BL,BN){for(var BK=(BN||0),BM=this.length;BK<BM;BK++){if(this[BK]===BL){return BK}}return -1},iterator:function(BT,BW,BS){var BX=[],BY,BR,BK,BP,BM,BQ=this.context,BL,BN,BZ,BV=this.selector;if(typeof BT==="string"){BS=BW;BW=BT;BT=false}for(BR=0,BK=BQ.length;BR<BK;BR++){if(BW==="table"){BY=BS(BQ[BR],BR);if(BY!==C){BX.push(BY)}}else{if(BW==="columns"||BW==="rows"){BY=BS(BQ[BR],this[BR],BR);if(BY!==C){BX.push(BY)}}else{if(BW==="column"||BW==="column-rows"||BW==="row"||BW==="cell"){BN=this[BR];if(BW==="column-rows"){BL=A9(BQ[BR],BV.opts)}for(BP=0,BM=BN.length;BP<BM;BP++){BZ=BN[BP];if(BW==="cell"){BY=BS(BQ[BR],BZ.row,BZ.column,BR,BP)}else{BY=BS(BQ[BR],BZ,BR,BP,BL)}if(BY!==C){BX.push(BY)}}}}}}if(BX.length){var BU=new AT(BQ,BT?BX.concat.apply([],BX):BX);var BO=BU.selector;BO.rows=BV.rows;BO.cols=BV.cols;BO.opts=BV.opts;return BU}return this},lastIndexOf:Bv.lastIndexOf||function(BK,BL){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(BL){var BN=[];if(Bv.map){BN=Bv.map.call(this,BL,this)}else{for(var BK=0,BM=this.length;BK<BM;BK++){BN.push(BL.call(this,this[BK],BK))}}return new AT(this.context,BN)},pluck:function(BK){return this.map(function(BL){return BL[BK]})},pop:Bv.pop,push:Bv.push,reduce:Bv.reduce||function(BL,BP){var BO,BN=false;if(arguments.length>1){BO=BP;BN=true}for(var BK=0,BM=this.length;BK<BM;BK++){if(!this.hasOwnProperty(BK)){continue}BO=BN?BL(BO,this[BK],BK,this):this[BK];BN=true}return BO},reduceRight:Bv.reduceRight||function(BL,BO){var BN,BM=false;if(arguments.length>1){BN=BO;BM=true}for(var BK=this.length-1;BK>=0;BK--){if(!this.hasOwnProperty(BK)){continue}BN=BM?BL(BN,this[BK],BK,this):this[BK];BM=true}return BN},reverse:Bv.reverse,selector:null,shift:Bv.shift,sort:Bv.sort,splice:Bv.splice,toArray:function(){return Bv.slice.call(this)},to$:function(){return H(this)},toJQuery:function(){return H(this)},unique:function(){return new AT(this.context,A5(this))},unshift:Bv.unshift};AT.extend=function(BO,BT,BS){if(!BT||(!(BT instanceof AT)&&!BT.__dt_wrapper)){return}var BR,BK,BQ,BL,BM,BN,BP=function(BU,BV){return function(){var BW=BU.apply(BO,arguments);AT.extend(BW,BW,BV.methodExt);return BW}};for(BR=0,BK=BS.length;BR<BK;BR++){BM=BS[BR];BT[BM.name]=typeof BM.val==="function"?BP(BM.val,BM):BM.val;BT[BM.name].__dt_wrapper=true;AT.extend(BO,BT[BM.name],BM.propExt)}};AT.register=Ay=function(BM,BS){if(H.isArray(BM)){for(var BP=0,BL=BM.length;BP<BL;BP++){AT.register(BM[BP],BS)}return}var BR,BK,BO=BM.split("."),BV=BF,BT,BQ;var BN=function(BZ,BY){for(var BX=0,BW=BZ.length;BX<BW;BX++){if(BZ[BX].name===BY){return BZ[BX]}}return null};for(BR=0,BK=BO.length;BR<BK;BR++){BQ=BO[BR].indexOf("()")!==-1;BT=BQ?BO[BR].replace("()",""):BO[BR];var BU=BN(BV,BT);if(!BU){BU={name:BT,val:{},methodExt:[],propExt:[]};BV.push(BU)}if(BR===BK-1){BU.val=BS}else{BV=BQ?BU.methodExt:BU.propExt}}if(AT.ready){w.api.build()}};AT.registerPlural=AB=function(BK,BL,BM){AT.register(BK,BM);AT.register(BL,function(){var BN=BM.apply(this,arguments);if(BN===this){return this}else{if(BN instanceof AT){return BN.length?H.isArray(BN[0])?new AT(BN.context,BN[0]):BN[0]:C}}return BN})};var Bm=function(BL,BM){if(typeof BL==="number"){return[BM[BL]]}var BK=H.map(BM,function(BN,BO){return BN.nTable});return H(BK).filter(BL).map(function(BN){var BO=H.inArray(this,BK);return BM[BO]}).toArray()};Ay("tables()",function(BK){return BK?new AT(Bm(BK,this.context)):this});Ay("table()",function(BL){var BK=this.tables(BL);var BM=BK.context;return BM.length?new AT(BM[0]):BK});AB("tables().nodes()","table().node()",function(){return this.iterator("table",function(BK){return BK.nTable})});AB("tables().body()","table().body()",function(){return this.iterator("table",function(BK){return BK.nTBody})});AB("tables().header()","table().header()",function(){return this.iterator("table",function(BK){return BK.nTHead})});AB("tables().footer()","table().footer()",function(){return this.iterator("table",function(BK){return BK.nTFoot})});Ay("draw()",function(BK){return this.iterator("table",function(BL){Bu(BL,BK===false)})});Ay("page()",function(BK){if(BK===C){return this.page.info().page}return this.iterator("table",function(BL){Bg(BL,BK)})});Ay("page.info()",function(BK){if(this.context.length===0){return C}var BM=this.context[0],BO=BM._iDisplayStart,BN=BM._iDisplayLength,BL=BM.fnRecordsDisplay(),BP=BN===-1;return{"page":BP?0:Math.floor(BO/BN),"pages":BP?1:Math.ceil(BL/BN),"start":BO,"end":BM.fnDisplayEnd(),"length":BN,"recordsTotal":BM.fnRecordsTotal(),"recordsDisplay":BL}});Ay("page.len()",function(BK){if(BK===C){return this.context.length!==0?this.context[0]._iDisplayLength:C}return this.iterator("table",function(BL){BH(BL,BK)})});var AI=function(BM,BL,BK){if(Aj(BM)=="ssp"){Bu(BM,BL)}else{AF(BM,[],function(BP){V(BM);var BR=D(BM,BP);for(var BO=0,BQ=BR.length;BO<BQ;BO++){BC(BM,BR[BO])}Bu(BM,BL)})}if(BK){var BN=new AT(BM);BN.one("draw",function(){console.log(BN.ajax.json());BK(BN.ajax.json())})}};Ay("ajax.json()",function(){var BK=this.context;if(BK.length>0){return BK[0].json}});Ay("ajax.reload()",function(BK,BL){return this.iterator("table",function(BM){AI(BM,BL===false,BK)})});Ay("ajax.url()",function(BK){var BL=this.context;if(BK===C){if(BL.length===0){return C}BL=BL[0];return BL.ajax?H.isPlainObject(BL.ajax)?BL.ajax.url:BL.ajax:BL.sAjaxSource}return this.iterator("table",function(BM){if(H.isPlainObject(BM.ajax)){BM.ajax.url=BK}else{BM.ajax=BK}})});Ay("ajax.url().load()",function(BK,BL){return this.iterator("table",function(BM){AI(BM,BL===false,BK)})});var g=function(BR,BQ){var BL=[],BN,BS,BP,BK,BO,BM;if(!H.isArray(BR)){BR=[BR]}for(BP=0,BK=BR.length;BP<BK;BP++){BS=BR[BP]&&BR[BP].split?BR[BP].split(","):[BR[BP]];for(BO=0,BM=BS.length;BO<BM;BO++){BN=BQ(typeof BS[BO]==="string"?H.trim(BS[BO]):BS[BO]);if(BN&&BN.length){BL.push.apply(BL,BN)}}}return BL};var A1=function(BK){if(!BK){BK={}}if(BK.filter&&!BK.search){BK.search=BK.filter}return{search:BK.search||"none",order:BK.order||"current",page:BK.page||"all"}};var E=function(BM){for(var BL=0,BK=BM.length;BL<BK;BL++){if(BM[BL].length>0){BM[0]=BM[BL];BM.length=1;BM.context=[BM.context[BL]];return BM}}BM.length=0;return BM};var A9=function(BL,BQ){var BP,BK,BN,BT=[],BR=BL.aiDisplay,BU=BL.aiDisplayMaster;var BM=BQ.search,BS=BQ.order,BO=BQ.page;if(Aj(BL)=="ssp"){return BM==="removed"?[]:A0(0,BU.length)}else{if(BO=="current"){for(BP=BL._iDisplayStart,BK=BL.fnDisplayEnd();BP<BK;BP++){BT.push(BR[BP])}}else{if(BS=="current"||BS=="applied"){BT=BM=="none"?BU.slice():BM=="applied"?BR.slice():H.map(BU,function(BV,BW){return H.inArray(BV,BR)===-1?BV:null})}else{if(BS=="index"||BS=="original"){for(BP=0,BK=BL.aoData.length;BP<BK;BP++){if(BM=="none"){BT.push(BP)}else{BN=H.inArray(BP,BR);if((BN===-1&&BM=="removed")||(BN===1&&BM=="applied")){BT.push(BP)}}}}}}}return BT};var AP=function(BL,BM,BK){return g(BM,function(BR){var BS=Z(BR);if(BS!==null&&!BK){return[BS]}var BQ=A9(BL,BK);if(BS!==null&&H.inArray(BS,BQ)!==-1){return[BS]}else{if(!BR){return BQ}}var BP=[];for(var BO=0,BN=BQ.length;BO<BN;BO++){BP.push(BL.aoData[BQ[BO]].nTr)}if(BR.nodeName){if(H.inArray(BR,BP)!==-1){return[BR._DT_RowIndex]}}return H(BP).filter(BR).map(function(){return this._DT_RowIndex}).toArray()})};Ay("rows()",function(BM,BK){if(BM===C){BM=""}else{if(H.isPlainObject(BM)){BK=BM;BM=""}}BK=A1(BK);var BL=this.iterator("table",function(BN){return AP(BN,BM,BK)});BL.selector.rows=BM;BL.selector.opts=BK;return BL});Ay("rows().nodes()",function(){return this.iterator("row",function(BL,BK){return BL.aoData[BK].nTr||C})});Ay("rows().data()",function(){return this.iterator(true,"rows",function(BL,BK){return Ao(BL.aoData,BK,"_aData")})});AB("rows().cache()","row().cache()",function(BK){return this.iterator("row",function(BN,BM){var BL=BN.aoData[BM];return BK==="search"?BL._aFilterData:BL._aSortData})});AB("rows().invalidate()","row().invalidate()",function(BK){return this.iterator("row",function(BM,BL){G(BM,BL,BK)})});AB("rows().indexes()","row().index()",function(){return this.iterator("row",function(BL,BK){return BK})});AB("rows().remove()","row().remove()",function(){var BK=this;return this.iterator("row",function(BP,BO,BQ){var BR=BP.aoData;BR.splice(BO,1);for(var BM=0,BL=BR.length;BM<BL;BM++){if(BR[BM].nTr!==null){BR[BM].nTr._DT_RowIndex=BM}}var BN=H.inArray(BO,BP.aiDisplay);Bh(BP.aiDisplayMaster,BO);Bh(BP.aiDisplay,BO);Bh(BK[BQ],BO,false);Bp(BP)})});Ay("rows.add()",function(BL){var BM=this.iterator("table",function(BQ){var BP,BO,BN;var BR=[];for(BO=0,BN=BL.length;BO<BN;BO++){BP=BL[BO];if(BP.nodeName&&BP.nodeName.toUpperCase()==="TR"){BR.push(A3(BQ,BP)[0])}else{BR.push(BC(BQ,BP))}}return BR});var BK=this.rows(-1);BK.pop();BK.push.apply(BK,BM.toArray());return BK});Ay("row()",function(BL,BK){return E(this.rows(BL,BK))});Ay("row().data()",function(BL){var BK=this.context;if(BL===C){return BK.length&&this.length?BK[0].aoData[this[0]]._aData:C}BK[0].aoData[this[0]]._aData=BL;G(BK[0],this[0],"data");return this});Ay("row().node()",function(){var BK=this.context;return BK.length&&this.length?BK[0].aoData[this[0]].nTr||null:null});Ay("row.add()",function(BK){if(BK instanceof H&&BK.length){BK=BK[0]}var BL=this.iterator("table",function(BM){if(BK.nodeName&&BK.nodeName.toUpperCase()==="TR"){return A3(BM,BK)[0]}return BC(BM,BK)});return this.row(BL[0])});var Bx=function(BN,BR,BM,BO){var BL=[];var BQ=function(BS,BT){if(!BS.nodeName||BS.nodeName.toUpperCase()!=="tr"){BS=H("<tr><td></td></tr>").find("td").html(BS).parent()}H("td",BS).addClass(BT)[0].colSpan=Ad(BN);BL.push(BS[0])};if(H.isArray(BM)||BM instanceof H){for(var BP=0,BK=BM.length;BP<BK;BP++){BQ(BM[BP],BO)}}else{BQ(BM,BO)}if(BR._details){BR._details.remove()}BR._details=H(BL);if(BR._detailsShow){BR._details.insertAfter(BR.nTr)}};var x=function(BK){var BM=this.context;if(BM.length&&this.length){var BL=BM[0].aoData[this[0]];if(BL._details){BL._detailsShow=BK;if(BK){BL._details.insertAfter(BL.nTr)}else{BL._details.remove()}A7(BM[0])}}return this};var A7=function(BL){var BN=new AT(BL);var BK=".dt.DT_details";var BO="draw"+BK;var BM="column-visibility"+BK;BN.off(BO+" "+BM);if(h(BL.aoData,"_details").length>0){BN.on(BO,function(){BN.rows({page:"current"}).eq(0).each(function(BQ){var BP=BL.aoData[BQ];if(BP._detailsShow){BP._details.insertAfter(BP.nTr)}})});BN.on(BM,function(BP,BQ,BS,BU){var BW,BT=Ad(BQ);for(var BV=0,BR=BQ.aoData.length;BV<BR;BV++){BW=BQ.aoData[BV];if(BW._details){BW._details.children("td[colspan]").attr("colspan",BT)}}})}};Ay("row().child()",function(BM,BK){var BL=this.context;if(BM===C){return BL.length&&this.length?BL[0].aoData[this[0]]._details:C}else{if(BL.length&&this.length){Bx(BL[0],BL[0].aoData[this[0]],BM,BK)}}return this});Ay(["row().child.show()","row().child().show()"],function(){x.call(this,true)});Ay(["row().child.hide()","row().child().hide()"],function(){x.call(this,false)});Ay("row().child.isShown()",function(){var BK=this.context;if(BK.length&&this.length){return BK[0].aoData[this[0]]._detailsShow||false}return false});var Ah=/^(.*):(name|visIdx|visible)$/;var AK=function(BM,BN,BK){var BP=BM.aoColumns,BO=h(BP,"sName"),BL=h(BP,"nTh");return g(BN,function(BQ){var BU=Z(BQ);if(BQ===""){return A0(BP.length)}else{if(BU!==null){return[BU>=0?BU:BP.length+BU]}else{var BR=BQ.match(Ah);if(BR){switch(BR[2]){case"visIdx":case"visible":var BT=parseInt(BR[1],10);if(BT<0){var BS=H.map(BP,function(BW,BV){return BW.bVisible?BV:null});return[BS[BS.length+BT]]}return[Bf(BM,BT)];case"name":return H.map(BO,function(BW,BV){return BW===BR[1]?BV:null})}}else{return H(BL).filter(BQ).map(function(){return H.inArray(this,BL)}).toArray()}}}})};var e=function(BL,BM,BO){var BP=BL.aoColumns,BV=BP[BM],BN=BL.aoData,BQ,BU,BR,BK,BT;if(BO===C){return BV.bVisible}if(BV.bVisible===BO){return}if(BO){var BS=H.inArray(true,h(BP,"bVisible"),BM+1);for(BR=0,BK=BN.length;BR<BK;BR++){BT=BN[BR].nTr;BU=BN[BR].anCells;if(BT){BT.insertBefore(BU[BM],BU[BS]||null)}}}else{H(h(BL.aoData,"anCells",BM)).detach();BV.bVisible=false;o(BL,BL.aoHeader);o(BL,BL.aoFooter);Av(BL)}BV.bVisible=BO;o(BL,BL.aoHeader);o(BL,BL.aoFooter);Y(BL);if(BL.oScroll.sX||BL.oScroll.sY){AY(BL)}BD(BL,null,"column-visibility",[BL,BM,BO]);Av(BL)};Ay("columns()",function(BM,BK){if(BM===C){BM=""}else{if(H.isPlainObject(BM)){BK=BM;BM=""}}BK=A1(BK);var BL=this.iterator("table",function(BN){return AK(BN,BM,BK)});BL.selector.cols=BM;BL.selector.opts=BK;return BL});AB("columns().header()","column().header()",function(BL,BK){return this.iterator("column",function(BM,BN){return BM.aoColumns[BN].nTh})});AB("columns().footer()","column().footer()",function(BL,BK){return this.iterator("column",function(BM,BN){return BM.aoColumns[BN].nTf})});AB("columns().data()","column().data()",function(){return this.iterator("column-rows",function(BL,BM,BP,BN,BO){var BR=[];for(var BQ=0,BK=BO.length;BQ<BK;BQ++){BR.push(U(BL,BO[BQ],BM,""))}return BR})});AB("columns().cache()","column().cache()",function(BK){return this.iterator("column-rows",function(BN,BO,BL,BP,BM){return Ao(BN.aoData,BM,BK==="search"?"_aFilterData":"_aSortData",BO)})});AB("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(BM,BN,BK,BO,BL){return Ao(BM.aoData,BL,"anCells",BN)})});AB("columns().visible()","column().visible()",function(BK){return this.iterator("column",function(BL,BM){return e(BL,BM,BK)})});AB("columns().indexes()","column().index()",function(BK){return this.iterator("column",function(BL,BM){return BK==="visible"?Aw(BL,BM):BM})});Ay("columns.adjust()",function(){return this.iterator("table",function(BK){Y(BK)})});Ay("column.index()",function(BK,BL){if(this.context.length!==0){var BM=this.context[0];if(BK==="fromVisible"||BK==="toData"){return Aw(BM,BL)}else{if(BK==="fromData"||BK==="toVisible"){return Bf(BM,BL)}}}});Ay("column()",function(BL,BK){return E(this.columns(BL,BK))});var Ba=function(BL,BT,BR){var BM=BL.aoData;var BP=A9(BL,BR);var BU=Ao(BM,BP,"anCells");var BS=H([].concat.apply([],BU));var BW;var BN=BL.aoColumns.length;var BV,BQ,BK,BO;return g(BT,function(BX){if(!BX){BV=[];for(BQ=0,BK=BP.length;BQ<BK;BQ++){BW=BP[BQ];for(BO=0;BO<BN;BO++){BV.push({row:BW,column:BO})}}return BV}return BS.filter(BX).map(function(BZ,BY){BW=BY.parentNode._DT_RowIndex;return{row:BW,column:H.inArray(BY,BM[BW].anCells)}})})};Ay("cells()",function(BO,BP,BR){if(H.isPlainObject(BO)){BR=BO;BO=null}if(H.isPlainObject(BP)){BR=BP;BP=null}if(BP===null||BP===C){return this.iterator("table",function(BV){return Ba(BV,BO,A1(BR))})}var BN=this.columns(BP,BR);var BL=this.rows(BO,BR);var BU,BQ,BK,BS,BM;var BT=this.iterator("table",function(BV,BW){BU=[];for(BQ=0,BK=BL[BW].length;BQ<BK;BQ++){for(BS=0,BM=BN[BW].length;BS<BM;BS++){BU.push({row:BL[BW][BQ],column:BN[BW][BS]})}}return BU});H.extend(BT.selector,{cols:BP,rows:BO,opts:BR});return BT});AB("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(BL,BK,BM){return BL.aoData[BK].anCells[BM]})});Ay("cells().data()",function(){return this.iterator("cell",function(BL,BK,BM){return U(BL,BK,BM)})});AB("cells().cache()","cell().cache()",function(BK){BK=BK==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(BM,BL,BN){return BM.aoData[BL][BK][BN]})});AB("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(BL,BK,BM){return{row:BK,column:BM,columnVisible:Aw(BL,BM)}})});Ay(["cells().invalidate()","cell().invalidate()"],function(BL){var BK=this.selector;this.rows(BK.rows,BK.opts).invalidate(BL);return this});Ay("cell()",function(BL,BM,BK){return E(this.cells(BL,BM,BK))});Ay("cell().data()",function(BM){var BL=this.context;var BK=this[0];if(BM===C){return BL.length&&BK.length?U(BL[0],BK[0].row,BK[0].column):C}N(BL[0],BK[0].row,BK[0].column,BM);G(BL[0],BK[0].row,"data",BK[0].column);return this});Ay("order()",function(BL,BK){var BM=this.context;if(BL===C){return BM.length!==0?BM[0].aaSorting:C}if(typeof BL==="number"){BL=[[BL,BK]]}else{if(!H.isArray(BL[0])){BL=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(BN){BN.aaSorting=BL.slice()})});Ay("order.listener()",function(BL,BM,BK){return this.iterator("table",function(BN){AM(BN,BL,BM,BK)})});Ay(["columns().order()","column().order()"],function(BK){var BL=this;return this.iterator("table",function(BO,BM){var BN=[];H.each(BL[BM],function(BQ,BP){BN.push([BP,BK])});BO.aaSorting=BN})});Ay("search()",function(BN,BK,BL,BM){var BO=this.context;if(BN===C){return BO.length!==0?BO[0].oPreviousSearch.sSearch:C}return this.iterator("table",function(BP){if(!BP.oFeatures.bFilter){return}AZ(BP,H.extend({},BP.oPreviousSearch,{"sSearch":BN+"","bRegex":BK===null?false:BK,"bSmart":BL===null?true:BL,"bCaseInsensitive":BM===null?true:BM}),1)})});Ay(["columns().search()","column().search()"],function(BN,BK,BL,BM){return this.iterator("column",function(BP,BQ){var BO=BP.aoPreSearchCols;if(BN===C){return BO[BQ].sSearch}if(!BP.oFeatures.bFilter){return}H.extend(BO[BQ],{"sSearch":BN+"","bRegex":BK===null?false:BK,"bSmart":BL===null?true:BL,"bCaseInsensitive":BM===null?true:BM});AZ(BP,BP.oPreviousSearch,1)})});w.versionCheck=w.fnVersionCheck=function(BQ){var BL=w.version.split(".");var BO=BQ.split(".");var BN,BK;for(var BM=0,BP=BO.length;BM<BP;BM++){BN=parseInt(BL[BM],10)||0;BK=parseInt(BO[BM],10)||0;if(BN===BK){continue}return BN>BK}return true};w.isDataTable=w.fnIsDataTable=function(BM){var BL=H(BM).get(0);var BK=false;H.each(w.settings,function(BN,BO){if(BO.nTable===BL||BO.nScrollHead===BL||BO.nScrollFoot===BL){BK=true}});return BK};w.tables=w.fnTables=function(BK){return jQuery.map(w.settings,function(BL){if(!BK||(BK&&H(BL.nTable).is(":visible"))){return BL.nTable}})};w.camelToHungarian=AR;Ay("$()",function(BN,BK){var BM=this.rows(BK).nodes(),BL=H(BM);return H([].concat(BL.filter(BN).toArray(),BL.find(BN).toArray()))});H.each(["on","one","off"],function(BL,BK){Ay(BK+"()",function(){var BN=Array.prototype.slice.call(arguments);if(BN[0].indexOf(".dt")===-1){BN[0]+=".dt"}var BM=H(this.tables().nodes());BM[BK].apply(BM,BN);return this})});Ay("clear()",function(){return this.iterator("table",function(BK){V(BK)})});Ay("settings()",function(){return new AT(this.context,this.context)});Ay("data()",function(){return this.iterator("table",function(BK){return h(BK.aoData,"_aData")}).flatten()});Ay("destroy()",function(BK){BK=BK||false;return this.iterator("table",function(BM){var BY=BM.nTableWrapper.parentNode;var BO=BM.oClasses;var BT=BM.nTable;var BV=BM.nTBody;var BS=BM.nTHead;var BR=BM.nTFoot;var BN=H(BT);var BU=H(BV);var BW=H(BM.nTableWrapper);var BQ=H.map(BM.aoData,function(BZ){return BZ.nTr});var BX,BL;BM.bDestroying=true;BD(BM,"aoDestroyCallback","destroy",[BM]);if(!BK){new AT(BM).columns().visible(true)}BW.unbind(".DT").find(":not(tbody *)").unbind(".DT");H(A).unbind(".DT-"+BM.sInstance);if(BT!=BS.parentNode){BN.children("thead").remove();BN.append(BS)}if(BR&&BT!=BR.parentNode){BN.children("tfoot").remove();BN.append(BR)}BN.remove();BW.remove();BM.aaSorting=[];BM.aaSortingFixed=[];AU(BM);H(BQ).removeClass(BM.asStripeClasses.join(" "));H("th, td",BS).removeClass(BO.sSortable+" "+BO.sSortableAsc+" "+BO.sSortableDesc+" "+BO.sSortableNone);if(BM.bJUI){H("th span."+BO.sSortIcon+", td span."+BO.sSortIcon,BS).remove();H("th, td",BS).each(function(){var BZ=H("div."+BO.sSortJUIWrapper,this);H(this).append(BZ.contents());BZ.remove()})}if(!BK){BY.insertBefore(BT,BM.nTableReinsertBefore)}BU.children().detach();BU.append(BQ);BN.css("width",BM.sDestroyWidth).removeClass(BO.sTable);BL=BM.asDestroyStripes.length;if(BL){BU.children().each(function(BZ){H(this).addClass(BM.asDestroyStripes[BZ%BL])})}var BP=H.inArray(BM,w.settings);if(BP!==-1){w.settings.splice(BP,1)}})});w.version="1.10.0-beta.2";w.settings=[];w.models={};w.models.oSearch={"bCaseInsensitive":true,"sSearch":"","bRegex":false,"bSmart":true};w.models.oRow={"nTr":null,"anCells":null,"_aData":[],"_aSortData":null,"_aFilterData":null,"_sFilterRow":null,"_sRowStripe":"","src":null};w.models.oColumn={"idx":null,"aDataSort":null,"asSorting":null,"bSearchable":null,"bSortable":null,"bVisible":null,"_sManualType":null,"_bAttrSrc":false,"fnCreatedCell":null,"fnGetData":null,"fnSetData":null,"mData":null,"mRender":null,"nTh":null,"nTf":null,"sClass":null,"sContentPadding":null,"sDefaultContent":null,"sName":null,"sSortDataType":"std","sSortingClass":null,"sSortingClassJUI":null,"sTitle":null,"sType":null,"sWidth":null,"sWidthOrig":null};w.defaults={"aaData":null,"aaSorting":[[0,"asc"]],"aaSortingFixed":[],"ajax":null,"aLengthMenu":[10,25,50,100],"aoColumns":null,"aoColumnDefs":null,"aoSearchCols":[],"asStripeClasses":null,"bAutoWidth":true,"bDeferRender":false,"bDestroy":false,"bFilter":true,"bInfo":true,"bJQueryUI":false,"bLengthChange":true,"bPaginate":true,"bProcessing":false,"bRetrieve":false,"bScrollCollapse":false,"bServerSide":false,"bSort":true,"bSortMulti":true,"bSortCellsTop":false,"bSortClasses":true,"bStateSave":false,"fnCreatedRow":null,"fnDrawCallback":null,"fnFooterCallback":null,"fnFormatNumber":function(BK){return BK.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},"fnHeaderCallback":null,"fnInfoCallback":null,"fnInitComplete":null,"fnPreDrawCallback":null,"fnRowCallback":null,"fnServerData":null,"fnServerParams":null,"fnStateLoadCallback":function(BL){try{return JSON.parse(localStorage.getItem("DataTables_"+BL.sInstance+"_"+A.location.pathname))}catch(BK){}},"fnStateLoadParams":null,"fnStateLoaded":null,"fnStateSaveCallback":function(BL,BM){try{localStorage.setItem("DataTables_"+BL.sInstance+"_"+A.location.pathname,JSON.stringify(BM))}catch(BK){}},"fnStateSaveParams":null,"iStateDuration":7200,"iDeferLoading":null,"iDisplayLength":10,"iDisplayStart":0,"iTabIndex":0,"oClasses":{},"oLanguage":{"oAria":{"sSortAscending":": activate to sort column ascending","sSortDescending":": activate to sort column descending"},"oPaginate":{"sFirst":"First","sLast":"Last","sNext":"Next","sPrevious":"Previous"},"sEmptyTable":"No data available in table","sInfo":"Showing _START_ to _END_ of _TOTAL_ entries","sInfoEmpty":"Showing 0 to 0 of 0 entries","sInfoFiltered":"(filtered from _MAX_ total entries)","sInfoPostFix":"","sDecimal":"","sThousands":",","sLengthMenu":"Show _MENU_ entries","sLoadingRecords":"Loading...","sProcessing":"Processing...","sSearch":"Search:","sUrl":"","sZeroRecords":"No matching records found"},"oSearch":H.extend({},w.models.oSearch),"sAjaxDataProp":"data","sAjaxSource":null,"sDom":"lfrtip","sPaginationType":"simple_numbers","sScrollX":"","sScrollXInner":"","sScrollY":"","sServerMethod":"GET","renderer":null};BI(w.defaults);w.defaults.column={"aDataSort":null,"iDataSort":-1,"asSorting":["asc","desc"],"bSearchable":true,"bSortable":true,"bVisible":true,"fnCreatedCell":null,"mData":null,"mRender":null,"sCellType":"td","sClass":"","sContentPadding":"","sDefaultContent":null,"sName":"","sSortDataType":"std","sTitle":null,"sType":null,"sWidth":null};BI(w.defaults.column);w.models.oSettings={"oFeatures":{"bAutoWidth":null,"bDeferRender":null,"bFilter":null,"bInfo":null,"bLengthChange":null,"bPaginate":null,"bProcessing":null,"bServerSide":null,"bSort":null,"bSortMulti":null,"bSortClasses":null,"bStateSave":null},"oScroll":{"bCollapse":null,"iBarWidth":0,"sX":null,"sXInner":null,"sY":null},"oLanguage":{"fnInfoCallback":null},"oBrowser":{"bScrollOversize":false,"bScrollbarLeft":false},"ajax":null,"aanFeatures":[],"aoData":[],"aiDisplay":[],"aiDisplayMaster":[],"aoColumns":[],"aoHeader":[],"aoFooter":[],"oPreviousSearch":{},"aoPreSearchCols":[],"aaSorting":null,"aaSortingFixed":[],"asStripeClasses":null,"asDestroyStripes":[],"sDestroyWidth":0,"aoRowCallback":[],"aoHeaderCallback":[],"aoFooterCallback":[],"aoDrawCallback":[],"aoRowCreatedCallback":[],"aoPreDrawCallback":[],"aoInitComplete":[],"aoStateSaveParams":[],"aoStateLoadParams":[],"aoStateLoaded":[],"sTableId":"","nTable":null,"nTHead":null,"nTFoot":null,"nTBody":null,"nTableWrapper":null,"bDeferLoading":false,"bInitialised":false,"aoOpenRows":[],"sDom":null,"sPaginationType":"two_button","iStateDuration":0,"aoStateSave":[],"aoStateLoad":[],"oLoadedState":null,"sAjaxSource":null,"sAjaxDataProp":null,"bAjaxDataGet":true,"jqXHR":null,"json":C,"fnServerData":null,"aoServerParams":[],"sServerMethod":null,"fnFormatNumber":null,"aLengthMenu":null,"iDraw":0,"bDrawing":false,"iDrawError":-1,"_iDisplayLength":10,"_iDisplayStart":0,"_iRecordsTotal":0,"_iRecordsDisplay":0,"bJUI":null,"oClasses":{},"bFiltered":false,"bSorted":false,"bSortCellsTop":null,"oInit":null,"aoDestroyCallback":[],"fnRecordsTotal":function(){return Aj(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},"fnRecordsDisplay":function(){return Aj(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},"fnDisplayEnd":function(){var BO=this._iDisplayLength,BP=this._iDisplayStart,BM=BP+BO,BL=this.aiDisplay.length,BK=this.oFeatures,BN=BK.bPaginate;if(BK.bServerSide){return BN===false||BO===-1?BP+BL:Math.min(BP+BO,this._iRecordsDisplay)}else{return !BN||BM>BL||BO===-1?BL:BM}},"oInstance":null,"sInstance":null,"iTabIndex":0,"nScrollHead":null,"nScrollFoot":null,"aLastSort":[],"oPlugins":{}};w.ext=K={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:w.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:w.version};H.extend(K,{afnFiltering:K.search,aTypes:K.type.detect,ofnSearch:K.type.search,oSort:K.type.order,afnSortData:K.order,aoFeatures:K.feature,oApi:K.internal,oStdClasses:K.classes,oPagination:K.pager});H.extend(w.ext.classes,{"sTable":"dataTable","sNoFooter":"no-footer","sPageButton":"paginate_button","sPageButtonActive":"current","sPageButtonDisabled":"disabled","sStripeOdd":"odd","sStripeEven":"even","sRowEmpty":"dataTables_empty","sWrapper":"dataTables_wrapper","sFilter":"dataTables_filter","sInfo":"dataTables_info","sPaging":"dataTables_paginate paging_","sLength":"dataTables_length","sProcessing":"dataTables_processing","sSortAsc":"sorting_asc","sSortDesc":"sorting_desc","sSortable":"sorting","sSortableAsc":"sorting_asc_disabled","sSortableDesc":"sorting_desc_disabled","sSortableNone":"sorting_disabled","sSortColumn":"sorting_","sFilterInput":"","sLengthSelect":"","sScrollWrapper":"dataTables_scroll","sScrollHead":"dataTables_scrollHead","sScrollHeadInner":"dataTables_scrollHeadInner","sScrollBody":"dataTables_scrollBody","sScrollFoot":"dataTables_scrollFoot","sScrollFootInner":"dataTables_scrollFootInner","sHeaderTH":"","sFooterTH":"","sSortJUIAsc":"","sSortJUIDesc":"","sSortJUI":"","sSortJUIAscAllowed":"","sSortJUIDescAllowed":"","sSortJUIWrapper":"","sSortIcon":"","sJUIHeader":"","sJUIFooter":""});(function(){var BK="";BK="";var BM=BK+"ui-state-default";var BL=BK+"css_right ui-icon ui-icon-";var BN=BK+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";H.extend(w.ext.oJUIClasses,w.ext.classes,{"sPageButton":"fg-button ui-button "+BM,"sPageButtonActive":"ui-state-disabled","sPageButtonDisabled":"ui-state-disabled","sPaging":"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_","sSortAsc":BM+" sorting_asc","sSortDesc":BM+" sorting_desc","sSortable":BM+" sorting","sSortableAsc":BM+" sorting_asc_disabled","sSortableDesc":BM+" sorting_desc_disabled","sSortableNone":BM+" sorting_disabled","sSortJUIAsc":BL+"triangle-1-n","sSortJUIDesc":BL+"triangle-1-s","sSortJUI":BL+"carat-2-n-s","sSortJUIAscAllowed":BL+"carat-1-n","sSortJUIDescAllowed":BL+"carat-1-s","sSortJUIWrapper":"DataTables_sort_wrapper","sSortIcon":"DataTables_sort_icon","sScrollHead":"dataTables_scrollHead "+BM,"sScrollFoot":"dataTables_scrollFoot "+BM,"sHeaderTH":BM,"sFooterTH":BM,"sJUIHeader":BN+" ui-corner-tl ui-corner-tr","sJUIFooter":BN+" ui-corner-bl ui-corner-br"})}());var c=w.ext.pager;function l(BP,BM){var BN=[],BO=c.numbers_length,BL=Math.floor(BO/2),BK=1;if(BM<=BO){BN=A0(0,BM)}else{if(BP<=BL){BN=A0(0,BO-2);BN.push("ellipsis");BN.push(BM-1)}else{if(BP>=BM-1-BL){BN=A0(BM-(BO-2),BM);BN.splice(0,0,"ellipsis");BN.splice(0,0,0)}else{BN=A0(BP-1,BP+2);BN.push("ellipsis");BN.push(BM-1);BN.splice(0,0,"ellipsis");BN.splice(0,0,0)}}}BN.DT_el="span";return BN}H.extend(c,{simple:function(BL,BK){return["previous","next"]},full:function(BL,BK){return["first","previous","next","last"]},simple_numbers:function(BL,BK){return["previous",l(BL,BK),"next"]},full_numbers:function(BL,BK){return["first","previous",l(BL,BK),"next","last"]},_numbers:l,numbers_length:7});H.extend(true,w.ext.renderer,{pageButton:{_:function(BL,BT,BQ,BU,BO,BR){var BP=BL.oClasses;var BN=BL.oLanguage.oPaginate;var BM,BK;var BS=function(B1,B2){var B0,BV,BZ,BY;var BX=function(B3){Bg(BL,B3.data.action,true)};for(B0=0,BV=B2.length;B0<BV;B0++){BY=B2[B0];if(H.isArray(BY)){var BW=H("<"+(BY.DT_el||"div")+"/>").appendTo(B1);BS(BW,BY)}else{BM="";BK="";switch(BY){case"ellipsis":B1.append("<span>&hellip;</span>");break;case"first":BM=BN.sFirst;BK=BY+(BO>0?"":" "+BP.sPageButtonDisabled);break;case"previous":BM=BN.sPrevious;BK=BY+(BO>0?"":" "+BP.sPageButtonDisabled);break;case"next":BM=BN.sNext;BK=BY+(BO<BR-1?"":" "+BP.sPageButtonDisabled);break;case"last":BM=BN.sLast;BK=BY+(BO<BR-1?"":" "+BP.sPageButtonDisabled);break;default:BM=BY+1;BK=BO===BY?BP.sPageButtonActive:"";break}if(BM){BZ=H("<a>",{"class":BP.sPageButton+" "+BK,"aria-controls":BL.sTableId,"tabindex":BL.iTabIndex,"id":BQ===0&&typeof BY==="string"?BL.sTableId+"_"+BY:null}).html(BM).appendTo(B1);P(BZ,{action:BY},BX)}}}};BS(H(BT).empty(),BU)}}});var A4=function(BL,BK,BN,BM){if(!BL||BL==="-"){return -Infinity}if(BK){BL=W(BL,BK)}if(BL.replace){if(BN){BL=BL.replace(BN,"")}if(BM){BL=BL.replace(BM,"")}}return BL*1};function As(BK){H.each({"num":function(BL){return A4(BL,BK)},"num-fmt":function(BL){return A4(BL,BK,X)},"html-num":function(BL){return A4(BL,BK,z)},"html-num-fmt":function(BL){return A4(BL,BK,z,X)}},function(BL,BM){K.type.order[BL+BK+"-pre"]=BM})}H.extend(K.type.order,{"date-pre":function(BK){return Date.parse(BK)||0},"html-pre":function(BK){return BK.replace?BK.replace(/<.*?>/g,"").toLowerCase():BK+""},"string-pre":function(BK){return typeof BK==="string"?BK.toLowerCase():!BK||!BK.toString?"":BK.toString()},"string-asc":function(BK,BL){return((BK<BL)?-1:((BK>BL)?1:0))},"string-desc":function(BK,BL){return((BK<BL)?1:((BK>BL)?-1:0))}});As("");H.extend(w.ext.type.detect,[function(BK,BL){var BM=BL.oLanguage.sDecimal;return Bo(BK,BM)?"num"+BM:null},function(BK,BL){if(BK&&!AA.test(BK)){return null}var BM=Date.parse(BK);return(BM!==null&&!isNaN(BM))||Ar(BK)?"date":null},function(BK,BL){var BM=BL.oLanguage.sDecimal;return Bo(BK,BM,true)?"num-fmt"+BM:null},function(BK,BL){var BM=BL.oLanguage.sDecimal;return Aq(BK,BM)?"html-num"+BM:null},function(BK,BL){var BM=BL.oLanguage.sDecimal;return Aq(BK,BM,true)?"html-num-fmt"+BM:null},function(BK,BL){return Ar(BK)||(typeof BK==="string"&&BK.indexOf("<")!==-1)?"html":null}]);H.extend(w.ext.type.search,{html:function(BK){return Ar(BK)?"":typeof BK==="string"?BK.replace(Au," ").replace(z,""):""},string:function(BK){return Ar(BK)?"":typeof BK==="string"?BK.replace(Au," "):BK}});H.extend(true,w.ext.renderer,{header:{_:function(BL,BM,BN,BK){H(BL.nTable).on("order.dt",function(BQ,BR,BP,BS){var BO=BN.idx;BM.removeClass(BN.sSortingClass+" "+BK.sSortAsc+" "+BK.sSortDesc).addClass(BS[BO]=="asc"?BK.sSortAsc:BS[BO]=="desc"?BK.sSortDesc:BN.sSortingClass)})},jqueryui:function(BM,BN,BO,BL){var BK=BO.idx;H("<div/>").addClass(BL.sSortJUIWrapper).append(BN.contents()).append(H("<span/>").addClass(BL.sSortIcon+" "+BO.sSortingClassJUI)).appendTo(BN);H(BM.nTable).on("order.dt",function(BQ,BR,BP,BS){BN.removeClass(BL.sSortAsc+" "+BL.sSortDesc).addClass(BS[BK]=="asc"?BL.sSortAsc:BS[BK]=="desc"?BL.sSortDesc:BO.sSortingClass);BN.find("span").removeClass(BL.sSortJUIAsc+" "+BL.sSortJUIDesc+" "+BL.sSortJUI+" "+BL.sSortJUIAscAllowed+" "+BL.sSortJUIDescAllowed).addClass(BS[BK]=="asc"?BL.sSortJUIAsc:BS[BK]=="desc"?BL.sSortJUIDesc:BO.sSortingClassJUI)})}}});function k(BK){return function(){var BL=[Am(this[w.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return w.ext.internal[BK].apply(this,BL)}}H.extend(w.ext.internal,{_fnExternApiFunc:k,_fnBuildAjax:AF,_fnAjaxUpdate:i,_fnAjaxParameters:AX,_fnAjaxUpdateDraw:b,_fnAjaxDataSrc:D,_fnAddColumn:AD,_fnColumnOptions:AL,_fnAdjustColumnSizing:Y,_fnVisibleToColumnIndex:Bf,_fnColumnIndexToVisible:Aw,_fnVisbleColumns:Ad,_fnGetColumns:S,_fnColumnTypes:r,_fnApplyColumnDefs:Q,_fnHungarianMap:BI,_fnCamelToHungarian:AR,_fnLanguageCompat:M,_fnBrowserDetect:A2,_fnAddData:BC,_fnAddTr:A3,_fnNodeToDataIndex:Bs,_fnNodeToColumnIndex:Bd,_fnGetRowData:BJ,_fnGetCellData:U,_fnSetCellData:N,_fnSplitObjNotation:Bq,_fnGetObjectDataFn:Bc,_fnSetObjectDataFn:Bl,_fnGetDataMaster:s,_fnClearTable:V,_fnDeleteIndex:Bh,_fnInvalidateRow:G,_fnGetRowElements:BB,_fnCreateTr:Bz,_fnBuildHead:Ax,_fnDrawHead:o,_fnDraw:BG,_fnReDraw:Bu,_fnAddOptionsHtml:AE,_fnDetectHeader:d,_fnGetUniqueThs:Af,_fnFeatureHtmlFilter:AQ,_fnFilterComplete:AZ,_fnFilterCustom:J,_fnFilterColumn:BA,_fnFilter:u,_fnFilterCreateSearch:Ae,_fnEscapeRegex:Bk,_fnFilterData:BE,_fnFeatureHtmlInfo:L,_fnUpdateInfo:Ac,_fnInfoMacros:Aa,_fnInitialise:AG,_fnInitComplete:AW,_fnLengthChange:BH,_fnFeatureHtmlLength:I,_fnFeatureHtmlPaginate:At,_fnPageChange:Bg,_fnFeatureHtmlProcessing:By,_fnProcessingDisplay:j,_fnFeatureHtmlTable:AS,_fnScrollDraw:AY,_fnApplyToChildren:Br,_fnCalculateColumnWidths:Al,_fnThrottle:A6,_fnConvertToWidth:An,_fnScrollingWidthAdjust:AC,_fnGetWidestNode:AH,_fnGetMaxLenString:AO,_fnStringToCss:Ap,_fnScrollBarWidth:Ak,_fnSortFlatten:O,_fnSort:f,_fnSortAria:AJ,_fnSortListener:T,_fnSortAttachListener:AM,_fnSortingClasses:AU,_fnSortData:AN,_fnSaveState:Av,_fnLoadState:Bj,_fnSettingsFromNode:Am,_fnLog:v,_fnMap:A8,_fnBindAction:P,_fnCallbackReg:Bb,_fnCallbackFire:BD,_fnLengthOverflow:Bp,_fnRenderer:n,_fnDataSource:Aj,_fnRowAttributes:AV,_fnCalculateEnd:function(){}});H.fn.dataTable=w;H.fn.dataTableSettings=w.settings;H.fn.dataTableExt=w.ext;H.fn.DataTable=function(BK){return H(this).dataTable(BK).api()};H.each(w,function(BK,BL){H.fn.DataTable[BK]=BL});return H.fn.dataTable}))}(window,document));$.extend(true,$.fn.dataTable.defaults,{"sDom":"<'table-header clearfix'<'table-caption'><'DT-lf-right'<'DT-per-page'l><'DT-search'f>>r>t<'table-footer clearfix'<'DT-label'i><'DT-pagination'p>>","oLanguage":{"sLengthMenu":"Per page: _MENU_","sSearch":""}});$.extend($.fn.dataTableExt.oStdClasses,{"sWrapper":"dataTables_wrapper form-inline","sFilterInput":"form-control input-sm","sLengthSelect":"form-control input-sm"});if($.fn.dataTable.Api){$.fn.dataTable.defaults.renderer="bootstrap";$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(B,J,G,L,E,H){var K=new $.fn.dataTable.Api(B);var F=B.oClasses;var D=B.oLanguage.oPaginate;var C,A;var I=function(P,R){var N,M,O,Q;var S=function(T){T.preventDefault();if(T.data.action!=="ellipsis"){K.page(T.data.action).draw(false)}};for(N=0,M=R.length;N<M;N++){Q=R[N];if($.isArray(Q)){I(P,Q)}else{C="";A="";switch(Q){case"ellipsis":C="&hellip;";A="disabled";break;case"first":C=D.sFirst;A=Q+(E>0?"":" disabled");break;case"previous":C=D.sPrevious;A=Q+(E>0?"":" disabled");break;case"next":C=D.sNext;A=Q+(E<H-1?"":" disabled");break;case"last":C=D.sLast;A=Q+(E<H-1?"":" disabled");break;default:C=Q+1;A=E===Q?"active":"";break}if(C){O=$("<li>",{"class":F.sPageButton+" "+A,"aria-controls":B.sTableId,"tabindex":B.iTabIndex,"id":G===0&&typeof Q==="string"?B.sTableId+"_"+Q:null}).append($("<a>",{"href":"#"}).html(C)).appendTo(P);B.oApi._fnBindAction(O,{action:Q},S)}}}};I($(J).empty().html('<ul class="pagination"/>').children("ul"),L)}}else{$.fn.dataTable.defaults.sPaginationType="bootstrap";$.fn.dataTableExt.oApi.fnPagingInfo=function(A){return{"iStart":A._iDisplayStart,"iEnd":A.fnDisplayEnd(),"iLength":A._iDisplayLength,"iTotal":A.fnRecordsTotal(),"iFilteredTotal":A.fnRecordsDisplay(),"iPage":A._iDisplayLength===-1?0:Math.ceil(A._iDisplayStart/A._iDisplayLength),"iTotalPages":A._iDisplayLength===-1?0:Math.ceil(A.fnRecordsDisplay()/A._iDisplayLength)}};$.extend($.fn.dataTableExt.oPagination,{"bootstrap":{"fnInit":function(C,B,A){var F=C.oLanguage.oPaginate;var D=function(G){G.preventDefault();if(C.oApi._fnPageChange(C,G.data.action)){A(C)}};$(B).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+F.sPrevious+'</a></li><li class="next disabled"><a href="#">'+F.sNext+" &rarr; </a></li></ul>");var E=$("a",B);$(E[0]).bind("click.DT",{action:"previous"},D);$(E[1]).bind("click.DT",{action:"next"},D)},"fnUpdate":function(I,C){var H=5;var D=I.oInstance.fnPagingInfo();var J=I.aanFeatures.p;var K,A,F,G,B,L,E=Math.floor(H/2);if(D.iTotalPages<H){B=1;L=D.iTotalPages}else{if(D.iPage<=E){B=1;L=H}else{if(D.iPage>=(D.iTotalPages-E)){B=D.iTotalPages-H+1;L=D.iTotalPages}else{B=D.iPage-E+1;L=B+H-1}}}for(K=0,A=J.length;K<A;K++){$("li:gt(0)",J[K]).filter(":not(:last)").remove();for(F=B;F<=L;F++){G=(F==D.iPage+1)?'class="active"':"";$("<li "+G+'><a href="#">'+F+"</a></li>").insertBefore($("li:last",J[K])[0]).bind("click",function(M){M.preventDefault();I._iDisplayStart=(parseInt($("a",this).text(),10)-1)*D.iLength;C(I)})}if(D.iPage===0){$("li:first",J[K]).addClass("disabled")}else{$("li:first",J[K]).removeClass("disabled")}if(D.iPage===D.iTotalPages-1||D.iTotalPages===0){$("li:last",J[K]).addClass("disabled")}else{$("li:last",J[K]).removeClass("disabled")}}}}})}if($.fn.DataTable.TableTools){$.extend(true,$.fn.DataTable.TableTools.classes,{"container":"DTTT btn-group","buttons":{"normal":"btn btn-default","disabled":"disabled"},"collection":{"container":"DTTT_dropdown dropdown-menu","buttons":{"normal":"","disabled":"disabled"}},"print":{"info":"DTTT_print_info modal"},"select":{"row":"active"}});$.extend(true,$.fn.DataTable.TableTools.DEFAULTS.oTags,{"collection":{"container":"ul","button":"li","liner":"a"}})}function Emitter(A){if(A){return mixin(A)}}function mixin(B){for(var A in Emitter.prototype){B[A]=Emitter.prototype[A]}return B}Emitter.prototype.on=function(B,A){this._callbacks=this._callbacks||{};(this._callbacks[B]=this._callbacks[B]||[]).push(A);return this};Emitter.prototype.once=function(C,B){var A=this;this._callbacks=this._callbacks||{};function D(){A.off(C,D);B.apply(this,arguments)}B._off=D;this.on(C,D);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(C,B){this._callbacks=this._callbacks||{};var D=this._callbacks[C];if(!D){return this}if(1==arguments.length){delete this._callbacks[C];return this}var A=D.indexOf(B._off||B);if(~A){D.splice(A,1)}return this};Emitter.prototype.emit=function(C){this._callbacks=this._callbacks||{};var E=[].slice.call(arguments,1),B=this._callbacks[C];if(B){B=B.slice(0);for(var A=0,D=B.length;A<D;++A){B[A].apply(this,E)}}return this};Emitter.prototype.listeners=function(A){this._callbacks=this._callbacks||{};return this._callbacks[A]||[]};Emitter.prototype.hasListeners=function(A){return !!this.listeners(A).length};(function(){var A,D,B,E,G,C,I,J,F={}.hasOwnProperty,K=function(M,N){for(var L in N){if(F.call(N,L)){M[L]=N[L]}}function O(){this.constructor=M}O.prototype=N.prototype;M.prototype=new O();M.__super__=N.prototype;return M},H=[].slice;D=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:require("emitter");I=function(){};A=(function(M){var N;K(L,M);L.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"];L.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(P,O){return O()},init:function(){return I},forceFallback:false,fallback:function(){var P,S,O,R,T,Q;this.element.className=""+this.element.className+" dz-browser-not-supported";Q=this.element.getElementsByTagName("div");for(R=0,T=Q.length;R<T;R++){P=Q[R];if(/(^| )dz-message($| )/.test(P.className)){S=P;P.className="dz-message";continue}}if(!S){S=L.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(S)}O=S.getElementsByTagName("span")[0];if(O){O.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(R){var Q,O,P;Q={srcX:0,srcY:0,srcWidth:R.width,srcHeight:R.height};O=R.width/R.height;P=this.options.thumbnailWidth/this.options.thumbnailHeight;if(R.height<this.options.thumbnailHeight||R.width<this.options.thumbnailWidth){Q.trgHeight=Q.srcHeight;Q.trgWidth=Q.srcWidth}else{if(O>P){Q.srcHeight=R.height;Q.srcWidth=Q.srcHeight*P}else{Q.srcWidth=R.width;Q.srcHeight=Q.srcWidth/P}}Q.srcX=(R.width-Q.srcWidth)/2;Q.srcY=(R.height-Q.srcHeight)/2;return Q},drop:function(O){return this.element.classList.remove("dz-drag-hover")},dragstart:I,dragend:function(O){return this.element.classList.remove("dz-drag-hover")},dragenter:function(O){return this.element.classList.add("dz-drag-hover")},dragover:function(O){return this.element.classList.add("dz-drag-hover")},dragleave:function(O){return this.element.classList.remove("dz-drag-hover")},paste:I,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(W){var X,O,Q,c,U,S,R,P,V,d,T,Y,Z,b=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}W.previewElement=L.createElement(this.options.previewTemplate.trim());W.previewTemplate=W.previewElement;this.previewsContainer.appendChild(W.previewElement);d=W.previewElement.querySelectorAll("[data-dz-name]");for(c=0,R=d.length;c<R;c++){X=d[c];X.textContent=W.name}T=W.previewElement.querySelectorAll("[data-dz-size]");for(U=0,P=T.length;U<P;U++){X=T[U];X.innerHTML=this.filesize(W.size)}if(this.options.addRemoveLinks){W._removeLink=L.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");W.previewElement.appendChild(W._removeLink)}O=function(f){f.preventDefault();f.stopPropagation();if(W.status===L.UPLOADING){return L.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(W)})}else{if(b.options.dictRemoveFileConfirmation){return L.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(W)})}else{return b.removeFile(W)}}};Y=W.previewElement.querySelectorAll("[data-dz-remove]");Z=[];for(S=0,V=Y.length;S<V;S++){Q=Y[S];Z.push(Q.addEventListener("click",O))}return Z},removedfile:function(P){var O;if((O=P.previewElement)!=null){O.parentNode.removeChild(P.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(T,Q){var O,S,U,R,P;T.previewElement.classList.remove("dz-file-preview");T.previewElement.classList.add("dz-image-preview");R=T.previewElement.querySelectorAll("[data-dz-thumbnail]");P=[];for(S=0,U=R.length;S<U;S++){O=R[S];O.alt=T.name;P.push(O.src=Q)}return P},error:function(T,O){var Q,P,U,R,S;T.previewElement.classList.add("dz-error");if(typeof O!=="String"&&O.error){O=O.error}R=T.previewElement.querySelectorAll("[data-dz-errormessage]");S=[];for(P=0,U=R.length;P<U;P++){Q=R[P];S.push(Q.textContent=O)}return S},errormultiple:I,processing:function(O){O.previewElement.classList.add("dz-processing");if(O._removeLink){return O._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:I,uploadprogress:function(S,V,U){var T,Q,P,O,R;O=S.previewElement.querySelectorAll("[data-dz-uploadprogress]");R=[];for(Q=0,P=O.length;Q<P;Q++){T=O[Q];R.push(T.style.width=""+V+"%")}return R},totaluploadprogress:I,sending:I,sendingmultiple:I,success:function(O){return O.previewElement.classList.add("dz-success")},successmultiple:I,canceled:function(O){return this.emit("error",O,"Upload canceled.")},canceledmultiple:I,complete:function(O){if(O._removeLink){return O._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:I,maxfilesexceeded:I,maxfilesreached:I,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span></span></div>\n  <div class="dz-error-mark"><span></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};N=function(){var P,S,O,T,R,Q,U;T=arguments[0],O=2<=arguments.length?H.call(arguments,1):[];for(Q=0,U=O.length;Q<U;Q++){S=O[Q];for(P in S){R=S[P];T[P]=R}}return T};function L(R,P){var Q,O,S;this.element=R;this.version=L.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}L.instances.push(this);this.element.dropzone=this;Q=(S=L.optionsForElement(this.element))!=null?S:{};this.options=N({},this.defaultOptions,Q,P!=null?P:{});if(this.options.forceFallback||!L.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((O=this.getExistingFallback())&&O.parentNode){O.parentNode.removeChild(O)}if(this.options.previewsContainer){this.previewsContainer=L.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=L.getElements(this.options.clickable,"clickable")}}this.init()}L.prototype.getAcceptedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.accepted){O.push(R)}}return O};L.prototype.getRejectedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(!R.accepted){O.push(R)}}return O};L.prototype.getQueuedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.status===L.QUEUED){O.push(R)}}return O};L.prototype.getUploadingFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.status===L.UPLOADING){O.push(R)}}return O};L.prototype.init=function(){var R,T,O,V,Q,P,S,U=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(L.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){O=function(){if(U.hiddenFileInput){document.body.removeChild(U.hiddenFileInput)}U.hiddenFileInput=document.createElement("input");U.hiddenFileInput.setAttribute("type","file");if((U.options.maxFiles==null)||U.options.maxFiles>1){U.hiddenFileInput.setAttribute("multiple","multiple")}if(U.options.acceptedFiles!=null){U.hiddenFileInput.setAttribute("accept",U.options.acceptedFiles)}U.hiddenFileInput.style.visibility="hidden";U.hiddenFileInput.style.position="absolute";U.hiddenFileInput.style.top="0";U.hiddenFileInput.style.left="0";U.hiddenFileInput.style.height="0";U.hiddenFileInput.style.width="0";document.body.appendChild(U.hiddenFileInput);return U.hiddenFileInput.addEventListener("change",function(){var Y,X,W,Z;X=U.hiddenFileInput.files;if(X.length){for(W=0,Z=X.length;W<Z;W++){Y=X[W];U.addFile(Y)}}return O()})};O()}this.URL=(P=window.URL)!=null?P:window.webkitURL;S=this.events;for(V=0,Q=S.length;V<Q;V++){R=S[V];this.on(R,this.options[R])}this.on("uploadprogress",function(){return U.updateTotalUploadProgress()});this.on("removedfile",function(){return U.updateTotalUploadProgress()});this.on("canceled",function(W){return U.emit("complete",W)});this.on("complete",function(W){if(U.getUploadingFiles().length===0&&U.getQueuedFiles().length===0){return setTimeout((function(){return U.emit("queuecomplete")}),0)}});T=function(W){W.stopPropagation();if(W.preventDefault){return W.preventDefault()}else{return W.returnValue=false}};this.listeners=[{element:this.element,events:{"dragstart":function(W){return U.emit("dragstart",W)},"dragenter":function(W){T(W);return U.emit("dragenter",W)},"dragover":function(X){var W;try{W=X.dataTransfer.effectAllowed}catch(Y){}X.dataTransfer.dropEffect="move"===W||"linkMove"===W?"move":"copy";T(X);return U.emit("dragover",X)},"dragleave":function(W){return U.emit("dragleave",W)},"drop":function(W){T(W);return U.drop(W)},"dragend":function(W){return U.emit("dragend",W)}}}];this.clickableElements.forEach(function(W){return U.listeners.push({element:W,events:{"click":function(X){if((W!==U.element)||(X.target===U.element||L.elementInside(X.target,U.element.querySelector(".dz-message")))){return U.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};L.prototype.destroy=function(){var O;this.disable();this.removeAllFiles(true);if((O=this.hiddenFileInput)!=null?O.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return L.instances.splice(L.instances.indexOf(this),1)};L.prototype.updateTotalUploadProgress=function(){var U,T,S,R,O,Q,P,V;R=0;S=0;U=this.getAcceptedFiles();if(U.length){V=this.getAcceptedFiles();for(Q=0,P=V.length;Q<P;Q++){T=V[Q];R+=T.upload.bytesSent;S+=T.upload.total}O=100*R/S}else{O=100}return this.emit("totaluploadprogress",O,S,R)};L.prototype.getFallbackForm=function(){var Q,R,O,P;if(Q=this.getExistingFallback()){return Q}O='<div class="dz-fallback">';if(this.options.dictFallbackText){O+="<p>"+this.options.dictFallbackText+"</p>"}O+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';R=L.createElement(O);if(this.element.tagName!=="FORM"){P=L.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');P.appendChild(R)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return P!=null?P:R};L.prototype.getExistingFallback=function(){var O,R,P,Q,T,S;R=function(W){var U,V,X;for(V=0,X=W.length;V<X;V++){U=W[V];if(/(^| )fallback($| )/.test(U.className)){return U}}};S=["div","form"];for(Q=0,T=S.length;Q<T;Q++){P=S[Q];if(O=R(this.element.getElementsByTagName(P))){return O}}};L.prototype.setupEventListeners=function(){var S,T,O,Q,U,R,P;R=this.listeners;P=[];for(Q=0,U=R.length;Q<U;Q++){S=R[Q];P.push((function(){var W,V;W=S.events;V=[];for(T in W){O=W[T];V.push(S.element.addEventListener(T,O,false))}return V})())}return P};L.prototype.removeEventListeners=function(){var S,T,O,Q,U,R,P;R=this.listeners;P=[];for(Q=0,U=R.length;Q<U;Q++){S=R[Q];P.push((function(){var W,V;W=S.events;V=[];for(T in W){O=W[T];V.push(S.element.removeEventListener(T,O,false))}return V})())}return P};L.prototype.disable=function(){var R,P,S,Q,O;this.clickableElements.forEach(function(T){return T.classList.remove("dz-clickable")});this.removeEventListeners();Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];O.push(this.cancelUpload(R))}return O};L.prototype.enable=function(){this.clickableElements.forEach(function(O){return O.classList.add("dz-clickable")});return this.setupEventListeners()};L.prototype.filesize=function(O){var P;if(O>=1024*1024*1024*1024/10){O=O/(1024*1024*1024*1024/10);P="TiB"}else{if(O>=1024*1024*1024/10){O=O/(1024*1024*1024/10);P="GiB"}else{if(O>=1024*1024/10){O=O/(1024*1024/10);P="MiB"}else{if(O>=1024/10){O=O/(1024/10);P="KiB"}else{O=O*10;P="b"}}}}return"<strong>"+(Math.round(O)/10)+"</strong> "+P};L.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};L.prototype.drop=function(O){var Q,P;if(!O.dataTransfer){return}this.emit("drop",O);Q=O.dataTransfer.files;if(Q.length){P=O.dataTransfer.items;if(P&&P.length&&(P[0].webkitGetAsEntry!=null)){this._addFilesFromItems(P)}else{this.handleFiles(Q)}}};L.prototype.paste=function(O){var Q,P;if((O!=null?(P=O.clipboardData)!=null?P.items:void 0:void 0)==null){return}this.emit("paste",O);Q=O.clipboardData.items;if(Q.length){return this._addFilesFromItems(Q)}};L.prototype.handleFiles=function(Q){var R,O,S,P;P=[];for(O=0,S=Q.length;O<S;O++){R=Q[O];P.push(this.addFile(R))}return P};L.prototype._addFilesFromItems=function(S){var R,Q,P,T,O;O=[];for(P=0,T=S.length;P<T;P++){Q=S[P];if((Q.webkitGetAsEntry!=null)&&(R=Q.webkitGetAsEntry())){if(R.isFile){O.push(this.addFile(Q.getAsFile()))}else{if(R.isDirectory){O.push(this._addFilesFromDirectory(R,R.name))}else{O.push(void 0)}}}else{if(Q.getAsFile!=null){if((Q.kind==null)||Q.kind==="file"){O.push(this.addFile(Q.getAsFile()))}else{O.push(void 0)}}else{O.push(void 0)}}}return O};L.prototype._addFilesFromDirectory=function(Q,S){var P,R,O=this;P=Q.createReader();R=function(V){var U,T,W;for(T=0,W=V.length;T<W;T++){U=V[T];if(U.isFile){U.file(function(X){if(O.options.ignoreHiddenFiles&&X.name.substring(0,1)==="."){return}X.fullPath=""+S+"/"+X.name;return O.addFile(X)})}else{if(U.isDirectory){O._addFilesFromDirectory(U,""+S+"/"+U.name)}}}};return P.readEntries(R,function(T){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(T):void 0:void 0})};L.prototype.accept=function(P,O){if(P.size>this.options.maxFilesize*1024*1024){return O(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(P.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!L.isValidFile(P,this.options.acceptedFiles)){return O(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){O(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",P)}else{return this.options.accept.call(this,P,O)}}}};L.prototype.addFile=function(P){var O=this;P.upload={progress:0,total:P.size,bytesSent:0};this.files.push(P);P.status=L.ADDED;this.emit("addedfile",P);this._enqueueThumbnail(P);return this.accept(P,function(Q){if(Q){P.accepted=false;O._errorProcessing([P],Q)}else{O.enqueueFile(P)}return O._updateMaxFilesReachedClass()})};L.prototype.enqueueFiles=function(P){var Q,O,R;for(O=0,R=P.length;O<R;O++){Q=P[O];this.enqueueFile(Q)}return null};L.prototype.enqueueFile=function(P){var O=this;P.accepted=true;if(P.status===L.ADDED){P.status=L.QUEUED;if(this.options.autoProcessQueue){return setTimeout((function(){return O.processQueue()}),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};L.prototype._thumbnailQueue=[];L.prototype._processingThumbnail=false;L.prototype._enqueueThumbnail=function(P){var O=this;if(this.options.createImageThumbnails&&P.type.match(/image.*/)&&P.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(P);return setTimeout((function(){return O._processThumbnailQueue()}),0)}};L.prototype._processThumbnailQueue=function(){var O=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(){O._processingThumbnail=false;return O._processThumbnailQueue()})};L.prototype.removeFile=function(O){if(O.status===L.UPLOADING){this.cancelUpload(O)}this.files=J(this.files,O);this.emit("removedfile",O);if(this.files.length===0){return this.emit("reset")}};L.prototype.removeAllFiles=function(Q){var R,O,S,P;if(Q==null){Q=false}P=this.files.slice();for(O=0,S=P.length;O<S;O++){R=P[O];if(R.status!==L.UPLOADING||Q){this.removeFile(R)}}return null};L.prototype.createThumbnail=function(R,O){var P,Q=this;P=new FileReader;P.onload=function(){var S;S=document.createElement("img");S.onload=function(){var T,X,Z,b,U,V,W,Y;R.width=S.width;R.height=S.height;Z=Q.options.resize.call(Q,R);if(Z.trgWidth==null){Z.trgWidth=Q.options.thumbnailWidth}if(Z.trgHeight==null){Z.trgHeight=Q.options.thumbnailHeight}T=document.createElement("canvas");X=T.getContext("2d");T.width=Z.trgWidth;T.height=Z.trgHeight;C(X,S,(U=Z.srcX)!=null?U:0,(V=Z.srcY)!=null?V:0,Z.srcWidth,Z.srcHeight,(W=Z.trgX)!=null?W:0,(Y=Z.trgY)!=null?Y:0,Z.trgWidth,Z.trgHeight);b=T.toDataURL("image/png");Q.emit("thumbnail",R,b);if(O!=null){return O()}};return S.src=P.result};return P.readAsDataURL(R)};L.prototype.processQueue=function(){var O,P,R,Q;P=this.options.parallelUploads;R=this.getUploadingFiles().length;O=R;if(R>=P){return}Q=this.getQueuedFiles();if(!(Q.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(Q.slice(0,P-R))}else{while(O<P){if(!Q.length){return}this.processFile(Q.shift());O++}}};L.prototype.processFile=function(O){return this.processFiles([O])};L.prototype.processFiles=function(P){var Q,O,R;for(O=0,R=P.length;O<R;O++){Q=P[O];Q.processing=true;Q.status=L.UPLOADING;this.emit("processing",Q)}if(this.options.uploadMultiple){this.emit("processingmultiple",P)}return this.uploadFiles(P)};L.prototype._getFilesWithXhr=function(O){var Q,P;return P=(function(){var S,U,T,R;T=this.files;R=[];for(S=0,U=T.length;S<U;S++){Q=T[S];if(Q.xhr===O){R.push(Q)}}return R}).call(this)};L.prototype.cancelUpload=function(S){var U,T,Q,V,P,R,O;if(S.status===L.UPLOADING){T=this._getFilesWithXhr(S.xhr);for(Q=0,P=T.length;Q<P;Q++){U=T[Q];U.status=L.CANCELED}S.xhr.abort();for(V=0,R=T.length;V<R;V++){U=T[V];this.emit("canceled",U)}if(this.options.uploadMultiple){this.emit("canceledmultiple",T)}}else{if((O=S.status)===L.ADDED||O===L.QUEUED){S.status=L.CANCELED;this.emit("canceled",S);if(this.options.uploadMultiple){this.emit("canceledmultiple",[S])}}}if(this.options.autoProcessQueue){return this.processQueue()}};L.prototype.uploadFile=function(O){return this.uploadFiles([O])};L.prototype.uploadFiles=function(W){var g,X,j,f,m,o,V,c,T,l,v,O,h,P,r,e,Y,q,x,k,d,U,R,Z,b,i,S,s,u,Q,w,n=this;e=new XMLHttpRequest();for(Y=0,d=W.length;Y<d;Y++){g=W[Y];g.xhr=e}e.open(this.options.method,this.options.url,true);e.withCredentials=!!this.options.withCredentials;h=null;j=function(){var y,z,Aa;Aa=[];for(y=0,z=W.length;y<z;y++){g=W[y];Aa.push(n._errorProcessing(W,h||n.options.dictResponseError.replace("{{statusCode}}",e.status),e))}return Aa};P=function(y){var Ah,Ag,Ac,Ab,z,Aa,Ad,Ae,Af;if(y!=null){Ag=100*y.loaded/y.total;for(Ac=0,Aa=W.length;Ac<Aa;Ac++){g=W[Ac];g.upload={progress:Ag,total:y.total,bytesSent:y.loaded}}}else{Ah=true;Ag=100;for(Ab=0,Ad=W.length;Ab<Ad;Ab++){g=W[Ab];if(!(g.upload.progress===100&&g.upload.bytesSent===g.upload.total)){Ah=false}g.upload.progress=Ag;g.upload.bytesSent=g.upload.total}if(Ah){return}}Af=[];for(z=0,Ae=W.length;z<Ae;z++){g=W[z];Af.push(n.emit("uploadprogress",g,Ag,g.upload.bytesSent))}return Af};e.onload=function(z){var Aa;if(W[0].status===L.CANCELED){return}if(e.readyState!==4){return}h=e.responseText;if(e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")){try{h=JSON.parse(h)}catch(y){z=y;h="Invalid JSON response from server."}}P();if(!((200<=(Aa=e.status)&&Aa<300))){return j()}else{return n._finished(W,h,z)}};e.onerror=function(){if(W[0].status===L.CANCELED){return}return j()};O=(S=e.upload)!=null?S:e;O.onprogress=P;o={"Accept":"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){N(o,this.options.headers)}for(f in o){m=o[f];e.setRequestHeader(f,m)}X=new FormData();if(this.options.params){s=this.options.params;for(l in s){r=s[l];X.append(l,r)}}for(q=0,U=W.length;q<U;q++){g=W[q];this.emit("sending",g,e,X)}if(this.options.uploadMultiple){this.emit("sendingmultiple",W,e,X)}if(this.element.tagName==="FORM"){u=this.element.querySelectorAll("input, textarea, select, button");for(x=0,R=u.length;x<R;x++){V=u[x];c=V.getAttribute("name");T=V.getAttribute("type");if(V.tagName==="SELECT"&&V.hasAttribute("multiple")){Q=V.options;for(k=0,Z=Q.length;k<Z;k++){v=Q[k];if(v.selected){X.append(c,v.value)}}}else{if(!T||((w=T.toLowerCase())!=="checkbox"&&w!=="radio")||V.checked){X.append(c,V.value)}}}}for(i=0,b=W.length;i<b;i++){g=W[i];X.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),g,g.name)}return e.send(X)};L.prototype._finished=function(R,P,O){var S,Q,T;for(Q=0,T=R.length;Q<T;Q++){S=R[Q];S.status=L.SUCCESS;this.emit("success",S,P,O);this.emit("complete",S)}if(this.options.uploadMultiple){this.emit("successmultiple",R,P,O);this.emit("completemultiple",R)}if(this.options.autoProcessQueue){return this.processQueue()}};L.prototype._errorProcessing=function(R,S,Q){var O,T,P;for(T=0,P=R.length;T<P;T++){O=R[T];O.status=L.ERROR;this.emit("error",O,S,Q);this.emit("complete",O)}if(this.options.uploadMultiple){this.emit("errormultiple",R,S,Q);this.emit("completemultiple",R)}if(this.options.autoProcessQueue){return this.processQueue()}};return L})(D);A.version="3.8.4";A.options={};A.optionsForElement=function(L){if(L.getAttribute("id")){return A.options[B(L.getAttribute("id"))]}else{return void 0}};A.instances=[];A.forElement=function(L){if(typeof L==="string"){L=document.querySelector(L)}if((L!=null?L.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return L.dropzone};A.autoDiscover=true;A.discover=function(){var Q,L,P,N,O,M;if(document.querySelectorAll){P=document.querySelectorAll(".dropzone")}else{P=[];Q=function(T){var R,S,V,U;U=[];for(S=0,V=T.length;S<V;S++){R=T[S];if(/(^| )dropzone($| )/.test(R.className)){U.push(P.push(R))}else{U.push(void 0)}}return U};Q(document.getElementsByTagName("div"));Q(document.getElementsByTagName("form"))}M=[];for(N=0,O=P.length;N<O;N++){L=P[N];if(A.optionsForElement(L)!==false){M.push(new A(L))}else{M.push(void 0)}}return M};A.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];A.isBrowserSupported=function(){var L,N,M,P,O;L=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){L=false}else{O=A.blacklistedBrowsers;for(M=0,P=O.length;M<P;M++){N=O[M];if(N.test(navigator.userAgent)){L=false;continue}}}}else{L=false}return L};J=function(P,M){var O,N,Q,L;L=[];for(N=0,Q=P.length;N<Q;N++){O=P[N];if(O!==M){L.push(O)}}return L};B=function(L){return L.replace(/[\-_](\w)/g,function(M){return M[1].toUpperCase()})};A.createElement=function(L){var M;M=document.createElement("div");M.innerHTML=L;return M.childNodes[0]};A.elementInside=function(M,L){if(M===L){return true}while(M=M.parentNode){if(M===L){return true}}return false};A.getElement=function(L,M){var N;if(typeof L==="string"){N=document.querySelector(L)}else{if(L.nodeType!=null){N=L}}if(N==null){throw new Error("Invalid `"+M+"` option provided. Please provide a CSS selector or a plain HTML element.")}return N};A.getElements=function(S,N){var L,V,M,R,T,Q,O,P;if(S instanceof Array){M=[];try{for(R=0,Q=S.length;R<Q;R++){V=S[R];M.push(this.getElement(V,N))}}catch(U){L=U;M=null}}else{if(typeof S==="string"){M=[];P=document.querySelectorAll(S);for(T=0,O=P.length;T<O;T++){V=P[T];M.push(V)}}else{if(S.nodeType!=null){M=[S]}}}if(!((M!=null)&&M.length)){throw new Error("Invalid `"+N+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return M};A.confirm=function(N,L,M){if(window.confirm(N)){return L()}else{if(M!=null){return M()}}};A.isValidFile=function(Q,L){var O,M,P,N,R;if(!L){return true}L=L.split(",");M=Q.type;O=M.replace(/\/.*$/,"");for(N=0,R=L.length;N<R;N++){P=L[N];P=P.trim();if(P.charAt(0)==="."){if(Q.name.toLowerCase().indexOf(P.toLowerCase(),Q.name.length-P.length)!==-1){return true}}else{if(/\/\*$/.test(P)){if(O===P.replace(/\/.*$/,"")){return true}}else{if(M===P){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(L){return this.each(function(){return new A(this,L)})}}if(typeof module!=="undefined"&&module!==null){module.exports=A}else{window.Dropzone=A}A.ADDED="added";A.QUEUED="queued";A.ACCEPTED=A.QUEUED;A.UPLOADING="uploading";A.PROCESSING=A.UPLOADING;A.CANCELED="canceled";A.ERROR="error";A.SUCCESS="success";G=function(M){var P,L,Q,O,S,N,R,U,V,T;R=M.naturalWidth;N=M.naturalHeight;L=document.createElement("canvas");L.width=1;L.height=N;Q=L.getContext("2d");Q.drawImage(M,0,0);O=Q.getImageData(0,0,1,N).data;T=0;S=N;U=N;while(U>T){P=O[(U-1)*4+3];if(P===0){S=U}else{T=U}U=(S+T)>>1}V=U/N;if(V===0){return 1}else{return V}};C=function(P,M,U,R,N,T,S,Q,L,O){var V;V=G(M);return P.drawImage(M,U,R,N,T,S,Q,L,O/V)};E=function(V,R){var T,S,L,P,Q,M,W,U,N;L=false;N=true;S=V.document;U=S.documentElement;T=(S.addEventListener?"addEventListener":"attachEvent");W=(S.addEventListener?"removeEventListener":"detachEvent");M=(S.addEventListener?"":"on");P=function(X){if(X.type==="readystatechange"&&S.readyState!=="complete"){return}(X.type==="load"?V:S)[W](M+X.type,P,false);if(!L&&(L=true)){return R.call(V,X.type||X)}};Q=function(){var Y;try{U.doScroll("left")}catch(X){Y=X;setTimeout(Q,50);return}return P("poll")};if(S.readyState!=="complete"){if(S.createEventObject&&U.doScroll){try{N=!V.frameElement}catch(O){}if(N){Q()}}S[T](M+"DOMContentLoaded",P,false);S[T](M+"readystatechange",P,false);return V[T](M+"load",P,false)}};A._autoDiscoverFunction=function(){if(A.autoDiscover){return A.discover()}};E(window,A._autoDiscoverFunction)}).call(this);(function(){var A,D,B,E,G,C,I,J,F={}.hasOwnProperty,K=function(M,N){for(var L in N){if(F.call(N,L)){M[L]=N[L]}}function O(){this.constructor=M}O.prototype=N.prototype;M.prototype=new O();M.__super__=N.prototype;return M},H=[].slice;D=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:require("emitter");I=function(){};A=(function(M){var N;K(L,M);L.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"];L.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(P,O){return O()},init:function(){return I},forceFallback:false,fallback:function(){var P,S,O,R,T,Q;this.element.className=""+this.element.className+" dz-browser-not-supported";Q=this.element.getElementsByTagName("div");for(R=0,T=Q.length;R<T;R++){P=Q[R];if(/(^| )dz-message($| )/.test(P.className)){S=P;P.className="dz-message";continue}}if(!S){S=L.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(S)}O=S.getElementsByTagName("span")[0];if(O){O.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(R){var Q,O,P;Q={srcX:0,srcY:0,srcWidth:R.width,srcHeight:R.height};O=R.width/R.height;P=this.options.thumbnailWidth/this.options.thumbnailHeight;if(R.height<this.options.thumbnailHeight||R.width<this.options.thumbnailWidth){Q.trgHeight=Q.srcHeight;Q.trgWidth=Q.srcWidth}else{if(O>P){Q.srcHeight=R.height;Q.srcWidth=Q.srcHeight*P}else{Q.srcWidth=R.width;Q.srcHeight=Q.srcWidth/P}}Q.srcX=(R.width-Q.srcWidth)/2;Q.srcY=(R.height-Q.srcHeight)/2;return Q},drop:function(O){return this.element.classList.remove("dz-drag-hover")},dragstart:I,dragend:function(O){return this.element.classList.remove("dz-drag-hover")},dragenter:function(O){return this.element.classList.add("dz-drag-hover")},dragover:function(O){return this.element.classList.add("dz-drag-hover")},dragleave:function(O){return this.element.classList.remove("dz-drag-hover")},paste:I,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(W){var X,O,Q,c,U,S,R,P,V,d,T,Y,Z,b=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}W.previewElement=L.createElement(this.options.previewTemplate.trim());W.previewTemplate=W.previewElement;this.previewsContainer.appendChild(W.previewElement);d=W.previewElement.querySelectorAll("[data-dz-name]");for(c=0,R=d.length;c<R;c++){X=d[c];X.textContent=W.name}T=W.previewElement.querySelectorAll("[data-dz-size]");for(U=0,P=T.length;U<P;U++){X=T[U];X.innerHTML=this.filesize(W.size)}if(this.options.addRemoveLinks){W._removeLink=L.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");W.previewElement.appendChild(W._removeLink)}O=function(f){f.preventDefault();f.stopPropagation();if(W.status===L.UPLOADING){return L.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(W)})}else{if(b.options.dictRemoveFileConfirmation){return L.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(W)})}else{return b.removeFile(W)}}};Y=W.previewElement.querySelectorAll("[data-dz-remove]");Z=[];for(S=0,V=Y.length;S<V;S++){Q=Y[S];Z.push(Q.addEventListener("click",O))}return Z},removedfile:function(P){var O;if((O=P.previewElement)!=null){O.parentNode.removeChild(P.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(T,Q){var O,S,U,R,P;T.previewElement.classList.remove("dz-file-preview");T.previewElement.classList.add("dz-image-preview");R=T.previewElement.querySelectorAll("[data-dz-thumbnail]");P=[];for(S=0,U=R.length;S<U;S++){O=R[S];O.alt=T.name;P.push(O.src=Q)}return P},error:function(T,O){var Q,P,U,R,S;T.previewElement.classList.add("dz-error");if(typeof O!=="String"&&O.error){O=O.error}R=T.previewElement.querySelectorAll("[data-dz-errormessage]");S=[];for(P=0,U=R.length;P<U;P++){Q=R[P];S.push(Q.textContent=O)}return S},errormultiple:I,processing:function(O){O.previewElement.classList.add("dz-processing");if(O._removeLink){return O._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:I,uploadprogress:function(S,V,U){var T,Q,P,O,R;O=S.previewElement.querySelectorAll("[data-dz-uploadprogress]");R=[];for(Q=0,P=O.length;Q<P;Q++){T=O[Q];R.push(T.style.width=""+V+"%")}return R},totaluploadprogress:I,sending:I,sendingmultiple:I,success:function(O){return O.previewElement.classList.add("dz-success")},successmultiple:I,canceled:function(O){return this.emit("error",O,"Upload canceled.")},canceledmultiple:I,complete:function(O){if(O._removeLink){return O._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:I,maxfilesexceeded:I,maxfilesreached:I,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span></span></div>\n  <div class="dz-error-mark"><span></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};N=function(){var P,S,O,T,R,Q,U;T=arguments[0],O=2<=arguments.length?H.call(arguments,1):[];for(Q=0,U=O.length;Q<U;Q++){S=O[Q];for(P in S){R=S[P];T[P]=R}}return T};function L(R,P){var Q,O,S;this.element=R;this.version=L.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}L.instances.push(this);this.element.dropzone=this;Q=(S=L.optionsForElement(this.element))!=null?S:{};this.options=N({},this.defaultOptions,Q,P!=null?P:{});if(this.options.forceFallback||!L.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((O=this.getExistingFallback())&&O.parentNode){O.parentNode.removeChild(O)}if(this.options.previewsContainer){this.previewsContainer=L.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=L.getElements(this.options.clickable,"clickable")}}this.init()}L.prototype.getAcceptedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.accepted){O.push(R)}}return O};L.prototype.getRejectedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(!R.accepted){O.push(R)}}return O};L.prototype.getQueuedFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.status===L.QUEUED){O.push(R)}}return O};L.prototype.getUploadingFiles=function(){var R,P,S,Q,O;Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];if(R.status===L.UPLOADING){O.push(R)}}return O};L.prototype.init=function(){var R,T,O,V,Q,P,S,U=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(L.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){O=function(){if(U.hiddenFileInput){document.body.removeChild(U.hiddenFileInput)}U.hiddenFileInput=document.createElement("input");U.hiddenFileInput.setAttribute("type","file");if((U.options.maxFiles==null)||U.options.maxFiles>1){U.hiddenFileInput.setAttribute("multiple","multiple")}if(U.options.acceptedFiles!=null){U.hiddenFileInput.setAttribute("accept",U.options.acceptedFiles)}U.hiddenFileInput.style.visibility="hidden";U.hiddenFileInput.style.position="absolute";U.hiddenFileInput.style.top="0";U.hiddenFileInput.style.left="0";U.hiddenFileInput.style.height="0";U.hiddenFileInput.style.width="0";document.body.appendChild(U.hiddenFileInput);return U.hiddenFileInput.addEventListener("change",function(){var Y,X,W,Z;X=U.hiddenFileInput.files;if(X.length){for(W=0,Z=X.length;W<Z;W++){Y=X[W];U.addFile(Y)}}return O()})};O()}this.URL=(P=window.URL)!=null?P:window.webkitURL;S=this.events;for(V=0,Q=S.length;V<Q;V++){R=S[V];this.on(R,this.options[R])}this.on("uploadprogress",function(){return U.updateTotalUploadProgress()});this.on("removedfile",function(){return U.updateTotalUploadProgress()});this.on("canceled",function(W){return U.emit("complete",W)});this.on("complete",function(W){if(U.getUploadingFiles().length===0&&U.getQueuedFiles().length===0){return setTimeout((function(){return U.emit("queuecomplete")}),0)}});T=function(W){W.stopPropagation();if(W.preventDefault){return W.preventDefault()}else{return W.returnValue=false}};this.listeners=[{element:this.element,events:{"dragstart":function(W){return U.emit("dragstart",W)},"dragenter":function(W){T(W);return U.emit("dragenter",W)},"dragover":function(X){var W;try{W=X.dataTransfer.effectAllowed}catch(Y){}X.dataTransfer.dropEffect="move"===W||"linkMove"===W?"move":"copy";T(X);return U.emit("dragover",X)},"dragleave":function(W){return U.emit("dragleave",W)},"drop":function(W){T(W);return U.drop(W)},"dragend":function(W){return U.emit("dragend",W)}}}];this.clickableElements.forEach(function(W){return U.listeners.push({element:W,events:{"click":function(X){if((W!==U.element)||(X.target===U.element||L.elementInside(X.target,U.element.querySelector(".dz-message")))){return U.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};L.prototype.destroy=function(){var O;this.disable();this.removeAllFiles(true);if((O=this.hiddenFileInput)!=null?O.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return L.instances.splice(L.instances.indexOf(this),1)};L.prototype.updateTotalUploadProgress=function(){var U,T,S,R,O,Q,P,V;R=0;S=0;U=this.getAcceptedFiles();if(U.length){V=this.getAcceptedFiles();for(Q=0,P=V.length;Q<P;Q++){T=V[Q];R+=T.upload.bytesSent;S+=T.upload.total}O=100*R/S}else{O=100}return this.emit("totaluploadprogress",O,S,R)};L.prototype.getFallbackForm=function(){var Q,R,O,P;if(Q=this.getExistingFallback()){return Q}O='<div class="dz-fallback">';if(this.options.dictFallbackText){O+="<p>"+this.options.dictFallbackText+"</p>"}O+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';R=L.createElement(O);if(this.element.tagName!=="FORM"){P=L.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');P.appendChild(R)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return P!=null?P:R};L.prototype.getExistingFallback=function(){var O,R,P,Q,T,S;R=function(W){var U,V,X;for(V=0,X=W.length;V<X;V++){U=W[V];if(/(^| )fallback($| )/.test(U.className)){return U}}};S=["div","form"];for(Q=0,T=S.length;Q<T;Q++){P=S[Q];if(O=R(this.element.getElementsByTagName(P))){return O}}};L.prototype.setupEventListeners=function(){var S,T,O,Q,U,R,P;R=this.listeners;P=[];for(Q=0,U=R.length;Q<U;Q++){S=R[Q];P.push((function(){var W,V;W=S.events;V=[];for(T in W){O=W[T];V.push(S.element.addEventListener(T,O,false))}return V})())}return P};L.prototype.removeEventListeners=function(){var S,T,O,Q,U,R,P;R=this.listeners;P=[];for(Q=0,U=R.length;Q<U;Q++){S=R[Q];P.push((function(){var W,V;W=S.events;V=[];for(T in W){O=W[T];V.push(S.element.removeEventListener(T,O,false))}return V})())}return P};L.prototype.disable=function(){var R,P,S,Q,O;this.clickableElements.forEach(function(T){return T.classList.remove("dz-clickable")});this.removeEventListeners();Q=this.files;O=[];for(P=0,S=Q.length;P<S;P++){R=Q[P];O.push(this.cancelUpload(R))}return O};L.prototype.enable=function(){this.clickableElements.forEach(function(O){return O.classList.add("dz-clickable")});return this.setupEventListeners()};L.prototype.filesize=function(O){var P;if(O>=1024*1024*1024*1024/10){O=O/(1024*1024*1024*1024/10);P="TiB"}else{if(O>=1024*1024*1024/10){O=O/(1024*1024*1024/10);P="GiB"}else{if(O>=1024*1024/10){O=O/(1024*1024/10);P="MiB"}else{if(O>=1024/10){O=O/(1024/10);P="KiB"}else{O=O*10;P="b"}}}}return"<strong>"+(Math.round(O)/10)+"</strong> "+P};L.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};L.prototype.drop=function(O){var Q,P;if(!O.dataTransfer){return}this.emit("drop",O);Q=O.dataTransfer.files;if(Q.length){P=O.dataTransfer.items;if(P&&P.length&&(P[0].webkitGetAsEntry!=null)){this._addFilesFromItems(P)}else{this.handleFiles(Q)}}};L.prototype.paste=function(O){var Q,P;if((O!=null?(P=O.clipboardData)!=null?P.items:void 0:void 0)==null){return}this.emit("paste",O);Q=O.clipboardData.items;if(Q.length){return this._addFilesFromItems(Q)}};L.prototype.handleFiles=function(Q){var R,O,S,P;P=[];for(O=0,S=Q.length;O<S;O++){R=Q[O];P.push(this.addFile(R))}return P};L.prototype._addFilesFromItems=function(S){var R,Q,P,T,O;O=[];for(P=0,T=S.length;P<T;P++){Q=S[P];if((Q.webkitGetAsEntry!=null)&&(R=Q.webkitGetAsEntry())){if(R.isFile){O.push(this.addFile(Q.getAsFile()))}else{if(R.isDirectory){O.push(this._addFilesFromDirectory(R,R.name))}else{O.push(void 0)}}}else{if(Q.getAsFile!=null){if((Q.kind==null)||Q.kind==="file"){O.push(this.addFile(Q.getAsFile()))}else{O.push(void 0)}}else{O.push(void 0)}}}return O};L.prototype._addFilesFromDirectory=function(Q,S){var P,R,O=this;P=Q.createReader();R=function(V){var U,T,W;for(T=0,W=V.length;T<W;T++){U=V[T];if(U.isFile){U.file(function(X){if(O.options.ignoreHiddenFiles&&X.name.substring(0,1)==="."){return}X.fullPath=""+S+"/"+X.name;return O.addFile(X)})}else{if(U.isDirectory){O._addFilesFromDirectory(U,""+S+"/"+U.name)}}}};return P.readEntries(R,function(T){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(T):void 0:void 0})};L.prototype.accept=function(P,O){if(P.size>this.options.maxFilesize*1024*1024){return O(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(P.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!L.isValidFile(P,this.options.acceptedFiles)){return O(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){O(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",P)}else{return this.options.accept.call(this,P,O)}}}};L.prototype.addFile=function(P){var O=this;P.upload={progress:0,total:P.size,bytesSent:0};this.files.push(P);P.status=L.ADDED;this.emit("addedfile",P);this._enqueueThumbnail(P);return this.accept(P,function(Q){if(Q){P.accepted=false;O._errorProcessing([P],Q)}else{O.enqueueFile(P)}return O._updateMaxFilesReachedClass()})};L.prototype.enqueueFiles=function(P){var Q,O,R;for(O=0,R=P.length;O<R;O++){Q=P[O];this.enqueueFile(Q)}return null};L.prototype.enqueueFile=function(P){var O=this;P.accepted=true;if(P.status===L.ADDED){P.status=L.QUEUED;if(this.options.autoProcessQueue){return setTimeout((function(){return O.processQueue()}),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};L.prototype._thumbnailQueue=[];L.prototype._processingThumbnail=false;L.prototype._enqueueThumbnail=function(P){var O=this;if(this.options.createImageThumbnails&&P.type.match(/image.*/)&&P.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(P);return setTimeout((function(){return O._processThumbnailQueue()}),0)}};L.prototype._processThumbnailQueue=function(){var O=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(){O._processingThumbnail=false;return O._processThumbnailQueue()})};L.prototype.removeFile=function(O){if(O.status===L.UPLOADING){this.cancelUpload(O)}this.files=J(this.files,O);this.emit("removedfile",O);if(this.files.length===0){return this.emit("reset")}};L.prototype.removeAllFiles=function(Q){var R,O,S,P;if(Q==null){Q=false}P=this.files.slice();for(O=0,S=P.length;O<S;O++){R=P[O];if(R.status!==L.UPLOADING||Q){this.removeFile(R)}}return null};L.prototype.createThumbnail=function(R,O){var P,Q=this;P=new FileReader;P.onload=function(){var S;S=document.createElement("img");S.onload=function(){var T,X,Z,b,U,V,W,Y;R.width=S.width;R.height=S.height;Z=Q.options.resize.call(Q,R);if(Z.trgWidth==null){Z.trgWidth=Q.options.thumbnailWidth}if(Z.trgHeight==null){Z.trgHeight=Q.options.thumbnailHeight}T=document.createElement("canvas");X=T.getContext("2d");T.width=Z.trgWidth;T.height=Z.trgHeight;C(X,S,(U=Z.srcX)!=null?U:0,(V=Z.srcY)!=null?V:0,Z.srcWidth,Z.srcHeight,(W=Z.trgX)!=null?W:0,(Y=Z.trgY)!=null?Y:0,Z.trgWidth,Z.trgHeight);b=T.toDataURL("image/png");Q.emit("thumbnail",R,b);if(O!=null){return O()}};return S.src=P.result};return P.readAsDataURL(R)};L.prototype.processQueue=function(){var O,P,R,Q;P=this.options.parallelUploads;R=this.getUploadingFiles().length;O=R;if(R>=P){return}Q=this.getQueuedFiles();if(!(Q.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(Q.slice(0,P-R))}else{while(O<P){if(!Q.length){return}this.processFile(Q.shift());O++}}};L.prototype.processFile=function(O){return this.processFiles([O])};L.prototype.processFiles=function(P){var Q,O,R;for(O=0,R=P.length;O<R;O++){Q=P[O];Q.processing=true;Q.status=L.UPLOADING;this.emit("processing",Q)}if(this.options.uploadMultiple){this.emit("processingmultiple",P)}return this.uploadFiles(P)};L.prototype._getFilesWithXhr=function(O){var Q,P;return P=(function(){var S,U,T,R;T=this.files;R=[];for(S=0,U=T.length;S<U;S++){Q=T[S];if(Q.xhr===O){R.push(Q)}}return R}).call(this)};L.prototype.cancelUpload=function(S){var U,T,Q,V,P,R,O;if(S.status===L.UPLOADING){T=this._getFilesWithXhr(S.xhr);for(Q=0,P=T.length;Q<P;Q++){U=T[Q];U.status=L.CANCELED}S.xhr.abort();for(V=0,R=T.length;V<R;V++){U=T[V];this.emit("canceled",U)}if(this.options.uploadMultiple){this.emit("canceledmultiple",T)}}else{if((O=S.status)===L.ADDED||O===L.QUEUED){S.status=L.CANCELED;this.emit("canceled",S);if(this.options.uploadMultiple){this.emit("canceledmultiple",[S])}}}if(this.options.autoProcessQueue){return this.processQueue()}};L.prototype.uploadFile=function(O){return this.uploadFiles([O])};L.prototype.uploadFiles=function(W){var g,X,j,f,m,o,V,c,T,l,v,O,h,P,r,e,Y,q,x,k,d,U,R,Z,b,i,S,s,u,Q,w,n=this;e=new XMLHttpRequest();for(Y=0,d=W.length;Y<d;Y++){g=W[Y];g.xhr=e}e.open(this.options.method,this.options.url,true);e.withCredentials=!!this.options.withCredentials;h=null;j=function(){var y,z,Aa;Aa=[];for(y=0,z=W.length;y<z;y++){g=W[y];Aa.push(n._errorProcessing(W,h||n.options.dictResponseError.replace("{{statusCode}}",e.status),e))}return Aa};P=function(y){var Ah,Ag,Ac,Ab,z,Aa,Ad,Ae,Af;if(y!=null){Ag=100*y.loaded/y.total;for(Ac=0,Aa=W.length;Ac<Aa;Ac++){g=W[Ac];g.upload={progress:Ag,total:y.total,bytesSent:y.loaded}}}else{Ah=true;Ag=100;for(Ab=0,Ad=W.length;Ab<Ad;Ab++){g=W[Ab];if(!(g.upload.progress===100&&g.upload.bytesSent===g.upload.total)){Ah=false}g.upload.progress=Ag;g.upload.bytesSent=g.upload.total}if(Ah){return}}Af=[];for(z=0,Ae=W.length;z<Ae;z++){g=W[z];Af.push(n.emit("uploadprogress",g,Ag,g.upload.bytesSent))}return Af};e.onload=function(z){var Aa;if(W[0].status===L.CANCELED){return}if(e.readyState!==4){return}h=e.responseText;if(e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")){try{h=JSON.parse(h)}catch(y){z=y;h="Invalid JSON response from server."}}P();if(!((200<=(Aa=e.status)&&Aa<300))){return j()}else{return n._finished(W,h,z)}};e.onerror=function(){if(W[0].status===L.CANCELED){return}return j()};O=(S=e.upload)!=null?S:e;O.onprogress=P;o={"Accept":"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){N(o,this.options.headers)}for(f in o){m=o[f];e.setRequestHeader(f,m)}X=new FormData();if(this.options.params){s=this.options.params;for(l in s){r=s[l];X.append(l,r)}}for(q=0,U=W.length;q<U;q++){g=W[q];this.emit("sending",g,e,X)}if(this.options.uploadMultiple){this.emit("sendingmultiple",W,e,X)}if(this.element.tagName==="FORM"){u=this.element.querySelectorAll("input, textarea, select, button");for(x=0,R=u.length;x<R;x++){V=u[x];c=V.getAttribute("name");T=V.getAttribute("type");if(V.tagName==="SELECT"&&V.hasAttribute("multiple")){Q=V.options;for(k=0,Z=Q.length;k<Z;k++){v=Q[k];if(v.selected){X.append(c,v.value)}}}else{if(!T||((w=T.toLowerCase())!=="checkbox"&&w!=="radio")||V.checked){X.append(c,V.value)}}}}for(i=0,b=W.length;i<b;i++){g=W[i];X.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),g,g.name)}return e.send(X)};L.prototype._finished=function(R,P,O){var S,Q,T;for(Q=0,T=R.length;Q<T;Q++){S=R[Q];S.status=L.SUCCESS;this.emit("success",S,P,O);this.emit("complete",S)}if(this.options.uploadMultiple){this.emit("successmultiple",R,P,O);this.emit("completemultiple",R)}if(this.options.autoProcessQueue){return this.processQueue()}};L.prototype._errorProcessing=function(R,S,Q){var O,T,P;for(T=0,P=R.length;T<P;T++){O=R[T];O.status=L.ERROR;this.emit("error",O,S,Q);this.emit("complete",O)}if(this.options.uploadMultiple){this.emit("errormultiple",R,S,Q);this.emit("completemultiple",R)}if(this.options.autoProcessQueue){return this.processQueue()}};return L})(D);A.version="3.8.4";A.options={};A.optionsForElement=function(L){if(L.getAttribute("id")){return A.options[B(L.getAttribute("id"))]}else{return void 0}};A.instances=[];A.forElement=function(L){if(typeof L==="string"){L=document.querySelector(L)}if((L!=null?L.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return L.dropzone};A.autoDiscover=true;A.discover=function(){var Q,L,P,N,O,M;if(document.querySelectorAll){P=document.querySelectorAll(".dropzone")}else{P=[];Q=function(T){var R,S,V,U;U=[];for(S=0,V=T.length;S<V;S++){R=T[S];if(/(^| )dropzone($| )/.test(R.className)){U.push(P.push(R))}else{U.push(void 0)}}return U};Q(document.getElementsByTagName("div"));Q(document.getElementsByTagName("form"))}M=[];for(N=0,O=P.length;N<O;N++){L=P[N];if(A.optionsForElement(L)!==false){M.push(new A(L))}else{M.push(void 0)}}return M};A.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];A.isBrowserSupported=function(){var L,N,M,P,O;L=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){L=false}else{O=A.blacklistedBrowsers;for(M=0,P=O.length;M<P;M++){N=O[M];if(N.test(navigator.userAgent)){L=false;continue}}}}else{L=false}return L};J=function(P,M){var O,N,Q,L;L=[];for(N=0,Q=P.length;N<Q;N++){O=P[N];if(O!==M){L.push(O)}}return L};B=function(L){return L.replace(/[\-_](\w)/g,function(M){return M[1].toUpperCase()})};A.createElement=function(L){var M;M=document.createElement("div");M.innerHTML=L;return M.childNodes[0]};A.elementInside=function(M,L){if(M===L){return true}while(M=M.parentNode){if(M===L){return true}}return false};A.getElement=function(L,M){var N;if(typeof L==="string"){N=document.querySelector(L)}else{if(L.nodeType!=null){N=L}}if(N==null){throw new Error("Invalid `"+M+"` option provided. Please provide a CSS selector or a plain HTML element.")}return N};A.getElements=function(S,N){var L,V,M,R,T,Q,O,P;if(S instanceof Array){M=[];try{for(R=0,Q=S.length;R<Q;R++){V=S[R];M.push(this.getElement(V,N))}}catch(U){L=U;M=null}}else{if(typeof S==="string"){M=[];P=document.querySelectorAll(S);for(T=0,O=P.length;T<O;T++){V=P[T];M.push(V)}}else{if(S.nodeType!=null){M=[S]}}}if(!((M!=null)&&M.length)){throw new Error("Invalid `"+N+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return M};A.confirm=function(N,L,M){if(window.confirm(N)){return L()}else{if(M!=null){return M()}}};A.isValidFile=function(Q,L){var O,M,P,N,R;if(!L){return true}L=L.split(",");M=Q.type;O=M.replace(/\/.*$/,"");for(N=0,R=L.length;N<R;N++){P=L[N];P=P.trim();if(P.charAt(0)==="."){if(Q.name.toLowerCase().indexOf(P.toLowerCase(),Q.name.length-P.length)!==-1){return true}}else{if(/\/\*$/.test(P)){if(O===P.replace(/\/.*$/,"")){return true}}else{if(M===P){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(L){return this.each(function(){return new A(this,L)})}}if(typeof module!=="undefined"&&module!==null){module.exports=A}else{window.Dropzone=A}A.ADDED="added";A.QUEUED="queued";A.ACCEPTED=A.QUEUED;A.UPLOADING="uploading";A.PROCESSING=A.UPLOADING;A.CANCELED="canceled";A.ERROR="error";A.SUCCESS="success";G=function(M){var P,L,Q,O,S,N,R,U,V,T;R=M.naturalWidth;N=M.naturalHeight;L=document.createElement("canvas");L.width=1;L.height=N;Q=L.getContext("2d");Q.drawImage(M,0,0);O=Q.getImageData(0,0,1,N).data;T=0;S=N;U=N;while(U>T){P=O[(U-1)*4+3];if(P===0){S=U}else{T=U}U=(S+T)>>1}V=U/N;if(V===0){return 1}else{return V}};C=function(P,M,U,R,N,T,S,Q,L,O){var V;V=G(M);return P.drawImage(M,U,R,N,T,S,Q,L,O/V)};E=function(V,R){var T,S,L,P,Q,M,W,U,N;L=false;N=true;S=V.document;U=S.documentElement;T=(S.addEventListener?"addEventListener":"attachEvent");W=(S.addEventListener?"removeEventListener":"detachEvent");M=(S.addEventListener?"":"on");P=function(X){if(X.type==="readystatechange"&&S.readyState!=="complete"){return}(X.type==="load"?V:S)[W](M+X.type,P,false);if(!L&&(L=true)){return R.call(V,X.type||X)}};Q=function(){var Y;try{U.doScroll("left")}catch(X){Y=X;setTimeout(Q,50);return}return P("poll")};if(S.readyState!=="complete"){if(S.createEventObject&&U.doScroll){try{N=!V.frameElement}catch(O){}if(N){Q()}}S[T](M+"DOMContentLoaded",P,false);S[T](M+"readystatechange",P,false);return V[T](M+"load",P,false)}};A._autoDiscoverFunction=function(){if(A.autoDiscover){return A.discover()}};E(window,A._autoDiscoverFunction)}).call(this);(function(A){if(typeof define==="function"&&define.amd){define(["jquery","codemirror"],A)}else{A(window.jQuery,window.CodeMirror)}}(function(S,I){if("function"!==typeof Array.prototype.reduce){Array.prototype.reduce=function(W,Z){var b,c,X=this.length>>>0,Y=false;if(1<arguments.length){c=Z;Y=true}for(b=0;X>b;++b){if(this.hasOwnProperty(b)){if(Y){c=W(c,this[b],b,this)}else{c=this[b];Y=true}}}if(!Y){throw new TypeError("Reduce of empty array with no initial value")}return c}}var V={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(S.fn.jquery),bCodeMirror:!!I};var J=(function(){var Z=function(d){return function(e){return d===e}};var Y=function(e,d){return e===d};var W=function(){return true};var c=function(){return false};var b=function(d){return function(){return !d.apply(d,arguments)}};var X=function(d){return d};return{eq:Z,eq2:Y,ok:W,fail:c,not:b,self:X}})();var B=(function(){var b=function(h){return h[0]};var Y=function(h){return h[h.length-1]};var d=function(h){return h.slice(0,h.length-1)};var g=function(h){return h.slice(1)};var f=function(h,i){var j=h.indexOf(i);if(j===-1){return null}return h[j+1]};var W=function(h,i){var j=h.indexOf(i);if(j===-1){return null}return h[j-1]};var X=function(h,i){i=i||J.self;return h.reduce(function(j,k){return j+i(k)},0)};var e=function(j){var i=[],k=-1,h=j.length;while(++k<h){i[k]=j[k]}return i};var Z=function(h,j){if(h.length===0){return[]}var i=g(h);return i.reduce(function(k,m){var l=Y(k);if(j(Y(l),m)){l[l.length]=m}else{k[k.length]=[m]}return k},[[b(h)]])};var c=function(h){var j=[];for(var k=0,i=h.length;k<i;k++){if(h[k]){j.push(h[k])}}return j};return{head:b,last:Y,initial:d,tail:g,prev:W,next:f,sum:X,from:e,compact:c,clusterBy:Z}})();var K=(function(){var o=function(y){return y&&S(y).hasClass("note-editable")};var m=function(y){return y&&S(y).hasClass("note-control-sizing")};var d=function(z){var y=function(Aa){return function(){return z.find(Aa)}};return{editor:function(){return z},dropzone:y(".note-dropzone"),toolbar:y(".note-toolbar"),editable:y(".note-editable"),codable:y(".note-codable"),statusbar:y(".note-statusbar"),popover:y(".note-popover"),handle:y(".note-handle"),dialog:y(".note-dialog")}};var w=function(y){return function(z){return z&&z.nodeName===y}};var j=function(y){return y&&/^DIV|^P|^LI|^H[1-7]/.test(y.nodeName)};var e=function(y){return y&&/^UL|^OL/.test(y.nodeName)};var n=function(y){return y&&/^TD|^TH/.test(y.nodeName)};var u=function(y,z){while(y){if(z(y)){return y}if(o(y)){break}y=y.parentNode}return null};var f=function(y,z){z=z||J.fail;var Aa=[];u(y,function(Ab){Aa.push(Ab);return z(Ab)});return Aa};var Z=function(Ab,y){var Aa=f(Ab);for(var z=y;z;z=z.parentNode){if(S.inArray(z,Aa)>-1){return z}}return null};var v=function(Ad,y){var Ac=[];var Ab=false,Aa=false;(function z(Af){if(!Af){return}if(Af===Ad){Ab=true}if(Ab&&!Aa){Ac.push(Af)}if(Af===y){Aa=true;return}for(var Ag=0,Ae=Af.childNodes.length;Ag<Ae;Ag++){z(Af.childNodes[Ag])}})(Z(Ad,y));return Ac};var X=function(z,Aa){Aa=Aa||J.fail;var y=[];while(z){y.push(z);if(Aa(z)){break}z=z.previousSibling}return y};var g=function(z,Aa){Aa=Aa||J.fail;var y=[];while(z){y.push(z);if(Aa(z)){break}z=z.nextSibling}return y};var b=function(z,Aa){var Ab=[];Aa=Aa||J.ok;(function y(Ad){if(z!==Ad&&Aa(Ad)){Ab.push(Ad)}for(var Ae=0,Ac=Ad.childNodes.length;Ae<Ac;Ae++){y(Ad.childNodes[Ae])}})(z);return Ab};var i=function(y,Ab){var Aa=Ab.nextSibling,z=Ab.parentNode;if(Aa){z.insertBefore(y,Aa)}else{z.appendChild(y)}return y};var r=function(y,z){S.each(z,function(Ab,Aa){y.appendChild(Aa)});return y};var x=w("#text");var W=function(y){if(x(y)){return y.nodeValue.length}return y.childNodes.length};var q=function(z){var y=0;while((z=z.previousSibling)){y+=1}return y};var c=function(z,y){var Aa=B.initial(f(y,J.eq(z)));return S.map(Aa,q).reverse()};var s=function(Ac,y){var Ab=Ac;for(var z=0,Aa=y.length;z<Aa;z++){Ab=Ab.childNodes[y[z]]}return Ab};var l=function(Aa,z){if(z===0){return Aa}if(z>=W(Aa)){return Aa.nextSibling}if(x(Aa)){return Aa.splitText(z)}var y=Aa.childNodes[z];Aa=i(Aa.cloneNode(false),Aa);return r(Aa,g(y))};var Y=function(z,Aa,y){var Ab=f(Aa,J.eq(z));if(Ab.length===1){return l(Aa,y)}return Ab.reduce(function(Ad,Ae){var Ac=Ae.cloneNode(false);i(Ac,Ae);if(Ad===Aa){Ad=l(Ad,y)}r(Ac,g(Ad));return Ac})};var k=function(Ab,Ac){if(!Ab||!Ab.parentNode){return}if(Ab.removeNode){return Ab.removeNode(Ac)}var Aa=Ab.parentNode;if(!Ac){var Ad=[];var y,z;for(y=0,z=Ab.childNodes.length;y<z;y++){Ad.push(Ab.childNodes[y])}for(y=0,z=Ad.length;y<z;y++){Aa.insertBefore(Ad[y],Ab)}}Aa.removeChild(Ab)};var h=function(y){return K.isTextarea(y[0])?y.val():y.html()};return{blank:V.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:o,isControlSizing:m,buildLayoutInfo:d,isText:x,isPara:j,isList:e,isTable:w("TABLE"),isCell:n,isAnchor:w("A"),isDiv:w("DIV"),isLi:w("LI"),isSpan:w("SPAN"),isB:w("B"),isU:w("U"),isS:w("S"),isI:w("I"),isImg:w("IMG"),isTextarea:w("TEXTAREA"),ancestor:u,listAncestor:f,listNext:g,listPrev:X,listDescendant:b,commonAncestor:Z,listBetween:v,insertAfter:i,position:q,makeOffsetPath:c,fromOffsetPath:s,split:Y,remove:k,html:h}})();var M={version:"0.5.1",options:{width:null,height:null,focus:false,tabsize:null,styleWithSpan:true,disableLinkTarget:false,disableDragAndDrop:false,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}};var R=(function(){var X=function(Y){return S.Deferred(function(Z){S.extend(new FileReader(),{onload:function(b){var c=b.target.result;Z.resolve(c)},onerror:function(){Z.reject(this)}}).readAsDataURL(Y)}).promise()};var W=function(Y){return S.Deferred(function(Z){S.extend(new Image(),{detachEvents:function(){this.onload=null;this.onerror=null;this.onabort=null},onload:function(){this.detachEvents();Z.resolve(this)},onerror:function(){this.detachEvents();Z.reject(this)},onabort:function(){this.detachEvents();Z.reject(this)}}).src=Y}).promise()};return{readFileAsDataURL:X,loadImage:W}})();var G={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLACH:220,RIGHTBRACKET:221};var D=function(){var W=function(X,Y){if(V.jqueryVersion<1.9){var Z={};S.each(Y,function(c,b){Z[b]=X.css(b)});return Z}return X.css.call(X,Y)};this.stylePara=function(Y,X){S.each(Y.nodes(K.isPara),function(b,Z){S(Z).css(X)})};this.current=function(g,f){var Y=S(K.isText(g.sc)?g.sc.parentNode:g.sc);var e=["font-family","font-size","text-align","list-style-type","line-height"];var d=W(Y,e)||{};d["font-size"]=parseInt(d["font-size"]);d["font-bold"]=document.queryCommandState("bold")?"bold":"normal";d["font-italic"]=document.queryCommandState("italic")?"italic":"normal";d["font-underline"]=document.queryCommandState("underline")?"underline":"normal";if(!g.isOnList()){d["list-style"]="none"}else{var Z=["circle","disc","disc-leading-zero","square"];var c=S.inArray(d["list-style-type"],Z)>-1;d["list-style"]=c?"unordered":"ordered"}var b=K.ancestor(g.sc,K.isPara);if(b&&b.style["line-height"]){d["line-height"]=b.style.lineHeight}else{var X=parseInt(d["line-height"])/parseInt(d["font-size"]);d["line-height"]=X.toFixed(1)}d.image=K.isImg(f)&&f;d.anchor=g.isOnAnchor()&&K.ancestor(g.sc,K.isAnchor);d.aAncestor=K.listAncestor(g.sc,K.isEditable);return d}};var Q=(function(){var X=!!document.createRange;var Z=function(f,m){var d=f.parentElement(),c;var e=document.body.createTextRange(),l;var b=B.from(d.childNodes);for(c=0;c<b.length;c++){if(K.isText(b[c])){continue}e.moveToElementText(b[c]);if(e.compareEndPoints("StartToStart",f)>=0){break}l=b[c]}if(c!==0&&K.isText(b[c-1])){var j=document.body.createTextRange(),i=null;j.moveToElementText(l||d);j.collapse(!l);i=l?l.nextSibling:d.firstChild;var k=f.duplicate();k.setEndPoint("StartToStart",j);var h=k.text.replace(/[\r\n]/g,"").length;while(h>i.nodeValue.length&&i.nextSibling){h-=i.nodeValue.length;i=i.nextSibling}var g=i.nodeValue;if(m&&i.nextSibling&&K.isText(i.nextSibling)&&h===i.nodeValue.length){h-=i.nodeValue.length;i=i.nextSibling}d=i;c=h}return{cont:d,offset:c}};var W=function(d){var b=function(j,g){var i,f;if(K.isText(j)){var k=K.listPrev(j,J.not(K.isText));var h=B.last(k).previousSibling;i=h||j.parentNode;g+=B.sum(B.tail(k),K.length);f=!h}else{i=j.childNodes[g]||j;if(K.isText(i)){return b(i,g)}g=0;f=false}return{cont:i,collapseToStart:f,offset:g}};var c=document.body.createTextRange();var e=b(d.cont,d.offset);c.moveToElementText(e.cont);c.collapse(e.collapseToStart);c.moveStart("character",e.offset);return c};var Y=function(f,g,c,e){this.sc=f;this.so=g;this.ec=c;this.eo=e;var b=function(){if(X){var h=document.createRange();h.setStart(f,g);h.setEnd(c,e);return h}else{var i=W({cont:f,offset:g});i.setEndPoint("EndToEnd",W({cont:c,offset:e}));return i}};this.select=function(){var i=b();if(X){var h=document.getSelection();if(h.rangeCount>0){h.removeAllRanges()}h.addRange(i)}else{i.select()}};this.nodes=function(i){var j=K.listBetween(f,c);var h=B.compact(S.map(j,function(k){return K.ancestor(k,i)}));return S.map(B.clusterBy(h,J.eq2),B.head)};this.commonAncestor=function(){return K.commonAncestor(f,c)};var d=function(h){return function(){var i=K.ancestor(f,h);return !!i&&(i===K.ancestor(c,h))}};this.isOnEditable=d(K.isEditable);this.isOnList=d(K.isList);this.isOnAnchor=d(K.isAnchor);this.isOnCell=d(K.isCell);this.isCollapsed=function(){return f===c&&g===e};this.insertNode=function(h){var i=b();if(X){i.insertNode(h)}else{i.pasteHTML(h.outerHTML)}};this.toString=function(){var h=b();return X?h.toString():h.text};this.bookmark=function(h){return{s:{path:K.makeOffsetPath(h,f),offset:g},e:{path:K.makeOffsetPath(h,c),offset:e}}}};return{create:function(f,j,e,i){if(arguments.length===0){if(X){var d=document.getSelection();if(d.rangeCount===0){return null}var k=d.getRangeAt(0);f=k.startContainer;j=k.startOffset;e=k.endContainer;i=k.endOffset}else{var h=document.selection.createRange();var g=h.duplicate();g.collapse(false);var l=h;l.collapse(true);var b=Z(l,true),c=Z(g,false);f=b.cont;j=b.offset;e=c.cont;i=c.offset}}else{if(arguments.length===2){e=f;i=j}}return new Y(f,j,e,i)},createFromNode:function(b){return this.create(b,0,b,1)},createFromBookmark:function(b,d){var f=K.fromOffsetPath(b,d.s.path);var g=d.s.offset;var c=K.fromOffsetPath(b,d.e.path);var e=d.e.offset;return new Y(f,g,c,e)}}})();var O=function(){this.tab=function(c,X){var Y=K.ancestor(c.commonAncestor(),K.isCell);var Z=K.ancestor(Y,K.isTable);var W=K.listDescendant(Z,K.isCell);var b=B[X?"prev":"next"](W,Y);if(b){Q.create(b,0).select()}};this.createTable=function(Z,Y){var b=[],X;for(var e=0;e<Z;e++){b.push("<td>"+K.blank+"</td>")}X=b.join("");var c=[],W;for(var f=0;f<Y;f++){c.push("<tr>"+X+"</tr>")}W=c.join("");var d='<table class="table table-bordered">'+W+"</table>";return S(d)[0]}};var L=function(){var X=new D();var b=new O();this.saveRange=function(e){e.data("range",Q.create())};this.restoreRange=function(e){var f=e.data("range");if(f){f.select()}};this.currentStyle=function(f){var e=Q.create();return e&&e.isOnEditable()&&X.current(e,f)};this.undo=function(e){e.data("NoteHistory").undo(e)};this.redo=function(e){e.data("NoteHistory").redo(e)};var W=this.recordUndo=function(e){e.data("NoteHistory").recordUndo(e)};var Y=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"];for(var Z=0,c=Y.length;Z<c;Z++){this[Y[Z]]=(function(e){return function(g,f){W(g);document.execCommand(e,false,f)}})(Y[Z])}var d=function(f,i,h){W(f);var e=new Array(h+1).join("&nbsp;");i.insertNode(S('<span id="noteTab">'+e+"</span>")[0]);var g=S("#noteTab").removeAttr("id");i=Q.create(g[0],1);i.select();K.remove(g[0])};this.tab=function(e,f,h){var g=Q.create();if(g.isCollapsed()&&g.isOnCell()){b.tab(g,h)}else{d(e,g,f)}};this.insertImage=function(e,f){R.loadImage(f).done(function(g){W(e);var h=S("<img>").attr("src",f);h.css("width",Math.min(e.width(),g.width));Q.create().insertNode(h[0])}).fail(function(){var g=e.data("callbacks");if(g.onImageUploadError){g.onImageUploadError()}})};this.insertVideo=function(h,e){W(h);var s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var j=e.match(s);var o=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/;var g=e.match(o);var i=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/;var r=e.match(i);var f=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/;var n=e.match(f);var m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var k=e.match(m);var l;if(j&&j[2].length===11){var q=j[2];l=S("<iframe>").attr("src","//www.youtube.com/embed/"+q).attr("width","640").attr("height","360")}else{if(g&&g[0].length>0){l=S("<iframe>").attr("src",g[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true")}else{if(r&&r[0].length>0){l=S("<iframe>").attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed")}else{if(n&&n[3].length>0){l=S("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+n[3]).attr("width","640").attr("height","360")}else{if(k&&k[2].length>0){l=S("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+k[2]).attr("width","640").attr("height","360")}else{}}}}}if(l){l.attr("frameborder",0);Q.create().insertNode(l[0])}};this.formatBlock=function(e,f){W(e);f=V.bMSIE?"<"+f+">":f;document.execCommand("FormatBlock",false,f)};this.fontSize=function(f,e){W(f);document.execCommand("fontSize",false,3);if(V.bFF){f.find("font[size=3]").removeAttr("size").css("font-size",e+"px")}else{f.find("span").filter(function(){return this.style.fontSize==="medium"}).css("font-size",e+"px")}};this.lineHeight=function(f,e){W(f);X.stylePara(Q.create(),{lineHeight:e})};this.unlink=function(e){var f=Q.create();if(f.isOnAnchor()){W(e);var g=K.ancestor(f.sc,K.isAnchor);f=Q.createFromNode(g);f.select();document.execCommand("unlink")}};this.createLink=function(g,e,i){var j=Q.create();W(g);var f=e;if(e.indexOf("@")!==-1&&e.indexOf(":")===-1){f="mailto:"+e}else{if(e.indexOf("://")===-1){f="http://"+e}}if((V.bMSIE||V.bFF)&&j.isCollapsed()){j.insertNode(S('<A id="linkAnchor">'+e+"</A>")[0]);var h=S("#linkAnchor").attr("href",f).removeAttr("id");j=Q.createFromNode(h[0]);j.select()}else{document.execCommand("createlink",false,f);j=Q.create()}S.each(j.nodes(K.isAnchor),function(k,l){if(i){S(l).attr("target","_blank")}else{S(l).removeAttr("target")}})};this.setLinkDialog=function(g,f){var i=Q.create(),h=true;if(i.isOnAnchor()){var j=K.ancestor(i.sc,K.isAnchor);i=Q.createFromNode(j);h=S(j).attr("target")==="_blank"}var e=this;f({text:i.toString(),url:i.isOnAnchor()?K.ancestor(i.sc,K.isAnchor).href:"",newWindow:h},function(k,l){i.select();e.createLink(g,k,l)})};this.setVideoDialog=function(g,f){var h=Q.create();if(h.isOnAnchor()){var i=K.ancestor(h.sc,K.isAnchor);h=Q.createFromNode(i)}var e=this;f({text:h.toString()},function(j){h.select();e.insertVideo(g,j)})};this.color=function(f,e){var h=JSON.parse(e);var g=h.foreColor,i=h.backColor;W(f);if(g){document.execCommand("foreColor",false,g)}if(i){document.execCommand("backColor",false,i)}};this.insertTable=function(f,g){W(f);var e=g.split("x");Q.create().insertNode(b.createTable(e[0],e[1]))};this.floatMe=function(f,e,g){W(f);g.css("float",e)};this.resize=function(f,e,g){W(f);g.css({width:f.width()*e+"px",height:""})};this.resizeTo=function(g,h,e){var j;if(e){var i=g.y/g.x;var f=h.data("ratio");j={width:f>i?g.x:g.y/f,height:f>i?g.x*f:g.y}}else{j={width:g.x,height:g.y}}h.css(j)};this.removeMedia=function(f,e,g){W(f);g.detach()}};var T=function(){var Y=[],Z=[];var W=function(c){var b=c[0],d=Q.create();return{contents:c.html(),bookmark:d.bookmark(b),scrollTop:c.scrollTop()}};var X=function(c,b){c.html(b.contents).scrollTop(b.scrollTop);Q.createFromBookmark(c[0],b.bookmark).select()};this.undo=function(c){var b=W(c);if(Y.length===0){return}X(c,Y.pop());Z.push(b)};this.redo=function(c){var b=W(c);if(Z.length===0){return}X(c,Z.pop());Y.push(b)};this.recordUndo=function(b){Z=[];Y.push(W(b))}};var E=function(){this.update=function(Y,W){var Z=function(f,g){f.find(".dropdown-menu li a").each(function(){var h=(S(this).data("value")+"")===(g+"");this.className=h?"checked":""})};var c=function(g,h){var f=Y.find(g);f.toggleClass("active",h())};var X=Y.find(".note-fontname");if(X.length>0){var e=W["font-family"];if(!!e){e=B.head(e.split(","));e=e.replace(/\'/g,"");X.find(".note-current-fontname").text(e);Z(X,e)}}var b=Y.find(".note-fontsize");b.find(".note-current-fontsize").text(W["font-size"]);Z(b,parseFloat(W["font-size"]));var d=Y.find(".note-height");Z(d,parseFloat(W["line-height"]));c('button[data-event="bold"]',function(){return W["font-bold"]==="bold"});c('button[data-event="italic"]',function(){return W["font-italic"]==="italic"});c('button[data-event="underline"]',function(){return W["font-underline"]==="underline"});c('button[data-event="justifyLeft"]',function(){return W["text-align"]==="left"||W["text-align"]==="start"});c('button[data-event="justifyCenter"]',function(){return W["text-align"]==="center"});c('button[data-event="justifyRight"]',function(){return W["text-align"]==="right"});c('button[data-event="justifyFull"]',function(){return W["text-align"]==="justify"});c('button[data-event="insertUnorderedList"]',function(){return W["list-style"]==="unordered"});c('button[data-event="insertOrderedList"]',function(){return W["list-style"]==="ordered"})};this.updateRecentColor=function(X,b,Z){var c=S(X).closest(".note-color");var W=c.find(".note-recent-color");var d=JSON.parse(W.attr("data-value"));d[b]=Z;W.attr("data-value",JSON.stringify(d));var Y=b==="backColor"?"background-color":"color";W.find("i").css(Y,Z)};this.updateFullscreen=function(Y,X){var W=Y.find('button[data-event="fullscreen"]');W.toggleClass("active",X)};this.updateCodeview=function(Y,X){var W=Y.find('button[data-event="codeview"]');W.toggleClass("active",X)};this.activate=function(W){W.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(W){W.find("button").not('button[data-event="codeview"]').addClass("disabled")}};var P=function(){var W=function(Z,Y){var X=S(Y);var c=X.position(),b=X.height();Z.css({display:"block",left:c.left,top:c.top+b})};this.update=function(X,Y){var b=X.find(".note-link-popover");if(Y.anchor){var c=b.find("a");c.attr("href",Y.anchor.href).html(Y.anchor.href);W(b,Y.anchor)}else{b.hide()}var Z=X.find(".note-image-popover");if(Y.image){W(Z,Y.image)}else{Z.hide()}};this.hide=function(X){X.children().hide()}};var U=function(){this.update=function(Z,Y){var b=Z.find(".note-control-selection");if(Y.image){var X=S(Y.image);var d=X.position();var W={w:X.width(),h:X.height()};b.css({display:"block",left:d.left,top:d.top,width:W.w,height:W.h}).data("target",Y.image);var c=W.w+"x"+W.h;b.find(".note-control-selection-info").text(c)}else{b.hide()}};this.hide=function(W){W.children().hide()}};var C=function(){var W=function(X,Y){if(Y){X.removeClass("disabled").attr("disabled",false)}else{X.addClass("disabled").attr("disabled",true)}};this.showImageDialog=function(e,b,c,Z){var d=b.find(".note-image-dialog");var f=b.find(".note-image-input"),X=b.find(".note-image-url"),Y=b.find(".note-image-btn");d.one("shown.bs.modal",function(g){g.stopPropagation();f.on("change",function(){c(this.files);S(this).val("");d.modal("hide")});Y.click(function(h){d.modal("hide");Z(X.val());h.preventDefault()});X.keyup(function(){W(Y,X.val())}).val("").focus()}).one("hidden.bs.modal",function(g){e.focus();f.off("change");X.off("keyup");Y.off("click")}).modal("show")};this.showVideoDialog=function(Z,X,b,e){var Y=X.find(".note-video-dialog");var d=Y.find(".note-video-url"),c=Y.find(".note-video-btn");Y.one("shown.bs.modal",function(f){f.stopPropagation();d.val(b.text).keyup(function(){W(c,d.val())}).trigger("keyup").trigger("focus");c.click(function(g){Y.modal("hide");e(d.val());g.preventDefault()})}).one("hidden.bs.modal",function(f){Z.focus();d.off("keyup");c.off("click")}).modal("show")};this.showLinkDialog=function(d,b,Z,Y){var f=b.find(".note-link-dialog");var g=f.find(".note-link-text"),e=f.find(".note-link-url"),X=f.find(".note-link-btn"),c=f.find("input[type=checkbox]");f.one("shown.bs.modal",function(h){h.stopPropagation();g.val(Z.text);e.val(Z.url).keyup(function(){W(X,e.val());if(!Z.text){g.val(e.val())}}).trigger("focus");c.prop("checked",Z.newWindow);X.click(function(i){f.modal("hide");Y(e.val(),c.is(":checked"));i.preventDefault()})}).one("hidden.bs.modal",function(h){d.focus();e.off("keyup");X.off("click")}).modal("show")};this.showHelpDialog=function(Z,X){var Y=X.find(".note-help-dialog");Y.one("hidden.bs.modal",function(b){Z.focus()}).modal("show")}};var A=function(){var h=new L();var W=new E(),l=new P();var b=new U(),Z=new C();var g=function(u){var s=S(u).closest(".note-editor");return s.length>0&&K.buildLayoutInfo(s)};var m=function(s,u){h.restoreRange(s);var v=s.data("callbacks");if(v.onImageUpload){v.onImageUpload(u,h,s)}else{S.each(u,function(w,x){R.readFileAsDataURL(x).done(function(y){h.insertImage(s,y)}).fail(function(){if(v.onImageUploadError){v.onImageUploadError()}})})}};var k=function(Aa){var u=V.bMac?Aa.metaKey:Aa.ctrlKey,x=Aa.shiftKey,y=Aa.keyCode;var s=(u||x||y===G.TAB);var z=(s)?g(Aa.target):null;if(y===G.TAB){var w=z.editor().data("options").tabsize;h.tab(z.editable(),w,x)}else{if(u&&((x&&y===G.Z)||y===G.Y)){h.redo(z.editable())}else{if(u&&y===G.Z){h.undo(z.editable())}else{if(u&&y===G.B){h.bold(z.editable())}else{if(u&&y===G.I){h.italic(z.editable())}else{if(u&&y===G.U){h.underline(z.editable())}else{if(u&&x&&y===G.S){h.strikethrough(z.editable())}else{if(u&&y===G.BACKSLACH){h.removeFormat(z.editable())}else{if(u&&y===G.K){h.setLinkDialog(z.editable(),function(Ac,Ab){Z.showLinkDialog(z.editable(),z.dialog(),Ac,Ab)})}else{if(u&&y===G.SLASH){Z.showHelpDialog(z.editable(),z.dialog())}else{if(u&&x&&y===G.L){h.justifyLeft(z.editable())}else{if(u&&x&&y===G.E){h.justifyCenter(z.editable())}else{if(u&&x&&y===G.R){h.justifyRight(z.editable())}else{if(u&&x&&y===G.J){h.justifyFull(z.editable())}else{if(u&&x&&y===G.NUM7){h.insertUnorderedList(z.editable())}else{if(u&&x&&y===G.NUM8){h.insertOrderedList(z.editable())}else{if(u&&y===G.LEFTBRACKET){h.outdent(z.editable())}else{if(u&&y===G.RIGHTBRACKET){h.indent(z.editable())}else{if(u&&y===G.NUM0){h.formatBlock(z.editable(),"P")}else{if(u&&(G.NUM1<=y&&y<=G.NUM6)){var v="H"+String.fromCharCode(y);h.formatBlock(z.editable(),v)}else{if(u&&y===G.ENTER){h.insertHorizontalRule(z.editable())}else{if(y===G.BACKSPACE||y===G.ENTER||y===G.SPACE){h.recordUndo(g(Aa.target).editable())}return}}}}}}}}}}}}}}}}}}}}}Aa.preventDefault()};var c=function(u){var v=u.originalEvent.dataTransfer;if(v&&v.files){var s=g(u.currentTarget||u.target);s.editable().focus();m(s.editable(),v.files)}u.preventDefault()};var X=function(s){if(K.isImg(s.target)){s.preventDefault()}};var e=function(v){var s=g(v.currentTarget||v.target);var u=h.currentStyle(v.target);if(!u){return}W.update(s.toolbar(),u);l.update(s.popover(),u);b.update(s.handle(),u)};var q=function(u){var s=g(u.currentTarget||u.target);l.hide(s.popover());b.hide(s.handle())};var i=function(w){if(K.isControlSizing(w.target)){var Ac=g(w.target),z=Ac.handle(),x=Ac.popover(),u=Ac.editable(),Ab=Ac.editor();var Aa=z.find(".note-control-selection").data("target"),s=S(Aa);var y=s.offset(),v=S(document).scrollTop();Ab.on("mousemove",function(Ad){h.resizeTo({x:Ad.clientX-y.left,y:Ad.clientY-(y.top-v)},s,!Ad.shiftKey);b.update(z,{image:Aa});l.update(x,{image:Aa})}).one("mouseup",function(){Ab.off("mousemove")});if(!s.data("ratio")){s.data("ratio",s.height()/s.width())}h.recordUndo(u);w.stopPropagation();w.preventDefault()}};var o=function(u){var s=S(u.target).closest("[data-event]");if(s.length>0){u.preventDefault()}};var n=function(Ai){var Ap=S(Ai.target).closest("[data-event]");if(Ap.length>0){var An=Ap.attr("data-event"),Ae=Ap.attr("data-value");var Ac=g(Ai.target);var Ad=Ac.editor(),Aj=Ac.toolbar(),u=Ac.dialog(),w=Ac.editable(),v=Ac.codable();var Aa;var Af;var Al=Ad.data("options");var z;if(S.inArray(An,["resize","floatMe","removeMedia"])!==-1){var Ao=Ac.handle();var s=Ao.find(".note-control-selection");z=S(s.data("target"))}if(h[An]){w.trigger("focus");h[An](w,Ae,z)}if(S.inArray(An,["backColor","foreColor"])!==-1){W.updateRecentColor(Ap[0],An,Ae)}else{if(An==="showLinkDialog"){w.focus();h.setLinkDialog(w,function(As,Ar){Z.showLinkDialog(w,u,As,Ar)})}else{if(An==="showImageDialog"){w.focus();Z.showImageDialog(w,u,function(Ar){m(w,Ar)},function(Ar){h.restoreRange(w);h.insertImage(w,Ar)})}else{if(An==="showVideoDialog"){w.focus();h.setVideoDialog(w,function(As,Ar){Z.showVideoDialog(w,u,As,Ar)})}else{if(An==="showHelpDialog"){Z.showHelpDialog(w,u)}else{if(An==="fullscreen"){Ad.toggleClass("fullscreen");var Aq=function(){var At=S(window).width();Ad.css("width",At);var Ar=S(window).height()-Aj.outerHeight();w.css("height",Ar);v.css("height",Ar);var As=v.data("cmEditor");if(As){As.setSize(null,Ar)}};var x=S("html, body");var Ab=Ad.hasClass("fullscreen");if(Ab){Ad.data("orgWidth",Ad.width());w.data("orgHeight",w.css("height"));S(window).on("resize",Aq).trigger("resize");x.css("overflow","hidden")}else{var Ah=Ad.data("orgWidth");var Ag=Ah===S(window).width()?"auto":Ah;Ad.css("width",Ag);var Am=w.data("orgHeight");w.css("height",Am);v.css("height",Am);Af=v.data("cmEditor");if(Af){Af.setSize(null,Am)}x.css("overflow","auto");S(window).off("resize")}W.updateFullscreen(Aj,Ab)}else{if(An==="codeview"){Ad.toggleClass("codeview");var Ak=Ad.hasClass("codeview");if(Ak){v.val(w.html());v.height(w.height());W.deactivate(Aj);v.focus();if(V.bCodeMirror){Af=I.fromTextArea(v[0],S.extend({mode:"text/html",lineNumbers:true},Al.codemirror));var y=Ad.data("options").codemirror.tern||false;if(y){Aa=new I.TernServer(y);Af.ternServer=Aa;Af.on("cursorActivity",function(Ar){Aa.updateArgHints(Ar)})}Af.setSize(null,w.outerHeight());if(Af.autoFormatRange){Af.autoFormatRange({line:0,ch:0},{line:Af.lineCount(),ch:Af.getTextArea().value.length})}v.data("cmEditor",Af)}}else{if(V.bCodeMirror){Af=v.data("cmEditor");v.val(Af.getValue());Af.toTextArea()}w.html(v.val()||K.emptyPara);w.height(Al.height?v.height():"auto");W.activate(Aj);w.focus()}W.updateCodeview(Ac.toolbar(),Ak)}}}}}}}e(Ai)}};var d=24;var r=function(w){var s=S(document);var v=g(w.target).editable();var u=v.offset().top-s.scrollTop();s.on("mousemove",function(x){var y=x.clientY-(u+d);v.height(y)}).one("mouseup",function(){s.off("mousemove")});w.stopPropagation();w.preventDefault()};var Y=18;var f=function(v){var s=S(v.target.parentNode);var Aa=s.next();var w=s.find(".note-dimension-picker-mousecatcher");var y=s.find(".note-dimension-picker-highlighted");var x=s.find(".note-dimension-picker-unhighlighted");var u;if(v.offsetX===undefined){var Ab=S(v.target).offset();u={x:v.pageX-Ab.left,y:v.pageY-Ab.top}}else{u={x:v.offsetX,y:v.offsetY}}var z={c:Math.ceil(u.x/Y)||1,r:Math.ceil(u.y/Y)||1};y.css({width:z.c+"em",height:z.r+"em"});w.attr("data-value",z.c+"x"+z.r);if(3<z.c&&z.c<10){x.css({width:z.c+1+"em"})}if(3<z.r&&z.r<10){x.css({height:z.r+1+"em"})}Aa.html(z.c+" x "+z.r)};var j=function(v){var w=S(),u=v.dropzone,s=v.dropzone.find(".note-dropzone-message");S(document).on("dragenter",function(x){var y=v.editor.hasClass("codeview");if(!y&&w.length===0){v.editor.addClass("dragover");u.width(v.editor.width());u.height(v.editor.height());s.text("Drag Image Here")}w=w.add(x.target)}).on("dragleave",function(x){w=w.not(x.target);if(w.length===0){v.editor.removeClass("dragover")}}).on("drop",function(){w=S();v.editor.removeClass("dragover")});u.on("dragenter",function(){u.addClass("hover");s.text("Drop Image")}).on("dragleave",function(){u.removeClass("hover");s.text("Drag Image Here")});u.on("drop",function(x){c(x)}).on("dragover",false)};this.attach=function(s,u){s.editable.on("keydown",k);s.editable.on("mousedown",X);s.editable.on("keyup mouseup",e);s.editable.on("scroll",q);if(!u.disableDragAndDrop){j(s)}s.handle.on("mousedown",i);s.toolbar.on("click",n);s.popover.on("click",n);s.toolbar.on("mousedown",o);s.popover.on("mousedown",o);s.statusbar.on("mousedown",r);var w=s.toolbar;var v=w.find(".note-dimension-picker-mousecatcher");v.on("mousemove",f);s.editable.on("blur",function(){h.saveRange(s.editable)});s.editor.data("options",u);if(u.styleWithSpan&&!V.bMSIE){setTimeout(function(){document.execCommand("styleWithCSS",0,true)})}s.editable.data("NoteHistory",new T());if(u.onenter){s.editable.keypress(function(x){if(x.keyCode===G.ENTER){u.onenter(x)}})}if(u.onfocus){s.editable.focus(u.onfocus)}if(u.onblur){s.editable.blur(u.onblur)}if(u.onkeyup){s.editable.keyup(u.onkeyup)}if(u.onkeydown){s.editable.keydown(u.onkeydown)}if(u.onToolbarClick){s.toolbar.click(u.onToolbarClick)}s.editable.data("callbacks",{onChange:u.onChange,onAutoSave:u.onAutoSave,onPasteBefore:u.onPasteBefore,onPasteAfter:u.onPasteAfter,onImageUpload:u.onImageUpload,onImageUploadError:u.onImageUpload,onFileUpload:u.onFileUpload,onFileUploadError:u.onFileUpload})};this.dettach=function(s){s.editable.off();s.toolbar.off();s.handle.off();s.popover.off()}};var H=function(){var f,h,W,j,Z;f={picture:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.link.link+'" data-event="showLinkDialog" data-shortcut="Ctrl+K" data-mac-shortcut="+K" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+m.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+m.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+m.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+m.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+m.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+m.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+m.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+m.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+m.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+m.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+m.style.h6+"</h6></a></li></ul>"},fontname:function(m){var q=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"];var n='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+m.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';n+='<ul class="dropdown-menu">';for(var o=0;o<q.length;o++){n+='<li><a data-event="fontName" data-value="'+q[o]+'"><i class="fa fa-check icon-ok"></i> '+q[o]+"</a></li>"}n+="</ul>";return n},fontsize:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+m.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+m.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+m.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+m.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+m.color.transparent+'">'+m.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+m.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+m.color.reset+'">'+m.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},clear:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="++7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="++8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+m.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="++L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="++E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="++R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="++J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+m.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.options.help+'" data-shortcut="Ctrl+/" data-mac-shortcut="+/" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(m){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+m.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}};h=function(m){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+m.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var W=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'};var c=function(m,n){return'<table class="note-shortcut"><thead><tr><th></th><th>'+m.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td> + B</td><td>"+m.font.bold+"</td></tr><tr><td> + I</td><td>"+m.font.italic+"</td></tr><tr><td> + U</td><td>"+m.font.underline+"</td></tr><tr><td> +  + S</td><td>"+m.font.strike+"</td></tr><tr><td> + \\</td><td>"+m.font.clear+"</td></tr></tr></tbody></table>"};var b=function(m,n){return'<table class="note-shortcut"><thead><tr><th></th><th>'+m.shortcut.action+"</th></tr></thead><tbody><tr><td> + Z</td><td>"+m.history.undo+"</td></tr><tr><td> +  + Z</td><td>"+m.history.redo+"</td></tr><tr><td> + ]</td><td>"+m.paragraph.indent+"</td></tr><tr><td> + [</td><td>"+m.paragraph.outdent+"</td></tr><tr><td> + K</td><td>"+m.link.insert+"</td></tr><tr><td> + ENTER</td><td>"+m.hr.insert+"</td></tr></tbody></table>"};var e=function(n,o){var q='<table class="note-shortcut"><thead><tr><th></th><th>'+n.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var m in o.extraKeys){if(!o.extraKeys.hasOwnProperty(m)){continue}q+="<tr><td>"+m+"</td><td>"+o.extraKeys[m]+"</td></tr>"}q+="</tbody></table>";return q};var l=function(m,n){return'<table class="note-shortcut"><thead><tr><th></th><th>'+m.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td> +  + L</td><td>"+m.paragraph.left+"</td></tr><tr><td> +  + E</td><td>"+m.paragraph.center+"</td></tr><tr><td> +  + R</td><td>"+m.paragraph.right+"</td></tr><tr><td> +  + J</td><td>"+m.paragraph.justify+"</td></tr><tr><td> +  + NUM7</td><td>"+m.lists.ordered+"</td></tr><tr><td> +  + NUM8</td><td>"+m.lists.unordered+"</td></tr></tbody></table>"};var g=function(m,n){return'<table class="note-shortcut"><thead><tr><th></th><th>'+m.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td> + NUM0</td><td>"+m.style.normal+"</td></tr><tr><td> + NUM1</td><td>"+m.style.h1+"</td></tr><tr><td> + NUM2</td><td>"+m.style.h2+"</td></tr><tr><td> + NUM3</td><td>"+m.style.h3+"</td></tr><tr><td> + NUM4</td><td>"+m.style.h4+"</td></tr><tr><td> + NUM5</td><td>"+m.style.h5+"</td></tr><tr><td> + NUM6</td><td>"+m.style.h6+"</td></tr></tbody></table>"};var Y=function(m,n){var o='<table class="note-shortcut-layout"><tbody><tr><td>'+b(m,n)+"</td><td>"+c(m,n)+"</td></tr><tr><td>"+g(m,n)+"</td><td>"+l(m,n)+"</td></tr>";if(n.extraKeys){o+='<tr><td colspan="2">'+e(m,n)+"</td></tr>"}o+="</tbody</table>";return o};var k=function(m){return m.replace(//g,"Ctrl").replace(//g,"Shift")};j=function(n,o){var r=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+n.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+n.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+n.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+n.image.insert+"</button></div></div></div></div>"};var s=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+n.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+n.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+n.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(!o.disableLinkTarget?'<div class="checkbox"><label><input type="checkbox" checked> '+n.link.openInNewWindow+"</label></div>":"")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+n.link.insert+"</button></div></div></div></div>"};var m=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+n.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+n.video.url+'</label>&nbsp;<small class="text-muted">'+n.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+n.video.insert+"</button></div></div></div></div>"};var q=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+n.shortcut.close+'</a><div class="title">'+n.shortcut.shortcuts+"</div>"+(V.bMac?Y(n,o):k(Y(n,o)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.1</a>  <a href="//github.com/HackerWins/summernote" target="_blank">Project</a>  <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+r()+s()+m()+q()+"</div>"};Z=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var X=function(n,m){n.find("button").each(function(o,q){var r=S(q);var s=r.attr(V.bMac?"data-mac-shortcut":"data-shortcut");if(s){r.attr("title",function(u,w){return w+" ("+s+")"})}}).tooltip({container:"body",trigger:"hover",placement:m||"top"}).on("click",function(){S(this).tooltip("hide")})};var d=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]];var i=function(m){m.find(".note-color-palette").each(function(){var n=S(this),o=n.attr("data-target-event");var r=[];for(var s=0,w=d.length;s<w;s++){var u=d[s];var x=[];for(var y=0,v=u.length;y<v;y++){var q=u[y];x.push(['<button type="button" class="note-color-btn" style="background-color:',q,';" data-event="',o,'" data-value="',q,'" title="',q,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push("<div>"+x.join("")+"</div>")}n.html(r.join(""))})};this.createLayout=function(Ad,w){var Ac=Ad.next();if(Ac&&Ac.hasClass("note-editor")){return}var Ab=S('<div class="note-editor"></div>');if(w.width){Ab.width(w.width)}if(w.height>0){S('<div class="note-statusbar">'+Z()+"</div>").prependTo(Ab)}var z=!Ad.is(":disabled");var n=S('<div class="note-editable" contentEditable="'+z+'"></div>').prependTo(Ab);if(w.height){n.height(w.height)}if(w.direction){n.attr("dir",w.direction)}n.html(K.html(Ad)||K.emptyPara);S('<textarea class="note-codable"></textarea>').prependTo(Ab);var o=S.summernote.lang[w.lang];var x="";for(var r=0,m=w.toolbar.length;r<m;r++){var v=w.toolbar[r];x+='<div class="note-'+v[0]+' btn-group">';for(var u=0,y=v[1].length;u<y;u++){x+=f[v[1][u]](o)}x+="</div>"}x='<div class="note-toolbar btn-toolbar">'+x+"</div>";var s=S(x).prependTo(Ab);i(s);X(s,"bottom");var Aa=S(h(o)).prependTo(Ab);X(Aa);S(W()).prependTo(Ab);var q=S(j(o,w)).prependTo(Ab);q.find("button.close, a.modal-close").click(function(){S(this).closest(".modal").modal("hide")});S('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(Ab);Ab.insertAfter(Ad);Ad.hide()};this.layoutInfoFromHolder=function(o){var n=o.next();if(!n.hasClass("note-editor")){return}var q=K.buildLayoutInfo(n);for(var m in q){if(q.hasOwnProperty(m)){q[m]=q[m].call()}}return q};this.removeLayout=function(m){var n=this.layoutInfoFromHolder(m);if(!n){return}m.html(n.editable.html());n.editor.remove();m.show()}};S.summernote=S.summernote||{};S.extend(S.summernote,M);var N=new H();var F=new A();S.fn.extend({summernote:function(W){W=S.extend({},S.summernote.options,W);this.each(function(Y,Z){var b=S(Z);N.createLayout(b,W);var c=N.layoutInfoFromHolder(b);F.attach(c,W);if(K.isTextarea(b[0])){b.closest("form").submit(function(){b.html(b.code())})}});if(this.first()&&W.focus){var X=N.layoutInfoFromHolder(this.first());X.editable.focus()}if(this.length>0&&W.oninit){W.oninit()}return this},code:function(W){if(W===undefined){var Y=this.first();if(Y.length===0){return}var Z=N.layoutInfoFromHolder(Y);if(!!(Z&&Z.editable)){var X=Z.editor.hasClass("codeview");if(X&&V.bCodeMirror){Z.codable.data("cmEditor").save()}return X?Z.codable.val():Z.editable.html()}return Y.html()}this.each(function(b,c){var d=N.layoutInfoFromHolder(S(c));if(d&&d.editable){d.editable.html(W)}});return this},destroy:function(){this.each(function(W,X){var Y=S(X);var Z=N.layoutInfoFromHolder(Y);if(!Z||!Z.editable){return}F.dettach(Z);N.removeLayout(Y)});return this}})}));(function(h){var F=h.Markdown=function F(r){switch(typeof r){case"undefined":this.dialect=F.dialects.Gruber;break;case"object":this.dialect=r;break;default:if(r in F.dialects){this.dialect=F.dialects[r]}else{throw new Error("Unknown Markdown dialect '"+String(r)+"'")}break}this.em_state=[];this.strong_state=[];this.debug_indent=""};h.parse=function(s,u){var r=new F(u);return r.toTree(s)};h.toHTML=function V(r,v,s){var u=h.toHTMLTree(r,v,s);return h.renderJsonML(u)};h.toHTMLTree=function g(v,w,u){if(typeof v==="string"){v=this.parse(v,w)}var s=E(v),x={};if(s&&s.references){x=s.references}var r=I(v,x,u);o(r);return r};function T(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function S(){var r=require("util");return"Markdown.mk_block( "+r.inspect(this.toString())+", "+r.inspect(this.trailing)+", "+r.inspect(this.lineNumber)+" )"}var H=F.mk_block=function(w,r,v){if(arguments.length==1){r="\n\n"}var u=new String(w);u.trailing=r;u.inspect=S;u.toSource=T;if(v!=undefined){u.lineNumber=v}return u};function B(u){var s=0,r=-1;while((r=u.indexOf("\n",r+1))!==-1){s++}return s}F.prototype.split_blocks=function X(v,w){var s=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,r=[],u;var x=1;if((u=/^(\s*\n)/.exec(v))!=null){x+=B(u[0]);s.lastIndex=u[0].length}while((u=s.exec(v))!==null){r.push(H(u[1],u[2],x));x+=B(u[0])}return r};F.prototype.processBlock=function i(x,u){var v=this.dialect.block,s=v.__order__;if("__call__" in v){return v.__call__.call(this,x,u)}for(var r=0;r<s.length;r++){var w=v[s[r]].call(this,x,u);if(w){if(!m(w)||(w.length>0&&!(m(w[0])))){this.debug(s[r],"didn't return a proper array")}return w}}return[]};F.prototype.processInline=function f(r){return this.dialect.inline.__call__.call(this,String(r))};F.prototype.toTree=function l(s,v){var r=s instanceof Array?s:this.split_blocks(s);var w=this.tree;try{this.tree=v||this.tree||["markdown"];r:while(r.length){var u=this.processBlock(r.shift(),r);if(!u.length){continue r}this.tree.push.apply(this.tree,u)}return this.tree}finally{if(v){this.tree=w}}};F.prototype.debug=function(){var r=Array.prototype.slice.call(arguments);r.unshift(this.debug_indent);if(typeof print!=="undefined"){print.apply(print,r)}if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log.apply(null,r)}};F.prototype.loop_re_over_block=function(s,w,r){var u,v=w.valueOf();while(v.length&&(u=s.exec(v))!=null){v=v.substr(u[0].length);r.call(this,u)}return v};F.dialects={};F.dialects.Gruber={block:{atxHeader:function Q(v,s){var u=v.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!u){return undefined}var r=["header",{level:u[1].length}];Array.prototype.push.apply(r,this.processInline(u[2]));if(u[0].length<v.length){s.unshift(H(v.substr(u[0].length),v.trailing,v.lineNumber+2))}return[r]},setextHeader:function P(w,u){var v=w.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!v){return undefined}var s=(v[2]==="=")?1:2;var r=["header",{level:s},v[1]];if(v[0].length<w.length){u.unshift(H(w.substr(v[0].length),w.trailing,w.lineNumber+2))}return[r]},code:function e(x,s){var u=[],r=/^(?: {0,3}\t| {4})(.*)\n?/,w;if(!x.match(r)){return undefined}block_search:do{var v=this.loop_re_over_block(r,x.valueOf(),function(y){u.push(y[1])});if(v.length){s.unshift(H(v,x.trailing));break block_search}else{if(s.length){if(!s[0].match(r)){break block_search}u.push(x.trailing.replace(/[^\n]/g,"").substring(2));x=s.shift()}else{break block_search}}}while(true);return[["code_block",u.join("\n")]]},horizRule:function R(v,s){var u=v.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!u){return undefined}var r=[["hr"]];if(u[1]){r.unshift.apply(r,this.processBlock(u[1],[]))}if(u[3]){s.unshift(H(u[3]))}return r},lists:(function(){var s="[*+-]|\\d+\\.",v=/[*+-]/,x=/\d+\./,u=new RegExp("^( {0,3})("+s+")[ \t]+"),y="(?: {0,3}\\t| {4})";function r(Ac){return new RegExp("(?:^("+y+"{0,"+Ac+"} {0,3})("+s+")\\s+)|(^"+y+"{0,"+(Ac-1)+"}[ ]{0,4})")}function Ab(Ac){return Ac.replace(/ {0,3}\t/g,"    ")}function Aa(Ae,Ag,Ac,Aj){if(Ag){Ae.push(["para"].concat(Ac));return}var Ai=Ae[Ae.length-1] instanceof Array&&Ae[Ae.length-1][0]=="para"?Ae[Ae.length-1]:Ae;if(Aj&&Ae.length>1){Ac.unshift(Aj)}for(var Af=0;Af<Ac.length;Af++){var Ah=Ac[Af],Ad=typeof Ah=="string";if(Ad&&Ai.length>1&&typeof Ai[Ai.length-1]=="string"){Ai[Ai.length-1]+=Ah}else{Ai.push(Ah)}}}function w(Ad,Ac){var Ag=new RegExp("^("+y+"{"+Ad+"}.*?\\n?)*$"),Af=new RegExp("^"+y+"{"+Ad+"}","gm"),Ae=[];while(Ac.length>0){if(Ag.exec(Ac[0])){var Ah=Ac.shift(),Ai=Ah.replace(Af,"");Ae.push(H(Ai,Ah.trailing,Ah.lineNumber))}break}return Ae}function z(Ad,Ac,Ag){var Ae=Ad.list;var Af=Ae[Ae.length-1];if(Af[1] instanceof Array&&Af[1][0]=="para"){return}if(Ac+1==Ag.length){Af.push(["para"].concat(Af.splice(1)))}else{var Ah=Af.pop();Af.push(["para"].concat(Af.splice(1)),Ah)}}return function(Ae,Af){var Ai=Ae.match(u);if(!Ai){return undefined}function Ao(Ax){var Ay=v.exec(Ax[2])?["bulletlist"]:["numberlist"];An.push({list:Ay,indent:Ax[1]});return Ay}var An=[],Ac=Ao(Ai),Aq,As=false,Av=[An[0].list],Ag;loose_search:while(true){var Am=Ae.split(/(?=\n)/);var Ad="";tight_search:for(var Aw=0;Aw<Am.length;Aw++){var Ap="",Ah=Am[Aw].replace(/^\n/,function(Ax){Ap=Ax;return""});var Aj=r(An.length);Ai=Ah.match(Aj);if(Ai[1]!==undefined){if(Ad.length){Aa(Aq,As,this.processInline(Ad),Ap);As=false;Ad=""}Ai[1]=Ab(Ai[1]);var Al=Math.floor(Ai[1].length/4)+1;if(Al>An.length){Ac=Ao(Ai);Aq.push(Ac);Aq=Ac[1]=["listitem"]}else{var Ak=false;for(Ag=0;Ag<An.length;Ag++){if(An[Ag].indent!=Ai[1]){continue}Ac=An[Ag].list;An.splice(Ag+1);Ak=true;break}if(!Ak){Al++;if(Al<=An.length){An.splice(Al);Ac=An[Al-1].list}else{Ac=Ao(Ai);Aq.push(Ac)}}Aq=["listitem"];Ac.push(Aq)}Ap=""}if(Ah.length>Ai[0].length){Ad+=Ap+Ah.substr(Ai[0].length)}}if(Ad.length){Aa(Aq,As,this.processInline(Ad),Ap);As=false;Ad=""}var Au=w(An.length,Af);if(Au.length>0){W(An,z,this);Aq.push.apply(Aq,this.toTree(Au,[]))}var At=Af[0]&&Af[0].valueOf()||"";if(At.match(u)||At.match(/^ /)){Ae=Af.shift();var Ar=this.dialect.block.horizRule(Ae,Af);if(Ar){Av.push.apply(Av,Ar);break}W(An,z,this);As=true;continue loose_search}break}return Av}})(),blockquote:function L(u,y){if(!u.match(/^>/m)){return undefined}var z=[];if(u[0]!=">"){var s=u.split(/\n/),r=[];while(s.length&&s[0][0]!=">"){r.push(s.shift())}u=s.join("\n");z.push.apply(z,this.processBlock(r.join("\n"),[]))}while(y.length&&y[0][0]==">"){var v=y.shift();u=new String(u+u.trailing+v);u.trailing=v.trailing}var w=u.replace(/^> ?/gm,""),x=this.tree;z.push(this.toTree(w,["blockquote"]));return z},referenceDefn:function O(w,s){var r=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!w.match(r)){return undefined}if(!E(this.tree)){this.tree.splice(1,0,{})}var u=E(this.tree);if(u.references===undefined){u.references={}}var v=this.loop_re_over_block(r,w,function(y){if(y[2]&&y[2][0]=="<"&&y[2][y[2].length-1]==">"){y[2]=y[2].substring(1,y[2].length-1)}var x=u.references[y[1].toLowerCase()]={href:y[2]};if(y[4]!==undefined){x.title=y[4]}else{if(y[5]!==undefined){x.title=y[5]}}});if(v.length){s.unshift(H(v,w.trailing))}return[]},para:function A(s,r){return[["para"].concat(this.processInline(s))]}}};F.dialects.Gruber.inline={__oneElement__:function N(v,w,u){var x,y,r=0;w=w||this.dialect.inline.__patterns__;var s=new RegExp("([\\s\\S]*?)("+(w.source||w)+")");x=s.exec(v);if(!x){return[v.length,v]}else{if(x[1]){return[x[1].length,x[1]]}}var y;if(x[2] in this.dialect.inline){y=this.dialect.inline[x[2]].call(this,v.substr(x.index),x,u||[])}y=y||[x[2].length,x[2]];return y},__call__:function j(s,w){var u=[],v;function r(y){if(typeof y=="string"&&typeof u[u.length-1]=="string"){u[u.length-1]+=y}else{u.push(y)}}while(s.length>0){v=this.dialect.inline.__oneElement__.call(this,s,w,u);s=s.substr(v.shift());W(v,r)}return u},"]":function(){},"}":function(){},"\\":function C(r){if(r.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)){return[2,r[1]]}else{return[1,"\\"]}},"![":function K(s){var u=s.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(u){if(u[2]&&u[2][0]=="<"&&u[2][u[2].length-1]==">"){u[2]=u[2].substring(1,u[2].length-1)}u[2]=this.dialect.inline.__call__.call(this,u[2],/\\/)[0];var r={alt:u[1],href:u[2]||""};if(u[4]!==undefined){r.title=u[4]}return[u[0].length,["img",r]]}u=s.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/);if(u){return[u[0].length,["img_ref",{alt:u[1],ref:u[2].toLowerCase(),original:u[0]}]]}return[2,"!["]},"[":function Y(x){var Ac=String(x);var Aa=F.DialectHelpers.inline_until_char.call(this,x.substr(1),"]");if(!Aa){return[1,"["]}var Ab=1+Aa[0],v=Aa[1],s,u;x=x.substr(Ab);var y=x.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(y){var z=y[1];Ab+=y[0].length;if(z&&z[0]=="<"&&z[z.length-1]==">"){z=z.substring(1,z.length-1)}if(!y[3]){var w=1;for(var r=0;r<z.length;r++){switch(z[r]){case"(":w++;break;case")":if(--w==0){Ab-=z.length-r;z=z.substring(0,r)}break}}}z=this.dialect.inline.__call__.call(this,z,/\\/)[0];u={href:z||""};if(y[3]!==undefined){u.title=y[3]}s=["link",u].concat(v);return[Ab,s]}y=x.match(/^\s*\[(.*?)\]/);if(y){Ab+=y[0].length;u={ref:(y[1]||String(v)).toLowerCase(),original:Ac.substr(0,Ab)};s=["link_ref",u].concat(v);return[Ab,s]}if(v.length==1&&typeof v[0]=="string"){u={ref:v[0].toLowerCase(),original:Ac.substr(0,Ab)};s=["link_ref",u,v[0]];return[Ab,s]}return[1,"["]},"<":function q(r){var s;if((s=r.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null){if(s[3]){return[s[0].length,["link",{href:"mailto:"+s[3]},s[3]]]}else{if(s[2]=="mailto"){return[s[0].length,["link",{href:s[1]},s[1].substr("mailto:".length)]]}else{return[s[0].length,["link",{href:s[1]},s[1]]]}}}return[1,"<"]},"`":function G(r){var s=r.match(/(`+)(([\s\S]*?)\1)/);if(s&&s[2]){return[s[1].length+s[2].length,["inlinecode",s[3]]]}else{return[1,"`"]}},"  \n":function b(r){return[3,["linebreak"]]}};function J(r,s){var v=r+"_state",w=r=="strong"?"em_state":"strong_state";function u(x){this.len_after=x;this.name="close_"+s}return function(Ab,Ac){if(this[v][0]==s){this[v].shift();return[Ab.length,new u(Ab.length-s.length)]}else{var Ad=this[w].slice(),z=this[v].slice();this[v].unshift(s);var x=this.processInline(Ab.substr(s.length));var Aa=x[x.length-1];var y=this[v].shift();if(Aa instanceof u){x.pop();var Ae=Ab.length-Aa.len_after;return[Ae,[r].concat(x)]}else{this[w]=Ad;this[v]=z;return[s.length,s]}}}}F.dialects.Gruber.inline["**"]=J("strong","**");F.dialects.Gruber.inline["__"]=J("strong","__");F.dialects.Gruber.inline["*"]=J("em","*");F.dialects.Gruber.inline["_"]=J("em","_");F.buildBlockOrder=function(r){var u=[];for(var s in r){if(s=="__order__"||s=="__call__"){continue}u.push(s)}r.__order__=u};F.buildInlinePatterns=function(r){var w=[];for(var s in r){if(s.match(/^__.*__$/)){continue}var u=s.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");w.push(s.length==1?u:"(?:"+u+")")}w=w.join("|");r.__patterns__=w;var v=r.__call__;r.__call__=function(x,y){if(y!=undefined){return v.call(this,x,y)}else{return v.call(this,x,w)}}};F.DialectHelpers={};F.DialectHelpers.inline_until_char=function(r,v){var w=0,s=[];while(true){if(r[w]==v){w++;return[w,s]}if(w>=r.length){return null}var u=this.dialect.inline.__oneElement__.call(this,r.substr(w));w+=u[0];s.push.apply(s,u.slice(1))}};F.subclassDialect=function(s){function r(){}r.prototype=s.block;function u(){}u.prototype=s.inline;return{block:new r(),inline:new u()}};F.buildBlockOrder(F.dialects.Gruber.block);F.buildInlinePatterns(F.dialects.Gruber.inline);F.dialects.Maruku=F.subclassDialect(F.dialects.Gruber);F.dialects.Maruku.processMetaHash=function M(w){var v=D(w),x={};for(var r=0;r<v.length;++r){if(/^#/.test(v[r])){x.id=v[r].substring(1)}else{if(/^\./.test(v[r])){if(x["class"]){x["class"]=x["class"]+v[r].replace(/./," ")}else{x["class"]=v[r].substring(1)}}else{if(/\=/.test(v[r])){var u=v[r].split(/\=/);x[u[0]]=u[1]}}}}return x};function D(v){var s=v.split(""),r=[""],u=false;while(s.length){var w=s.shift();switch(w){case" ":if(u){r[r.length-1]+=w}else{r.push("")}break;case"'":case'"':u=!u;break;case"\\":w=s.shift();default:r[r.length-1]+=w;break}}return r}F.dialects.Maruku.block.document_meta=function c(x,s){if(x.lineNumber>1){return undefined}if(!x.match(/^(?:\w+:.*\n)*\w+:.*$/)){return undefined}if(!E(this.tree)){this.tree.splice(1,0,{})}var u=x.split(/\n/);for(p in u){var v=u[p].match(/(\w+):\s*(.*)$/),r=v[1].toLowerCase(),w=v[2];this.tree[1][r]=w}return[]};F.dialects.Maruku.block.block_meta=function d(u,y){var w=u.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!w){return undefined}var s=this.dialect.processMetaHash(w[2]);var z;if(w[1]===""){var v=this.tree[this.tree.length-1];z=E(v);if(typeof v==="string"){return undefined}if(!z){z={};v.splice(1,0,z)}for(a in s){z[a]=s[a]}return[]}var x=u.replace(/\n.*$/,""),r=this.processBlock(x,[]);z=E(r[0]);if(!z){z={};r[0].splice(1,0,z)}for(a in s){z[a]=s[a]}return r};F.dialects.Maruku.block.definition_list=function k(w,Aa){var r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,u=["dl"],v;if((x=w.match(r))){var Ab=[w];while(Aa.length&&r.exec(Aa[0])){Ab.push(Aa.shift())}for(var y=0;y<Ab.length;++y){var x=Ab[y].match(r),s=x[1].replace(/\n$/,"").split(/\n/),z=x[2].split(/\n:\s+/);for(v=0;v<s.length;++v){u.push(["dt",s[v]])}for(v=0;v<z.length;++v){u.push(["dd"].concat(this.processInline(z[v].replace(/(\n)\s+/,"$1"))))}}}else{return undefined}return[u]};F.dialects.Maruku.inline["{:"]=function n(w,x,r){if(!r.length){return[2,"{:"]}var z=r[r.length-1];if(typeof z==="string"){return[2,"{:"]}var y=w.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!y){return[2,"{:"]}var s=this.dialect.processMetaHash(y[1]),u=E(z);if(!u){u={};z.splice(1,0,u)}for(var v in s){u[v]=s[v]}return[y[0].length,""]};F.buildBlockOrder(F.dialects.Maruku.block);F.buildInlinePatterns(F.dialects.Maruku.inline);var m=Array.isArray||function(r){return Object.prototype.toString.call(r)=="[object Array]"};var W;if(Array.prototype.forEach){W=function(u,r,s){return u.forEach(r,s)}}else{W=function(v,r,s){for(var u=0;u<v.length;u++){r.call(s||v,v[u],u,v)}}}function E(r){return m(r)&&r.length>1&&typeof r[1]==="object"&&!(m(r[1]))?r[1]:undefined}h.renderJsonML=function(r,s){s=s||{};s.root=s.root||false;var u=[];if(s.root){u.push(U(r))}else{r.shift();if(r.length&&typeof r[0]==="object"&&!(r[0] instanceof Array)){r.shift()}while(r.length){u.push(U(r.shift()))}}return u.join("\n\n")};function Z(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function U(s){if(typeof s==="string"){return Z(s)}var r=s.shift(),u={},w=[];if(s.length&&typeof s[0]==="object"&&!(s[0] instanceof Array)){u=s.shift()}while(s.length){w.push(arguments.callee(s.shift()))}var v="";for(var x in u){v+=" "+x+'="'+Z(u[x])+'"'}if(r=="img"||r=="br"||r=="hr"){return"<"+r+v+"/>"}else{return"<"+r+v+">"+w.join("")+"</"+r+">"}}function I(z,x,w){var v;w=w||{};var Aa=z.slice(0);if(typeof w.preprocessTreeNode==="function"){Aa=w.preprocessTreeNode(Aa,x)}var r=E(Aa);if(r){Aa[1]={};for(v in r){Aa[1][v]=r[v]}r=Aa[1]}if(typeof Aa==="string"){return Aa}switch(Aa[0]){case"header":Aa[0]="h"+Aa[1].level;delete Aa[1].level;break;case"bulletlist":Aa[0]="ul";break;case"numberlist":Aa[0]="ol";break;case"listitem":Aa[0]="li";break;case"para":Aa[0]="p";break;case"markdown":Aa[0]="html";if(r){delete r.references}break;case"code_block":Aa[0]="pre";v=r?2:1;var u=["code"];u.push.apply(u,Aa.splice(v));Aa[v]=u;break;case"inlinecode":Aa[0]="code";break;case"img":Aa[1].src=Aa[1].href;delete Aa[1].href;break;case"linebreak":Aa[0]="br";break;case"link":Aa[0]="a";break;case"link_ref":Aa[0]="a";var s=x[r.ref];if(s){delete r.ref;r.href=s.href;if(s.title){r.title=s.title}delete r.original}else{return r.original}break;case"img_ref":Aa[0]="img";var s=x[r.ref];if(s){delete r.ref;r.src=s.href;if(s.title){r.title=s.title}delete r.original}else{return r.original}break}v=1;if(r){for(var y in Aa[1]){v=2}if(v===1){Aa.splice(v,1)}}for(;v<Aa.length;++v){Aa[v]=arguments.callee(Aa[v],x,w)}return Aa}function o(s){var r=E(s)?2:1;while(r<s.length){if(typeof s[r]==="string"){if(r+1<s.length&&typeof s[r+1]==="string"){s[r]+=s.splice(r+1,1)[0]}else{++r}}else{arguments.callee(s[r]);++r}}}})((function(){if(typeof exports==="undefined"){window.markdown={};return window.markdown}else{return exports}})());var toMarkdown=function(G){var D=[{patterns:"p",replacement:function(P,O,N){return N?"\n\n"+N+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(R,Q,P,N){var S="";for(var O=0;O<Q;O++){S+="#"}return"\n\n"+S+" "+N+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(Q,P,N){var O=P.match(F("href")),R=P.match(F("title"));return O?"["+N+"]("+O[1]+(R&&R[1]?' "'+R[1]+'"':"")+")":Q}},{patterns:["b","strong"],replacement:function(P,O,N){return N?"**"+N+"**":""}},{patterns:["i","em"],replacement:function(P,O,N){return N?"_"+N+"_":""}},{patterns:"code",replacement:function(P,O,N){return N?"`"+N+"`":""}},{patterns:"img",type:"void",replacement:function(Q,P,N){var R=P.match(F("src")),O=P.match(F("alt")),S=P.match(F("title"));return"!["+(O&&O[1]?O[1]:"")+"]("+R[1]+(S&&S[1]?' "'+S[1]+'"':"")+")"}}];for(var H=0,I=D.length;H<I;H++){if(typeof D[H].patterns==="string"){G=A(G,{tag:D[H].patterns,replacement:D[H].replacement,type:D[H].type})}else{for(var E=0,M=D[H].patterns.length;E<M;E++){G=A(G,{tag:D[H].patterns[E],replacement:D[H].replacement,type:D[H].type})}}}function A(N,R){var Q=R.type==="void"?"<"+R.tag+"\\b([^>]*)\\/?>":"<"+R.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+R.tag+">",O=new RegExp(Q,"gi"),P="";if(typeof R.replacement==="string"){P=N.replace(O,R.replacement)}else{P=N.replace(O,function(T,S,U,V){return R.replacement.call(this,T,S,U,V)})}return P}function F(N){return new RegExp(N+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}G=G.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(O,N){N=N.replace(/^\t+/g,"  ");N=N.replace(/\n/g,"\n    ");return"\n\n    "+N+"\n"});G=G.replace(/^(\s{0,3}\d+)\. /g,"$1\\. ");var C=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;while(G.match(C)){G=G.replace(C,function(N){return J(N)})}function J(N){N=N.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(R,S,O){var P=O.split("</li>");P.splice(P.length-1,1);for(H=0,I=P.length;H<I;H++){if(P[H]){var Q=(S==="ol")?(H+1)+".  ":"*   ";P[H]=P[H].replace(/\s*<li[^>]*>([\s\S]*)/i,function(U,T){T=T.replace(/^\s+/,"");T=T.replace(/\n\n/g,"\n\n    ");T=T.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 ");return Q+T})}}return P.join("\n")});return"\n\n"+N.replace(/[ \t]+\n|\s+$/g,"")}var K=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;while(G.match(K)){G=G.replace(K,function(N){return B(N)})}function B(N){N=N.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(O,P){P=P.replace(/^\s+|\s+$/g,"");P=L(P);P=P.replace(/^/gm,"> ");P=P.replace(/^(>([ \t]{2,}>)+)/gm,"> >");return P});return N}function L(N){N=N.replace(/^[\t\r\n]+|[\t\r\n]+$/g,"");N=N.replace(/\n\s+\n/g,"\n\n");N=N.replace(/\n{3,}/g,"\n\n");return N}return L(G)};if(typeof exports==="object"){exports.toMarkdown=toMarkdown}!function(E){var A=function(G,F){this.$ns="bootstrap-markdown";this.$element=E(G);this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null};this.$options=E.extend(true,{},E.fn.markdown.defaults,F);this.$oldContent=null;this.$isPreview=false;this.$editor=null;this.$textarea=null;this.$handler=[];this.$callback=[];this.$nextTab=[];this.showEditor()};A.prototype={constructor:A,__alterButtons:function(H,I){var G=this.$handler,J=(H=="all"),F=this;E.each(G,function(M,L){var K=true;if(J){K=false}else{K=L.indexOf(H)<0}if(K==false){I(F.$editor.find('button[data-handler="'+L+'"]'))}})},__buildButtons:function(Q,U){var O,J=this.$ns,H=this.$handler,G=this.$callback;for(O=0;O<Q.length;O++){var W,I=Q[O];for(W=0;W<I.length;W++){var F,V=I[W].data,L=E("<div/>",{"class":"btn-group"});for(F=0;F<V.length;F++){var M=V[F],T="",N=J+"-"+M.name,R=M.icon instanceof Object?M.icon[this.$options.iconlibrary]:M.icon,K=M.btnText?M.btnText:"",P=M.btnClass?M.btnClass:"btn",S=M.tabIndex?M.tabIndex:"-1";if(M.toggle==true){T=' data-toggle="button"'}L.append('<button type="button" class="'+P+' btn-default btn-sm" title="'+M.title+'" tabindex="'+S+'" data-provider="'+J+'" data-handler="'+N+'"'+T+'><span class="'+R+'"></span> '+K+"</button>");H.push(N);G.push(M.callback)}U.append(L)}}return U},__setListener:function(){var F=typeof this.$textarea.attr("rows")!="undefined",H=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",G=F?this.$textarea.attr("rows"):H;this.$textarea.attr("rows",G);this.$textarea.css("resize","none");this.$textarea.on("focus",E.proxy(this.focus,this)).on("keypress",E.proxy(this.keypress,this)).on("keyup",E.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$textarea.on("keydown",E.proxy(this.keydown,this))}this.$textarea.data("markdown",this)},__handle:function(H){var L=E(H.currentTarget),I=this.$handler,F=this.$callback,J=L.attr("data-handler"),G=I.indexOf(J),K=F[G];E(H.currentTarget).focus();K(this);if(J.indexOf("cmdSave")<0){this.$textarea.focus()}H.preventDefault()},showEditor:function(){var O=this,I,U=this.$ns,R=this.$element,Q=R.css("height"),K=R.css("width"),J=this.$editable,L=this.$handler,P=this.$callback,N=this.$options,H=E("<div/>",{"class":"md-editor",click:function(){O.focus()}});if(this.$editor==null){var F=E("<div/>",{"class":"md-header btn-toolbar"});if(N.buttons.length>0){F=this.__buildButtons(N.buttons,F)}if(N.additionalButtons.length>0){F=this.__buildButtons(N.additionalButtons,F)}H.append(F);if(R.is("textarea")){R.before(H);I=R;I.addClass("md-input");H.append(I)}else{var T=(typeof toMarkdown=="function")?toMarkdown(R.html()):R.html(),M=E.trim(T);I=E("<textarea/>",{"class":"md-input","val":M});H.append(I);J.el=R;J.type=R.prop("tagName").toLowerCase();J.content=R.html();E(R[0].attributes).each(function(){J.attrKeys.push(this.nodeName);J.attrValues.push(this.nodeValue)});R.replaceWith(H)}if(N.savable){var S=E("<div/>",{"class":"md-footer"}),G="cmdSave";L.push(G);P.push(N.onSave);S.append('<button class="btn btn-success" data-provider="'+U+'" data-handler="'+G+'"><i class="icon icon-white icon-ok"></i> Save</button>');H.append(S)}E.each(["height","width"],function(W,V){if(N[V]!="inherit"){if(jQuery.isNumeric(N[V])){H.css(V,N[V]+"px")}else{H.addClass(N[V])}}});this.$editor=H;this.$textarea=I;this.$editable=J;this.$oldContent=this.getContent();this.__setListener();this.$editor.attr("id",(new Date).getTime());this.$editor.on("click",'[data-provider="bootstrap-markdown"]',E.proxy(this.__handle,this))}else{this.$editor.show()}if(N.autofocus){this.$textarea.focus();this.$editor.addClass("active")}N.onShow(this);return this},showPreview:function(){var I=this.$options,G=I.onPreview(this),K=this.$textarea,L=K.next(),F=E("<div/>",{"class":"md-preview","data-provider":"markdown-preview"}),J;this.$isPreview=true;this.disableButtons("all").enableButtons("cmdPreview");if(typeof G=="string"){J=G}else{var H=K.val();if(typeof markdown=="object"){J=markdown.toHTML(H)}else{if(typeof marked=="function"){J=marked(H)}else{J=H}}}F.html(J);if(L&&L.attr("class")=="md-footer"){F.insertBefore(L)}else{K.parent().append(F)}K.hide();F.data("markdown",this);return this},hidePreview:function(){this.$isPreview=false;var F=this.$editor.find('div[data-provider="markdown-preview"]');F.remove();this.enableButtons("all");this.$textarea.show();this.__setListener();return this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(F){this.$textarea.val(F);return this},findSelection:function(F){var I=this.getContent(),H;if(H=I.indexOf(F),H>=0&&F.length>0){var J=this.getSelection(),G;this.setSelection(H,H+F.length);G=this.getSelection();this.setSelection(J.start,J.end);return G}else{return null}},getSelection:function(){var F=this.$textarea[0];return(("selectionStart" in F&&function(){var G=F.selectionEnd-F.selectionStart;return{start:F.selectionStart,end:F.selectionEnd,length:G,text:F.value.substr(F.selectionStart,G)}})||function(){return null})()},setSelection:function(H,G){var F=this.$textarea[0];return(("selectionStart" in F&&function(){F.selectionStart=H;F.selectionEnd=G;return})||function(){return null})()},replaceSelection:function(G){var F=this.$textarea[0];return(("selectionStart" in F&&function(){F.value=F.value.substr(0,F.selectionStart)+G+F.value.substr(F.selectionEnd,F.value.length);F.selectionStart=F.value.length;return this})||function(){F.value+=G;return jQuery(F)})()},getNextTab:function(){if(this.$nextTab.length==0){return null}else{var G,F=this.$nextTab.shift();if(typeof F=="function"){G=F()}else{if(typeof F=="object"&&F.length>0){G=F}}return G}},setNextTab:function(I,H){if(typeof I=="string"){var G=this;this.$nextTab.push(function(){return G.findSelection(I)})}else{if(typeof I=="numeric"&&typeof H=="numeric"){var F=this.getSelection();this.setSelection(I,H);this.$nextTab.push(this.getSelection());this.setSelection(F.start,F.end)}}return},enableButtons:function(F){var G=function(H){H.removeAttr("disabled")};this.__alterButtons(F,G);return this},disableButtons:function(F){var G=function(H){H.attr("disabled","disabled")};this.__alterButtons(F,G);return this},eventSupported:function(F){var G=F in this.$element;if(!G){this.$element.setAttribute(F,"return;");G=typeof this.$element[F]==="function"}return G},keydown:function(F){this.suppressKeyPressRepeat=~E.inArray(F.keyCode,[40,38,9,13,27]);this.keyup(F)},keypress:function(F){if(this.suppressKeyPressRepeat){return}this.keyup(F)},keyup:function(G){var I=false;switch(G.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var J;if(J=this.getNextTab(),J!=null){var H=this;setTimeout(function(){H.setSelection(J.start,J.end)},500);I=true}else{var F=this.getSelection();if(F.start==F.end&&F.end==this.getContent().length){I=false}else{this.setSelection(this.getContent().length,this.getContent().length);I=true}}break;case 13:case 27:I=false;break;default:I=false}if(I){G.stopPropagation();G.preventDefault()}},focus:function(F){var H=this.$options,G=H.hideable,I=this.$editor;I.addClass("active");E(document).find(".md-editor").each(function(){if(E(this).attr("id")!=I.attr("id")){var J;if(J=E(this).find("textarea").data("markdown"),J==null){J=E(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(J){J.blur()}}});H.onFocus(this);return this},blur:function(F){var K=this.$options,G=K.hideable,H=this.$editor,I=this.$editable;if(H.hasClass("active")||this.$element.parent().length==0){H.removeClass("active");if(G){if(I.el!=null){var J=E("<"+I.type+"/>"),M=this.getContent(),L=(typeof markdown=="object")?markdown.toHTML(M):M;E(I.attrKeys).each(function(O,N){J.attr(I.attrKeys[O],I.attrValues[O])});J.html(L);H.replaceWith(J)}else{H.hide()}}K.onBlur(this)}return this}};var B=E.fn.markdown;E.fn.markdown=function(F){return this.each(function(){var G=E(this),I=G.data("markdown"),H=typeof F=="object"&&F;if(!I){G.data("markdown",(I=new A(this,H)))}})};E.fn.markdown.defaults={autofocus:false,hideable:false,savable:false,width:"inherit",height:"inherit",iconlibrary:"glyph",buttons:[[{name:"groupFont",data:[{name:"cmdBold",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold"},callback:function(G){var F,I,J=G.getSelection(),H=G.getContent();if(J.length==0){F="strong text"}else{F=J.text}if(H.substr(J.start-2,2)=="**"&&H.substr(J.end,2)=="**"){G.setSelection(J.start-2,J.end+2);G.replaceSelection(F);I=J.start-2}else{G.replaceSelection("**"+F+"**");I=J.start+2}G.setSelection(I,I+F.length)}},{name:"cmdItalic",title:"Italic",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic"},callback:function(G){var F,I,J=G.getSelection(),H=G.getContent();if(J.length==0){F="emphasized text"}else{F=J.text}if(H.substr(J.start-1,1)=="*"&&H.substr(J.end,1)=="*"){G.setSelection(J.start-1,J.end+1);G.replaceSelection(F);I=J.start-1}else{G.replaceSelection("*"+F+"*");I=J.start+1}G.setSelection(I,I+F.length)}},{name:"cmdHeading",title:"Heading",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-font"},callback:function(H){var F,J,L=H.getSelection(),I=H.getContent(),G,K;if(L.length==0){F="heading text"}else{F=L.text+"\n"}if((G=4,I.substr(L.start-G,G)=="### ")||(G=3,I.substr(L.start-G,G)=="###")){H.setSelection(L.start-G,L.end);H.replaceSelection(F);J=L.start-G}else{if(L.start>0&&(K=I.substr(L.start-1,1),!!K&&K!="\n")){H.replaceSelection("\n\n### "+F);J=L.start+6}else{H.replaceSelection("### "+F);J=L.start+4}}H.setSelection(J,J+F.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",icon:{glyph:"glyphicon glyphicon-globe",fa:"fa fa-globe"},callback:function(G){var F,J,K=G.getSelection(),H=G.getContent(),I;if(K.length==0){F="enter link description here"}else{F=K.text}I=prompt("Insert Hyperlink","http://");if(I!=null&&I!=""&&I!="http://"){G.replaceSelection("["+F+"]("+I+")");J=K.start+1;G.setSelection(J,J+F.length)}}},{name:"cmdImage",title:"Image",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o"},callback:function(G){var F,J,K=G.getSelection(),H=G.getContent(),I;if(K.length==0){F="enter image description here"}else{F=K.text}I=prompt("Insert Image Hyperlink","http://");if(I!=null){G.replaceSelection("!["+F+"]("+I+' "enter image title here")');J=K.start+2;G.setNextTab("enter image title here");G.setSelection(J,J+F.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",title:"List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list"},callback:function(G){var F,J,K=G.getSelection(),H=G.getContent();if(K.length==0){F="list text here";G.replaceSelection("- "+F);J=K.start+2}else{if(K.text.indexOf("\n")<0){F=K.text;G.replaceSelection("- "+F);J=K.start+2}else{var I=[];I=K.text.split("\n");F=I[0];E.each(I,function(M,L){I[M]="- "+L});G.replaceSelection("\n\n"+I.join("\n"));J=K.start+4}}G.setSelection(J,J+F.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:true,title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search"},callback:function(F){var G=F.$isPreview,H;if(G==false){F.showPreview()}else{F.hidePreview()}}}]}]],additionalButtons:[],onShow:function(F){},onPreview:function(F){},onSave:function(F){},onBlur:function(F){},onFocus:function(F){},};E.fn.markdown.Constructor=A;E.fn.markdown.noConflict=function(){E.fn.markdown=B;return this};var C=function(F){var G=F;if(G.data("markdown")){G.data("markdown").showEditor();return}G.markdown(G.data())};var D=function(G){var H=false,F,I=E(G.currentTarget);if((G.type=="focusin"||G.type=="click")&&I.length==1&&typeof I[0]=="object"){F=I[0].activeElement;if(!E(F).data("markdown")){if(typeof E(F).parent().parent().parent().attr("class")=="undefined"||E(F).parent().parent().parent().attr("class").indexOf("md-editor")<0){if(typeof E(F).parent().parent().attr("class")=="undefined"||E(F).parent().parent().attr("class").indexOf("md-editor")<0){H=true}}else{H=false}}if(H){E(document).find(".md-editor").each(function(){var K=E(F).parent();if(E(this).attr("id")!=K.attr("id")){var J;if(J=E(this).find("textarea").data("markdown"),J==null){J=E(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(J){J.blur()}}})}G.stopPropagation()}};E(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(F){C(E(this));F.preventDefault()}).on("click",function(F){D(F)}).on("focusin",function(F){D(F)}).ready(function(){E('textarea[data-provide="markdown"]').each(function(){C(E(this))})})}(window.jQuery);!function(H){var F,G,K="0.4.2",A="hasOwnProperty",I=/[\.\/]/,J="*",D=function(){},E=function(M,L){return M-L},B={n:{}},C=function(U,X){U=String(U);var L,V=G,W=Array.prototype.slice.call(arguments,2),P=C.listeners(U),O=0,S=[],T={},Q=[],R=F;F=U,G=0;for(var M=0,N=P.length;N>M;M++){"zIndex" in P[M]&&(S.push(P[M].zIndex),P[M].zIndex<0&&(T[P[M].zIndex]=P[M]))}for(S.sort(E);S[O]<0;){if(L=T[S[O++]],Q.push(L.apply(X,W)),G){return G=V,Q}}for(M=0;N>M;M++){if(L=P[M],"zIndex" in L){if(L.zIndex==S[O]){if(Q.push(L.apply(X,W)),G){break}do{if(O++,L=T[S[O]],L&&Q.push(L.apply(X,W)),G){break}}while(L)}else{T[L.zIndex]=L}}else{if(Q.push(L.apply(X,W)),G){break}}}return G=V,F=R,Q.length?Q:null};C._events=B,C.listeners=function(W){var U,V,X,L,O,P,N,S,T=W.split(I),Q=B,R=[Q],M=[];for(L=0,O=T.length;O>L;L++){for(S=[],P=0,N=R.length;N>P;P++){for(Q=R[P].n,V=[Q[T[L]],Q[J]],X=2;X--;){U=V[X],U&&(S.push(U),M=M.concat(U.f||[]))}}R=S}return M},C.on=function(Q,O){if(Q=String(Q),"function"!=typeof O){return function(){}}for(var P=Q.split(I),M=B,N=0,L=P.length;L>N;N++){M=M.n,M=M.hasOwnProperty(P[N])&&M[P[N]]||(M[P[N]]={n:{}})}for(M.f=M.f||[],N=0,L=M.f.length;L>N;N++){if(M.f[N]==O){return D}}return M.f.push(O),function(R){+R==+R&&(O.zIndex=+R)}},C.f=function(M){var L=[].slice.call(arguments,1);return function(){C.apply(null,[M,null].concat(L).concat([].slice.call(arguments,0)))}},C.stop=function(){G=1},C.nt=function(L){return L?new RegExp("(?:\\.|\\/|^)"+L+"(?:\\.|\\/|$)").test(F):F},C.nts=function(){return F.split(I)},C.off=C.unbind=function(V,T){if(!V){return C._events=B={n:{}},void 0}var U,W,N,O,R,S,P,Q=V.split(I),L=[B];for(O=0,R=Q.length;R>O;O++){for(S=0;S<L.length;S+=N.length-2){if(N=[S,1],U=L[S].n,Q[O]!=J){U[Q[O]]&&N.push(U[Q[O]])}else{for(W in U){U[A](W)&&N.push(U[W])}}L.splice.apply(L,N)}}for(O=0,R=L.length;R>O;O++){for(U=L[O];U.n;){if(T){if(U.f){for(S=0,P=U.f.length;P>S;S++){if(U.f[S]==T){U.f.splice(S,1);break}}!U.f.length&&delete U.f}for(W in U.n){if(U.n[A](W)&&U.n[W].f){var M=U.n[W].f;for(S=0,P=M.length;P>S;S++){if(M[S]==T){M.splice(S,1);break}}!M.length&&delete U.n[W].f}}}else{delete U.f;for(W in U.n){U.n[A](W)&&U.n[W].f&&delete U.n[W].f}}U=U.n}}},C.once=function(N,L){var M=function(){return C.unbind(N,M),L.apply(this,arguments)};return C.on(N,M)},C.version=K,C.toString=function(){return"You are running Eve "+K},"undefined"!=typeof module&&module.exports?module.exports=C:"undefined"!=typeof define?define("eve",[],function(){return C}):H.eve=C}(window||this),function(B,A){"function"==typeof define&&define.amd?define(["eve"],function(C){return A(B,C)}):A(B,B.eve)}(this,function(Bn,Bl){function Bm(C){if(Bm.is(C,"function")){return Bc?C():Bl.on("raphael.DOMload",C)}if(Bm.is(C,AH)){return Bm._engine.create[AY](Bm,C.splice(0,3+Bm.is(C[0],AJ))).add(C)}var A=Array.prototype.slice.call(arguments,0);if(Bm.is(A[A.length-1],"function")){var B=A.pop();return Bc?B.call(Bm._engine.create[AY](Bm,A)):Bl.on("raphael.DOMload",function(){B.call(Bm._engine.create[AY](Bm,A))})}return Bm._engine.create[AY](Bm,arguments)}function Bq(C){if("function"==typeof C||Object(C)!==C){return C}var A=new C.constructor;for(var B in C){C[A0](B)&&(A[B]=Bq(C[B]))}return A}function Br(D,B){for(var C=0,A=D.length;A>C;C++){if(D[C]===B){return D.push(D.splice(C,1)[0])}}}function Bo(D,B,C){function A(){var H=Array.prototype.slice.call(arguments,0),E=H.join(""),F=A.cache=A.cache||{},G=A.count=A.count||[];return F[A0](E)?(Br(G,E),C?C(F[E]):F[E]):(G.length>=1000&&delete F[G.shift()],G.push(E),F[E]=D[AY](B,H),C?C(F[E]):F[E])}return A}function Bp(){return this.hex}function Bf(E,C){for(var D=[],A=0,B=E.length;B-2*!C>A;A+=2){var F=[{x:+E[A-2],y:+E[A-1]},{x:+E[A],y:+E[A+1]},{x:+E[A+2],y:+E[A+3]},{x:+E[A+4],y:+E[A+5]}];C?A?B-4==A?F[3]={x:+E[0],y:+E[1]}:B-2==A&&(F[2]={x:+E[0],y:+E[1]},F[3]={x:+E[2],y:+E[3]}):F[0]={x:+E[B-2],y:+E[B-1]}:B-4==A?F[3]=F[2]:A||(F[0]={x:+E[A],y:+E[A+1]}),D.push(["C",(-F[0].x+6*F[1].x+F[2].x)/6,(-F[0].y+6*F[1].y+F[2].y)/6,(F[1].x+6*F[2].x-F[3].x)/6,(F[1].y+6*F[2].y-F[3].y)/6,F[2].x,F[2].y])}return D}function Bg(F,D,E,B,C){var G=-3*D+9*E-9*B+3*C,A=F*G+6*D-12*E+6*B;return F*A-3*D+3*E}function Bd(O,M,N,R,S,P,Q,H,F){null==F&&(F=1),F=F>1?1:0>F?0:F;for(var G=F/2,K=12,L=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],I=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],J=0,C=0;K>C;C++){var D=G*L[C]+G,A=Bg(D,O,N,S,Q),B=Bg(D,M,R,P,H),E=A*A+B*B;J+=I[C]*AP.sqrt(E)}return G*J}function Be(K,I,J,N,A,L,M,C,D){if(!(0>D||Bd(K,I,J,N,A,L,M,C)<D)){var B,G=1,H=G/2,E=G-H,F=0.01;for(B=Bd(K,I,J,N,A,L,M,C,E);AG(B-D)>F;){H/=2,E+=(D>B?1:-1)*H,B=Bd(K,I,J,N,A,L,M,C,E)}return E}}function Bj(L,J,K,O,A,M,N,D){if(!(AQ(L,K)<AF(A,N)||AF(L,K)>AQ(A,N)||AQ(J,O)<AF(M,D)||AF(J,O)>AQ(M,D))){var E=(L*O-J*K)*(A-N)-(L-K)*(A*D-M*N),B=(L*O-J*K)*(M-D)-(J-O)*(A*D-M*N),C=(L-K)*(M-D)-(J-O)*(A-N);if(C){var H=E/C,I=B/C,F=+H.toFixed(2),G=+I.toFixed(2);if(!(F<+AF(L,K).toFixed(2)||F>+AQ(L,K).toFixed(2)||F<+AF(A,N).toFixed(2)||F>+AQ(A,N).toFixed(2)||G<+AF(J,O).toFixed(2)||G>+AQ(J,O).toFixed(2)||G<+AF(M,D).toFixed(2)||G>+AQ(M,D).toFixed(2))){return{x:H,y:I}}}}}function Bk(R,Q,U){var V=Bm.bezierBBox(R),S=Bm.bezierBBox(Q);if(!Bm.isBBoxIntersect(V,S)){return U?0:[]}for(var T=Bd.apply(0,R),L=Bd.apply(0,Q),M=AQ(~~(T/5),1),K=AQ(~~(L/5),1),P=[],N=[],O={},E=U?0:[],F=0;M+1>F;F++){var C=Bm.findDotsAtSegment.apply(Bm,R.concat(F/M));P.push({x:C.x,y:C.y,t:F/M})}for(F=0;K+1>F;F++){C=Bm.findDotsAtSegment.apply(Bm,Q.concat(F/K)),N.push({x:C.x,y:C.y,t:F/K})}for(F=0;M>F;F++){for(var D=0;K>D;D++){var I=P[F],J=P[F+1],G=N[D],H=N[D+1],Z=AG(J.x-I.x)<0.001?"y":"x",c=AG(H.x-G.x)<0.001?"y":"x",Y=Bj(I.x,I.y,J.x,J.y,G.x,G.y,H.x,H.y);if(Y){if(O[Y.x.toFixed(4)]==Y.y.toFixed(4)){continue}O[Y.x.toFixed(4)]=Y.y.toFixed(4);var X=I.t+AG((Y[Z]-I[Z])/(J[Z]-I[Z]))*(J.t-I.t),W=G.t+AG((Y[c]-G[c])/(H[c]-G[c]))*(H.t-G.t);X>=0&&1.001>=X&&W>=0&&1.001>=W&&(U?E++:E.push({x:Y.x,y:Y.y,t1:AF(X,1),t2:AF(W,1)}))}}}return E}function Bh(Q,P,T){Q=Bm._path2curve(Q),P=Bm._path2curve(P);for(var U,R,S,K,L,I,J,O,M,N,C=T?0:[],D=0,A=Q.length;A>D;D++){var B=Q[D];if("M"==B[0]){U=L=B[1],R=I=B[2]}else{"C"==B[0]?(M=[U,R].concat(B.slice(1)),U=M[6],R=M[7]):(M=[U,R,U,R,L,I,L,I],U=L,R=I);for(var G=0,H=P.length;H>G;G++){var E=P[G];if("M"==E[0]){S=J=E[1],K=O=E[2]}else{"C"==E[0]?(N=[S,K].concat(E.slice(1)),S=N[6],K=N[7]):(N=[S,K,S,K,J,O,J,O],S=J,K=O);var F=Bk(M,N,T);if(T){C+=F}else{for(var V=0,W=F.length;W>V;V++){F[V].segment1=D,F[V].segment2=G,F[V].bez1=M,F[V].bez2=N}C=C.concat(F)}}}}}return C}function Bi(E,C,D,A,B,F){null!=E?(this.a=+E,this.b=+C,this.c=+D,this.d=+A,this.e=+B,this.f=+F):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function A6(){return this.x+AN+this.y+AN+this.width+"  "+this.height}function A7(L,J,K,O,A,M){function N(P){return((H*P+C)*P+B)*P}function D(R,P){var Q=E(R,P);return((G*Q+F)*Q+I)*Q}function E(U,S){var T,W,P,V,Q,R;for(P=U,R=0;8>R;R++){if(V=N(P)-U,AG(V)<S){return P}if(Q=(3*H*P+2*C)*P+B,AG(Q)<1e-06){break}P-=V/Q}if(T=0,W=1,P=U,T>P){return T}if(P>W){return W}for(;W>T;){if(V=N(P),AG(V-U)<S){return P}U>V?T=P:W=P,P=(W-T)/2+T}return P}var B=3*J,C=3*(O-J)-B,H=1-B-C,I=3*K,F=3*(A-K)-I,G=1-I-F;return D(L,1/(200*M))}function A4(E,C){var D=[],A={};if(this.ms=C,this.times=1,E){for(var B in E){E[A0](B)&&(A[AC(B)]=E[B],D.push(AC(B)))}D.sort(Ca)}this.anim=A,this.top=D[D.length-1],this.percents=D}function A5(Cl,Co,E,Cm,Cn,Cg){E=AC(E);var Ch,Ce,Cf,Cj,Ck,Ci,Bb=Cl.ms,z={},Ab={},Cc={};if(Cm){for(Cb=0,q=Am.length;q>Cb;Cb++){var Cd=Am[Cb];if(Cd.el.id==Co.id&&Cd.anim==Cl){Cd.percent!=E?(Am.splice(Cb,1),Cf=1):Ce=Cd,Co.attr(Cd.totalOrigin);break}}}else{Cm=+Ab}for(var Cb=0,q=Cl.percents.length;q>Cb;Cb++){if(Cl.percents[Cb]==E||Cl.percents[Cb]>Cm*Cl.top){E=Cl.percents[Cb],Ck=Cl.percents[Cb-1]||0,Bb=Bb/Cl.top*(E-Ck),Cj=Cl.percents[Cb+1],Ch=Cl.anim[E];break}Cm&&Co.attr(Cl.anim[Cl.percents[Cb]])}if(Ch){if(Ce){Ce.initstatus=Cm,Ce.start=new Date-Ce.ms*Cm}else{for(var w in Ch){if(Ch[A0](w)&&(Ah[A0](w)||Co.paper.customAttributes[A0](w))){switch(z[w]=Co.attr(w),null==z[w]&&(z[w]=Ad[w]),Ab[w]=Ch[w],Ah[w]){case AJ:Cc[w]=(Ab[w]-z[w])/Bb;break;case"colour":z[w]=Bm.getRGB(z[w]);var Z=Bm.getRGB(Ab[w]);Cc[w]={r:(Z.r-z[w].r)/Bb,g:(Z.g-z[w].g)/Bb,b:(Z.b-z[w].b)/Bb};break;case"path":var X=BF(z[w],Ab[w]),Y=X[1];for(z[w]=X[0],Cc[w]=[],Cb=0,q=z[w].length;q>Cb;Cb++){Cc[w][Cb]=[0];for(var o=1,b=z[w][Cb].length;b>o;o++){Cc[w][Cb][o]=(Y[Cb][o]-z[w][Cb][o])/Bb}}break;case"transform":var c=Co._,S=By(c[w],Ab[w]);if(S){for(z[w]=S.from,Ab[w]=S.to,Cc[w]=[],Cc[w].real=!0,Cb=0,q=z[w].length;q>Cb;Cb++){for(Cc[w][Cb]=[z[w][Cb][0]],o=1,b=z[w][Cb].length;b>o;o++){Cc[w][Cb][o]=(Ab[w][Cb][o]-z[w][Cb][o])/Bb}}}else{var R=Co.matrix||new Bi,V={_:{transform:c.transform},getBBox:function(){return Co.getBBox(1)}};z[w]=[R.a,R.b,R.c,R.d,R.e,R.f],BI(V,Ab[w]),Ab[w]=V._.transform,Cc[w]=[(V.matrix.a-R.a)/Bb,(V.matrix.b-R.b)/Bb,(V.matrix.c-R.c)/Bb,(V.matrix.d-R.d)/Bb,(V.matrix.e-R.e)/Bb,(V.matrix.f-R.f)/Bb]}break;case"csv":var W=AO(Ch[w])[AL](A9),T=AO(z[w])[AL](A9);if("clip-rect"==w){for(z[w]=T,Cc[w]=[],Cb=T.length;Cb--;){Cc[w][Cb]=(W[Cb]-z[w][Cb])/Bb}}Ab[w]=W;break;default:for(W=[][AZ](Ch[w]),T=[][AZ](z[w]),Cc[w]=[],Cb=Co.paper.customAttributes[w].length;Cb--;){Cc[w][Cb]=((W[Cb]||0)-(T[Cb]||0))/Bb}}}}var U=Ch.easing,I=Bm.easing_formulas[U];if(!I){if(I=AO(U).match(Az),I&&5==I.length){var J=I;I=function(A){return A7(A,+J[1],+J[2],+J[3],+J[4],Bb)}}else{I=B8}}if(Ci=Ch.start||Cl.start||+new Date,Cd={anim:Cl,percent:E,timestamp:Ci,start:Ci+(Cl.del||0),status:0,initstatus:Cm||0,stop:!1,ms:Bb,easing:I,from:z,diff:Cc,to:Ab,el:Co,callback:Ch.callback,prev:Ck,next:Cj,repeat:Cg||Cl.times,origin:Co.attr(),totalOrigin:Cn},Am.push(Cd),Cm&&!Ce&&!Cf&&(Cd.stop=!0,Cd.start=new Date-Bb*Cm,1==Am.length)){return Ak()}Cf&&(Cd.start=new Date-Cd.ms*Cm),1==Am.length&&Aj(Ak)}Bl("raphael.anim.start."+Co.id,Co,Cl)}}function Ba(B){for(var A=0;A<Am.length;A++){Am[A].el.paper==B&&Am.splice(A--,1)}}Bm.version="2.1.2",Bm.eve=Bl;var Bc,A8,A9=/[, ]+/,A2={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},A3=/\{(\d+)\}/g,A0="hasOwnProperty",AV={doc:document,win:Bn},AT={was:Object.prototype[A0].call(AV.win,"Raphael"),is:AV.win.Raphael},AU=function(){this.ca=this.customAttributes={}},AY="apply",AZ="concat",AW="ontouchstart" in AV.win||AV.win.DocumentTouch&&AV.doc instanceof DocumentTouch,AX="",AN=" ",AO=String,AL="split",AM="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[AL](AN),AR={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},AS=AO.prototype.toLowerCase,AP=Math,AQ=AP.max,AF=AP.min,AG=AP.abs,AD=AP.pow,AE=AP.PI,AJ="number",AK="string",AH="array",AI=Object.prototype.toString,AA=(Bm._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),AB={NaN:1,Infinity:1,"-Infinity":1},Az=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,A1=AP.round,AC=parseFloat,Ae=parseInt,Ac=AO.prototype.toUpperCase,Ad=Bm._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Ah=Bm._availableAnimAttrs={blur:AJ,"clip-rect":"csv",cx:AJ,cy:AJ,fill:"colour","fill-opacity":AJ,"font-size":AJ,height:AJ,opacity:AJ,path:"path",r:AJ,rx:AJ,ry:AJ,stroke:"colour","stroke-opacity":AJ,"stroke-width":AJ,transform:"transform",width:AJ,x:AJ,y:AJ},Ai=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Af={hs:1,rg:1},Ag=/,?([achlmqrstvxz]),?/gi,B6=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,B7=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,B4=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,B5=(Bm._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Ca=function(B,A){return AC(B)-AC(A)},Aa=function(){},B8=function(A){return A},B9=Bm._rectPath=function(E,C,D,A,B){return B?[["M",E+B,C],["l",D-2*B,0],["a",B,B,0,0,1,B,B],["l",0,A-2*B],["a",B,B,0,0,1,-B,B],["l",2*B-D,0],["a",B,B,0,0,1,-B,-B],["l",0,2*B-A],["a",B,B,0,0,1,B,-B],["z"]]:[["M",E,C],["l",D,0],["l",0,A],["l",-D,0],["z"]]},BY=function(D,B,C,A){return null==A&&(A=C),[["M",D,B],["m",0,-A],["a",C,A,0,1,1,0,2*A],["a",C,A,0,1,1,0,-2*A],["z"]]},BZ=Bm._getPath={path:function(A){return A.attr("path")},circle:function(B){var A=B.attrs;return BY(A.cx,A.cy,A.r)},ellipse:function(B){var A=B.attrs;return BY(A.cx,A.cy,A.rx,A.ry)},rect:function(B){var A=B.attrs;return B9(A.x,A.y,A.width,A.height,A.r)},image:function(B){var A=B.attrs;return B9(A.x,A.y,A.width,A.height)},text:function(B){var A=B._getBBox();return B9(A.x,A.y,A.width,A.height)},set:function(B){var A=B._getBBox();return B9(A.x,A.y,A.width,A.height)}},BW=Bm.mapPath=function(F,D){if(!D){return F}var E,I,A,G,H,B,C;for(F=BF(F),A=0,H=F.length;H>A;A++){for(C=F[A],G=1,B=C.length;B>G;G+=2){E=D.x(C[G],C[G+1]),I=D.y(C[G],C[G+1]),C[G]=E,C[G+1]=I}}return F};if(Bm._g=AV,Bm.type=AV.win.SVGAngle||AV.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==Bm.type){var BX,B2=AV.doc.createElement("div");if(B2.innerHTML='<v:shape adj="1"/>',BX=B2.firstChild,BX.style.behavior="url(#default#VML)",!BX||"object"!=typeof BX.adj){return Bm.type=AX}B2=null}Bm.svg=!(Bm.vml="VML"==Bm.type),Bm._Paper=AU,Bm.fn=A8=AU.prototype=Bm.prototype,Bm._id=0,Bm._oid=0,Bm.is=function(B,A){return A=AS.call(A),"finite"==A?!AB[A0](+B):"array"==A?B instanceof Array:"null"==A&&null===B||A==typeof B&&null!==B||"object"==A&&B===Object(B)||"array"==A&&Array.isArray&&Array.isArray(B)||AI.call(B).slice(8,-1).toLowerCase()==A},Bm.angle=function(E,D,H,A,F,G){if(null==F){var B=E-H,C=D-A;return B||C?(180+180*AP.atan2(-C,-B)/AE+360)%360:0}return Bm.angle(E,D,F,G)-Bm.angle(H,A,F,G)},Bm.rad=function(A){return A%360*AE/180},Bm.deg=function(A){return 180*A/AE%360},Bm.snapTo=function(D,C,A){if(A=Bm.is(A,"finite")?A:10,Bm.is(D,AH)){for(var B=D.length;B--;){if(AG(D[B]-C)<=A){return D[B]}}}else{D=+D;var E=C%D;if(A>E){return C-E}if(E>D-A){return C-E+D}}return C};Bm.createUUID=function(B,A){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(B,A).toUpperCase()}}(/[xy]/g,function(C){var A=16*AP.random()|0,B="x"==C?A:3&A|8;return B.toString(16)});Bm.setWindow=function(A){Bl("raphael.setWindow",Bm,AV.win,A),AV.win=A,AV.doc=AV.win.document,Bm._engine.initWin&&Bm._engine.initWin(AV.win)};var B3=function(G){if(Bm.vml){var F,B=/^\s+|\s+$/g;try{var C=new ActiveXObject("htmlfile");C.write("<body>"),C.close(),F=C.body}catch(A){F=createPopup().document.body}var D=F.createTextRange();B3=Bo(function(J){try{F.style.color=AO(J).replace(B,AX);var I=D.queryCommandValue("ForeColor");return I=(255&I)<<16|65280&I|(16711680&I)>>>16,"#"+("000000"+I.toString(16)).slice(-6)}catch(H){return"none"}})}else{var E=AV.doc.createElement("i");E.title="Raphal Colour Picker",E.style.display="none",AV.doc.body.appendChild(E),B3=Bo(function(H){return E.style.color=H,AV.doc.defaultView.getComputedStyle(E,AX).getPropertyValue("color")})}return B3(G)},B0=function(){return"hsb("+[this.h,this.s,this.b]+")"},B1=function(){return"hsl("+[this.h,this.s,this.l]+")"},BU=function(){return this.hex},BV=function(D,C,A){if(null==C&&Bm.is(D,"object")&&"r" in D&&"g" in D&&"b" in D&&(A=D.b,C=D.g,D=D.r),null==C&&Bm.is(D,AK)){var B=Bm.getRGB(D);D=B.r,C=B.g,A=B.b}return(D>1||C>1||A>1)&&(D/=255,C/=255,A/=255),[D,C,A]},BT=function(D,C,A,B){D*=255,C*=255,A*=255;var E={r:D,g:C,b:A,hex:Bm.rgb(D,C,A),toString:BU};return Bm.is(B,"finite")&&(E.opacity=B),E};Bm.color=function(B){var A;return Bm.is(B,"object")&&"h" in B&&"s" in B&&"b" in B?(A=Bm.hsb2rgb(B),B.r=A.r,B.g=A.g,B.b=A.b,B.hex=A.hex):Bm.is(B,"object")&&"h" in B&&"s" in B&&"l" in B?(A=Bm.hsl2rgb(B),B.r=A.r,B.g=A.g,B.b=A.b,B.hex=A.hex):(Bm.is(B,"string")&&(B=Bm.getRGB(B)),Bm.is(B,"object")&&"r" in B&&"g" in B&&"b" in B?(A=Bm.rgb2hsl(B),B.h=A.h,B.s=A.s,B.l=A.l,A=Bm.rgb2hsb(B),B.v=A.b):(B={hex:"none"},B.r=B.g=B.b=B.h=B.s=B.v=B.l=-1)),B.toString=BU,B},Bm.hsb2rgb=function(F,D,E,I){this.is(F,"object")&&"h" in F&&"s" in F&&"b" in F&&(E=F.b,D=F.s,F=F.h,I=F.o),F*=360;var A,G,H,B,C;return F=F%360/60,C=E*D,B=C*(1-AG(F%2-1)),A=G=H=E-C,F=~~F,A+=[C,B,0,0,B,C][F],G+=[B,C,C,B,0,0][F],H+=[0,0,B,C,C,B][F],BT(A,G,H,I)},Bm.hsl2rgb=function(F,D,E,I){this.is(F,"object")&&"h" in F&&"s" in F&&"l" in F&&(E=F.l,D=F.s,F=F.h),(F>1||D>1||E>1)&&(F/=360,D/=100,E/=100),F*=360;var A,G,H,B,C;return F=F%360/60,C=2*D*(0.5>E?E:1-E),B=C*(1-AG(F%2-1)),A=G=H=E-C/2,F=~~F,A+=[C,B,0,0,B,C][F],G+=[B,C,C,B,0,0][F],H+=[0,0,B,C,C,B][F],BT(A,G,H,I)},Bm.rgb2hsb=function(F,D,E){E=BV(F,D,E),F=E[0],D=E[1],E=E[2];var B,C,G,A;return G=AQ(F,D,E),A=G-AF(F,D,E),B=0==A?null:G==F?(D-E)/A:G==D?(E-F)/A+2:(F-D)/A+4,B=(B+360)%6*60/360,C=0==A?0:A/G,{h:B,s:C,b:G,toString:B0}},Bm.rgb2hsl=function(F,D,E){E=BV(F,D,E),F=E[0],D=E[1],E=E[2];var I,A,G,H,B,C;return H=AQ(F,D,E),B=AF(F,D,E),C=H-B,I=0==C?null:H==F?(D-E)/C:H==D?(E-F)/C+2:(F-D)/C+4,I=(I+360)%6*60/360,G=(H+B)/2,A=0==C?0:0.5>G?C/(2*G):C/(2-2*G),{h:I,s:A,l:G,toString:B1}},Bm._path2string=function(){return this.join(",").replace(Ag,"$1")};Bm._preload=function(C,A){var B=AV.doc.createElement("img");B.style.cssText="position:absolute;left:-9999em;top:-9999em",B.onload=function(){A.call(this),this.onload=null,AV.doc.body.removeChild(this)},B.onerror=function(){AV.doc.body.removeChild(this)},AV.doc.body.appendChild(B),B.src=C};Bm.getRGB=Bo(function(F){if(!F||(F=AO(F)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Bp}}if("none"==F){return{r:-1,g:-1,b:-1,hex:"none",toString:Bp}}!(Af[A0](F.toLowerCase().substring(0,2))||"#"==F.charAt())&&(F=B3(F));var E,H,A,G,C,D,B=F.match(AA);return B?(B[2]&&(A=Ae(B[2].substring(5),16),H=Ae(B[2].substring(3,5),16),E=Ae(B[2].substring(1,3),16)),B[3]&&(A=Ae((C=B[3].charAt(3))+C,16),H=Ae((C=B[3].charAt(2))+C,16),E=Ae((C=B[3].charAt(1))+C,16)),B[4]&&(D=B[4][AL](Ai),E=AC(D[0]),"%"==D[0].slice(-1)&&(E*=2.55),H=AC(D[1]),"%"==D[1].slice(-1)&&(H*=2.55),A=AC(D[2]),"%"==D[2].slice(-1)&&(A*=2.55),"rgba"==B[1].toLowerCase().slice(0,4)&&(G=AC(D[3])),D[3]&&"%"==D[3].slice(-1)&&(G/=100)),B[5]?(D=B[5][AL](Ai),E=AC(D[0]),"%"==D[0].slice(-1)&&(E*=2.55),H=AC(D[1]),"%"==D[1].slice(-1)&&(H*=2.55),A=AC(D[2]),"%"==D[2].slice(-1)&&(A*=2.55),("deg"==D[0].slice(-3)||""==D[0].slice(-1))&&(E/=360),"hsba"==B[1].toLowerCase().slice(0,4)&&(G=AC(D[3])),D[3]&&"%"==D[3].slice(-1)&&(G/=100),Bm.hsb2rgb(E,H,A,G)):B[6]?(D=B[6][AL](Ai),E=AC(D[0]),"%"==D[0].slice(-1)&&(E*=2.55),H=AC(D[1]),"%"==D[1].slice(-1)&&(H*=2.55),A=AC(D[2]),"%"==D[2].slice(-1)&&(A*=2.55),("deg"==D[0].slice(-3)||""==D[0].slice(-1))&&(E/=360),"hsla"==B[1].toLowerCase().slice(0,4)&&(G=AC(D[3])),D[3]&&"%"==D[3].slice(-1)&&(G/=100),Bm.hsl2rgb(E,H,A,G)):(B={r:E,g:H,b:A,toString:Bp},B.hex="#"+(16777216|A|H<<8|E<<16).toString(16).slice(1),Bm.is(G,"finite")&&(B.opacity=G),B)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Bp}},Bm),Bm.hsb=Bo(function(C,B,A){return Bm.hsb2rgb(C,B,A).hex}),Bm.hsl=Bo(function(C,B,A){return Bm.hsl2rgb(C,B,A).hex}),Bm.rgb=Bo(function(C,A,B){return"#"+(16777216|B|A<<8|C<<16).toString(16).slice(1)}),Bm.getColor=function(C){var A=this.getColor.start=this.getColor.start||{h:0,s:1,b:C||0.75},B=this.hsb2rgb(A.h,A.s,A.b);return A.h+=0.075,A.h>1&&(A.h=0,A.s-=0.2,A.s<=0&&(this.getColor.start={h:0,s:1,b:A.b})),B.hex},Bm.getColor.reset=function(){delete this.start},Bm.parsePathString=function(D){if(!D){return null}var C=BO(D);if(C.arr){return BN(C.arr)}var A={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},B=[];return Bm.is(D,AH)&&Bm.is(D[0],AH)&&(B=BN(D)),B.length||AO(D).replace(B6,function(H,F,G){var I=[],E=F.toLowerCase();if(G.replace(B4,function(K,J){J&&I.push(+J)}),"m"==E&&I.length>2&&(B.push([F][AZ](I.splice(0,2))),E="l",F="m"==F?"l":"L"),"r"==E){B.push([F][AZ](I))}else{for(;I.length>=A[E]&&(B.push([F][AZ](I.splice(0,A[E]))),A[E]);){}}}),B.toString=Bm._path2string,C.arr=BN(B),B},Bm.parseTransformString=Bo(function(B){if(!B){return null}var A=[];return Bm.is(B,AH)&&Bm.is(B[0],AH)&&(A=BN(B)),A.length||AO(B).replace(B7,function(F,E,C){var D=[];AS.call(E);C.replace(B4,function(H,G){G&&D.push(+G)}),A.push([E][AZ](D))}),A.toString=Bm._path2string,A});var BO=function(B){var A=BO.ps=BO.ps||{};return A[B]?A[B].sleep=100:A[B]={sleep:100},setTimeout(function(){for(var C in A){A[A0](C)&&C!=B&&(A[C].sleep--,!A[C].sleep&&delete A[C])}}),A[B]};Bm.findDotsAtSegment=function(S,Q,R,V,W,T,U,K,L){var I=1-L,J=AD(I,3),O=AD(I,2),P=L*L,M=P*L,N=J*S+3*O*L*R+3*I*L*L*W+M*U,C=J*Q+3*O*L*V+3*I*L*L*T+M*K,D=S+2*L*(R-S)+P*(W-2*R+S),A=Q+2*L*(V-Q)+P*(T-2*V+Q),B=R+2*L*(W-R)+P*(U-2*W+R),G=V+2*L*(T-V)+P*(K-2*T+V),H=I*S+L*R,E=I*Q+L*V,F=I*W+L*U,X=I*T+L*K,Y=90-180*AP.atan2(D-B,A-G)/AE;return(D>B||G>A)&&(Y+=180),{x:N,y:C,m:{x:D,y:A},n:{x:B,y:G},start:{x:H,y:E},end:{x:F,y:X},alpha:Y}},Bm.bezierBBox=function(F,E,I,A,G,H,C,D){Bm.is(F,"array")||(F=[F,E,I,A,G,H,C,D]);var B=BE.apply(null,F);return{x:B.min.x,y:B.min.y,x2:B.max.x,y2:B.max.y,width:B.max.x-B.min.x,height:B.max.y-B.min.y}},Bm.isPointInsideBBox=function(C,A,B){return A>=C.x&&A<=C.x2&&B>=C.y&&B<=C.y2},Bm.isBBoxIntersect=function(C,B){var A=Bm.isPointInsideBBox;return A(B,C.x,C.y)||A(B,C.x2,C.y)||A(B,C.x,C.y2)||A(B,C.x2,C.y2)||A(C,B.x,B.y)||A(C,B.x2,B.y)||A(C,B.x,B.y2)||A(C,B.x2,B.y2)||(C.x<B.x2&&C.x>B.x||B.x<C.x2&&B.x>C.x)&&(C.y<B.y2&&C.y>B.y||B.y<C.y2&&B.y>C.y)},Bm.pathIntersection=function(B,A){return Bh(B,A)},Bm.pathIntersectionNumber=function(B,A){return Bh(B,A,1)},Bm.isPointInsidePath=function(D,C,A){var B=Bm.pathBBox(D);return Bm.isPointInsideBBox(B,C,A)&&Bh(D,[["M",C,A],["H",B.x2+10]],1)%2==1},Bm._removedFactory=function(A){return function(){Bl("raphael.log",null,"Raphal: you are calling to method "+A+" of removed object",A)}};var BM=Bm.pathBBox=function(N){var L=BO(N);if(L.bbox){return Bq(L.bbox)}if(!N){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}N=BF(N);for(var M,Q=0,O=0,P=[],F=[],G=0,D=N.length;D>G;G++){if(M=N[G],"M"==M[0]){Q=M[1],O=M[2],P.push(Q),F.push(O)}else{var E=BE(Q,O,M[1],M[2],M[3],M[4],M[5],M[6]);P=P[AZ](E.min.x,E.max.x),F=F[AZ](E.min.y,E.max.y),Q=M[5],O=M[6]}}var J=AF[AY](0,P),K=AF[AY](0,F),H=AQ[AY](0,P),I=AQ[AY](0,F),B=H-J,C=I-K,A={x:J,y:K,x2:H,y2:I,width:B,height:C,cx:J+B/2,cy:K+C/2};return L.bbox=Bq(A),A},BN=function(B){var A=Bq(B);return A.toString=Bm._path2string,A},BR=Bm._pathToRelative=function(M){var L=BO(M);if(L.rel){return BN(L.rel)}Bm.is(M,AH)&&Bm.is(M&&M[0],AH)||(M=Bm.parsePathString(M));var P=[],Q=0,N=0,O=0,F=0,G=0;"M"==M[0][0]&&(Q=M[0][1],N=M[0][2],O=Q,F=N,G++,P.push(["M",Q,N]));for(var D=G,E=M.length;E>D;D++){var J=P[D]=[],K=M[D];if(K[0]!=AS.call(K[0])){switch(J[0]=AS.call(K[0]),J[0]){case"a":J[1]=K[1],J[2]=K[2],J[3]=K[3],J[4]=K[4],J[5]=K[5],J[6]=+(K[6]-Q).toFixed(3),J[7]=+(K[7]-N).toFixed(3);break;case"v":J[1]=+(K[1]-N).toFixed(3);break;case"m":O=K[1],F=K[2];default:for(var H=1,I=K.length;I>H;H++){J[H]=+(K[H]-(H%2?Q:N)).toFixed(3)}}}else{J=P[D]=[],"m"==K[0]&&(O=K[1]+Q,F=K[2]+N);for(var B=0,C=K.length;C>B;B++){P[D][B]=K[B]}}var A=P[D].length;switch(P[D][0]){case"z":Q=O,N=F;break;case"h":Q+=+P[D][A-1];break;case"v":N+=+P[D][A-1];break;default:Q+=+P[D][A-2],N+=+P[D][A-1]}}return P.toString=Bm._path2string,L.rel=BN(P),P},BS=Bm._pathToAbsolute=function(N){var M=BO(N);if(M.abs){return BN(M.abs)}if(Bm.is(N,AH)&&Bm.is(N&&N[0],AH)||(N=Bm.parsePathString(N)),!N||!N.length){return[["M",0,0]]}var Q=[],R=0,O=0,P=0,H=0,F=0;"M"==N[0][0]&&(R=+N[0][1],O=+N[0][2],P=R,H=O,F++,Q[0]=["M",R,O]);for(var G,K,L=3==N.length&&"M"==N[0][0]&&"R"==N[1][0].toUpperCase()&&"Z"==N[2][0].toUpperCase(),I=F,J=N.length;J>I;I++){if(Q.push(G=[]),K=N[I],K[0]!=Ac.call(K[0])){switch(G[0]=Ac.call(K[0]),G[0]){case"A":G[1]=K[1],G[2]=K[2],G[3]=K[3],G[4]=K[4],G[5]=K[5],G[6]=+(K[6]+R),G[7]=+(K[7]+O);break;case"V":G[1]=+K[1]+O;break;case"H":G[1]=+K[1]+R;break;case"R":for(var C=[R,O][AZ](K.slice(1)),D=2,A=C.length;A>D;D++){C[D]=+C[D]+R,C[++D]=+C[D]+O}Q.pop(),Q=Q[AZ](Bf(C,L));break;case"M":P=+K[1]+R,H=+K[2]+O;default:for(D=1,A=K.length;A>D;D++){G[D]=+K[D]+(D%2?R:O)}}}else{if("R"==K[0]){C=[R,O][AZ](K.slice(1)),Q.pop(),Q=Q[AZ](Bf(C,L)),G=["R"][AZ](K.slice(-2))}else{for(var B=0,E=K.length;E>B;B++){G[B]=K[B]}}}switch(G[0]){case"Z":R=P,O=H;break;case"H":R=G[1];break;case"V":O=G[1];break;case"M":P=G[G.length-2],H=G[G.length-1];default:R=G[G.length-2],O=G[G.length-1]}}return Q.toString=Bm._path2string,M.abs=BN(Q),Q},BP=function(D,B,C,A){return[D,B,C,A,C,A]},BQ=function(E,C,D,H,A,F){var G=1/3,B=2/3;return[G*E+B*D,G*C+B*H,G*A+B*D,G*F+B*H,A,F]},BG=function(CE,CC,CD,CG,E,CF,Cw,Cx,Cu,Cv){var CA,CB=120*AE/180,Cy=AE/180*(+E||0),Cz=[],Co=Bo(function(F,C,D){var A=F*AP.cos(D)-C*AP.sin(D),B=F*AP.sin(D)+C*AP.cos(D);return{x:A,y:B}});if(Cv){Cl=Cv[0],Cj=Cv[1],Cr=Cv[2],Ck=Cv[3]}else{CA=Co(CE,CC,-Cy),CE=CA.x,CC=CA.y,CA=Co(Cx,Cu,-Cy),Cx=CA.x,Cu=CA.y;var Cp=(AP.cos(AE/180*E),AP.sin(AE/180*E),(CE-Cx)/2),Cm=(CC-Cu)/2,Cn=Cp*Cp/(CD*CD)+Cm*Cm/(CG*CG);Cn>1&&(Cn=AP.sqrt(Cn),CD=Cn*CD,CG=Cn*CG);var Cs=CD*CD,Ct=CG*CG,Cq=(CF==Cw?-1:1)*AP.sqrt(AG((Cs*Ct-Cs*Cm*Cm-Ct*Cp*Cp)/(Cs*Cm*Cm+Ct*Cp*Cp))),Cr=Cq*CD*Cm/CG+(CE+Cx)/2,Ck=Cq*-CG*Cp/CD+(CC+Cu)/2,Cl=AP.asin(((CC-Ck)/CG).toFixed(9)),Cj=AP.asin(((Cu-Ck)/CG).toFixed(9));Cl=Cr>CE?AE-Cl:Cl,Cj=Cr>Cx?AE-Cj:Cj,0>Cl&&(Cl=2*AE+Cl),0>Cj&&(Cj=2*AE+Cj),Cw&&Cl>Cj&&(Cl-=2*AE),!Cw&&Cj>Cl&&(Cj-=2*AE)}var Cf=Cj-Cl;if(AG(Cf)>CB){var Cd=Cj,Ce=Cx,Ci=Cu;Cj=Cl+CB*(Cw&&Cj>Cl?1:-1),Cx=Cr+CD*AP.cos(Cj),Cu=Ck+CG*AP.sin(Cj),Cz=BG(Cx,Cu,CD,CG,E,0,Cw,Ce,Ci,[Cj,Cd,Cr,Ck])}Cf=Cj-Cl;var Cg=AP.cos(Cl),Ch=AP.sin(Cl),f=AP.cos(Cj),Ab=AP.sin(Cj),Z=AP.tan(Cf/4),Cb=4/3*CD*Z,Cc=4/3*CG*Z,Bb=[CE,CC],N=[CE+Cb*Ch,CC-Cc*Cg],J=[Cx+Cb*Ab,Cu-Cc*f],X=[Cx,Cu];if(N[0]=2*Bb[0]-N[0],N[1]=2*Bb[1]-N[1],Cv){return[N,J,X][AZ](Cz)}Cz=[N,J,X][AZ](Cz).join()[AL](",");for(var Y=[],Q=0,S=Cz.length;S>Q;Q++){Y[Q]=Q%2?Co(Cz[Q-1],Cz[Q],Cy).y:Co(Cz[Q],Cz[Q+1],Cy).x}return Y},BH=function(G,E,F,J,A,H,I,C,D){var B=1-D;return{x:AD(B,3)*G+3*AD(B,2)*D*F+3*B*D*D*A+AD(D,3)*I,y:AD(B,3)*E+3*AD(B,2)*D*J+3*B*D*D*H+AD(D,3)*C}},BE=Bo(function(M,K,L,P,A,N,O,E){var F,C=A-2*L+M-(O-2*A+L),D=2*(L-M)-2*(A-L),I=M-L,J=(-D+AP.sqrt(D*D-4*C*I))/2/C,G=(-D-AP.sqrt(D*D-4*C*I))/2/C,H=[K,E],B=[M,O];return AG(J)>"1e12"&&(J=0.5),AG(G)>"1e12"&&(G=0.5),J>0&&1>J&&(F=BH(M,K,L,P,A,N,O,E,J),B.push(F.x),H.push(F.y)),G>0&&1>G&&(F=BH(M,K,L,P,A,N,O,E,G),B.push(F.x),H.push(F.y)),C=N-2*P+K-(E-2*N+P),D=2*(P-K)-2*(N-P),I=K-P,J=(-D+AP.sqrt(D*D-4*C*I))/2/C,G=(-D-AP.sqrt(D*D-4*C*I))/2/C,AG(J)>"1e12"&&(J=0.5),AG(G)>"1e12"&&(G=0.5),J>0&&1>J&&(F=BH(M,K,L,P,A,N,O,E,J),B.push(F.x),H.push(F.y)),G>0&&1>G&&(F=BH(M,K,L,P,A,N,O,E,G),B.push(F.x),H.push(F.y)),{min:{x:AF[AY](0,B),y:AF[AY](0,H)},max:{x:AQ[AY](0,B),y:AQ[AY](0,H)}}}),BF=Bm._path2curve=Bo(function(M,K){var L=!K&&BO(M);if(!K&&L.curve){return BN(L.curve)}for(var P=BS(M),A=K&&BS(K),N={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},O={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E=(function(U,S,T){var Q,R,V={T:1,Q:1};if(!U){return["C",S.x,S.y,S.x,S.y,S.x,S.y]}switch(!(U[0] in V)&&(S.qx=S.qy=null),U[0]){case"M":S.X=U[1],S.Y=U[2];break;case"A":U=["C"][AZ](BG[AY](0,[S.x,S.y][AZ](U.slice(1))));break;case"S":"C"==T||"S"==T?(Q=2*S.x-S.bx,R=2*S.y-S.by):(Q=S.x,R=S.y),U=["C",Q,R][AZ](U.slice(1));break;case"T":"Q"==T||"T"==T?(S.qx=2*S.x-S.qx,S.qy=2*S.y-S.qy):(S.qx=S.x,S.qy=S.y),U=["C"][AZ](BQ(S.x,S.y,S.qx,S.qy,U[1],U[2]));break;case"Q":S.qx=U[1],S.qy=U[2],U=["C"][AZ](BQ(S.x,S.y,U[1],U[2],U[3],U[4]));break;case"L":U=["C"][AZ](BP(S.x,S.y,U[1],U[2]));break;case"H":U=["C"][AZ](BP(S.x,S.y,U[1],S.y));break;case"V":U=["C"][AZ](BP(S.x,S.y,S.x,U[1]));break;case"Z":U=["C"][AZ](BP(S.x,S.y,S.X,S.Y))}return U}),F=function(S,Q){if(S[Q].length>7){S[Q].shift();for(var R=S[Q];R.length;){S.splice(Q++,0,["C"][AZ](R.splice(0,6)))}S.splice(Q,1),I=AQ(P.length,A&&A.length||0)}},C=function(T,R,S,U,Q){T&&R&&"M"==T[Q][0]&&"M"!=R[Q][0]&&(R.splice(Q,0,["M",U.x,U.y]),S.bx=0,S.by=0,S.x=T[Q][1],S.y=T[Q][2],I=AQ(P.length,A&&A.length||0))},D=0,I=AQ(P.length,A&&A.length||0);I>D;D++){P[D]=E(P[D],N),F(P,D),A&&(A[D]=E(A[D],O)),A&&F(A,D),C(P,A,N,O,D),C(A,P,O,N,D);var J=P[D],G=A&&A[D],H=J.length,B=A&&G.length;N.x=J[H-2],N.y=J[H-1],N.bx=AC(J[H-4])||N.x,N.by=AC(J[H-3])||N.y,O.bx=A&&(AC(G[B-4])||O.x),O.by=A&&(AC(G[B-3])||O.y),O.x=A&&G[B-2],O.y=A&&G[B-1]}return A||(L.curve=BN(P)),A?[P,A]:P},null,BN),BK=(Bm._parseDots=Bo(function(G){for(var F=[],J=0,A=G.length;A>J;J++){var H={},I=G[J].match(/^([^:]*):?([\d\.]*)/);if(H.color=Bm.getRGB(I[1]),H.color.error){return null}H.color=H.color.hex,I[2]&&(H.offset=I[2]+"%"),F.push(H)}for(J=1,A=F.length-1;A>J;J++){if(!F[J].offset){for(var D=AC(F[J-1].offset||0),E=0,B=J+1;A>B;B++){if(F[B].offset){E=F[B].offset;break}}E||(E=100,B=A),E=AC(E);for(var C=(E-D)/(B-J+1);B>J;J++){D+=C,F[J].offset=D+"%"}}}return F}),Bm._tear=function(B,A){B==A.top&&(A.top=B.prev),B==A.bottom&&(A.bottom=B.next),B.next&&(B.next.prev=B.prev),B.prev&&(B.prev.next=B.next)}),BL=(Bm._tofront=function(B,A){A.top!==B&&(BK(B,A),B.next=null,B.prev=A.top,A.top.next=B,A.top=B)},Bm._toback=function(B,A){A.bottom!==B&&(BK(B,A),B.next=A.bottom,B.prev=null,A.bottom.prev=B,A.bottom=B)},Bm._insertafter=function(C,A,B){BK(C,B),A==B.top&&(B.top=C),A.next&&(A.next.prev=C),C.next=A.next,C.prev=A,A.next=C},Bm._insertbefore=function(C,A,B){BK(C,B),A==B.bottom&&(B.bottom=C),A.prev&&(A.prev.next=C),C.prev=A.prev,A.prev=C,C.next=A},Bm.toMatrix=function(D,B){var C=BM(D),A={_:{transform:AX},getBBox:function(){return C}};return BI(A,B),A.matrix}),BI=(Bm.transformPath=function(B,A){return BW(B,BL(B,A))},Bm._extractTransform=function(Q,P){if(null==P){return Q._.transform}P=AO(P).replace(/\.{3}|\u2026/g,Q._.transform||AX);var T=Bm.parseTransformString(P),U=0,R=0,S=0,K=1,L=1,I=Q._,J=new Bi;if(I.transform=T||[],T){for(var N=0,O=T.length;O>N;N++){var M,C,D,A,B,G=T[N],H=G.length,E=AO(G[0]).toLowerCase(),F=G[0]!=E,V=F?J.invert():0;"t"==E&&3==H?F?(M=V.x(0,0),C=V.y(0,0),D=V.x(G[1],G[2]),A=V.y(G[1],G[2]),J.translate(D-M,A-C)):J.translate(G[1],G[2]):"r"==E?2==H?(B=B||Q.getBBox(1),J.rotate(G[1],B.x+B.width/2,B.y+B.height/2),U+=G[1]):4==H&&(F?(D=V.x(G[2],G[3]),A=V.y(G[2],G[3]),J.rotate(G[1],D,A)):J.rotate(G[1],G[2],G[3]),U+=G[1]):"s"==E?2==H||3==H?(B=B||Q.getBBox(1),J.scale(G[1],G[H-1],B.x+B.width/2,B.y+B.height/2),K*=G[1],L*=G[H-1]):5==H&&(F?(D=V.x(G[3],G[4]),A=V.y(G[3],G[4]),J.scale(G[1],G[2],D,A)):J.scale(G[1],G[2],G[3],G[4]),K*=G[1],L*=G[2]):"m"==E&&7==H&&J.add(G[1],G[2],G[3],G[4],G[5],G[6]),I.dirtyT=1,Q.matrix=J}}Q.matrix=J,I.sx=K,I.sy=L,I.deg=U,I.dx=R=J.e,I.dy=S=J.f,1==K&&1==L&&!U&&I.bbox?(I.bbox.x+=+R,I.bbox.y+=+S):I.dirtyT=1}),BJ=function(B){var A=B[0];switch(A.toLowerCase()){case"t":return[A,0,0];case"m":return[A,1,0,0,1,0,0];case"r":return 4==B.length?[A,0,B[2],B[3]]:[A,0];case"s":return 5==B.length?[A,1,1,B[3],B[4]]:3==B.length?[A,1,1]:[A,1]}},By=Bm._equaliseTransform=function(G,F){F=AO(F).replace(/\.{3}|\u2026/g,G),G=Bm.parseTransformString(G)||[],F=Bm.parseTransformString(F)||[];for(var J,A,H,I,D=AQ(G.length,F.length),E=[],B=[],C=0;D>C;C++){if(H=G[C]||BJ(F[C]),I=F[C]||BJ(H),H[0]!=I[0]||"r"==H[0].toLowerCase()&&(H[2]!=I[2]||H[3]!=I[3])||"s"==H[0].toLowerCase()&&(H[3]!=I[3]||H[4]!=I[4])){return}for(E[C]=[],B[C]=[],J=0,A=AQ(H.length,I.length);A>J;J++){J in H&&(E[C][J]=H[J]),J in I&&(B[C][J]=I[J])}}return{from:E,to:B}};Bm._getContainer=function(D,C,A,B){var E;return E=null!=B||Bm.is(D,"object")?D:AV.doc.getElementById(D),null!=E?E.tagName?null==C?{container:E,width:E.style.pixelWidth||E.offsetWidth,height:E.style.pixelHeight||E.offsetHeight}:{container:E,width:C,height:A}:{container:1,x:D,y:C,width:A,height:B}:void 0},Bm.pathToRelative=BR,Bm._engine={},Bm.path2curve=BF,Bm.matrix=function(E,C,D,A,B,F){return new Bi(E,C,D,A,B,F)},function(C){function B(D){return D[0]*D[0]+D[1]*D[1]}function A(E){var D=AP.sqrt(B(E));E[0]&&(E[0]/=D),E[1]&&(E[1]/=D)}C.add=function(M,K,L,P,D,N){var O,G,H,E,F=[[],[],[]],I=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],J=[[M,L,D],[K,P,N],[0,0,1]];for(M&&M instanceof Bi&&(J=[[M.a,M.c,M.e],[M.b,M.d,M.f],[0,0,1]]),O=0;3>O;O++){for(G=0;3>G;G++){for(E=0,H=0;3>H;H++){E+=I[O][H]*J[H][G]}F[O][G]=E}}this.a=F[0][0],this.b=F[1][0],this.c=F[0][1],this.d=F[1][1],this.e=F[0][2],this.f=F[1][2]},C.invert=function(){var E=this,D=E.a*E.d-E.b*E.c;return new Bi(E.d/D,-E.b/D,-E.c/D,E.a/D,(E.c*E.f-E.d*E.e)/D,(E.b*E.e-E.a*E.f)/D)},C.clone=function(){return new Bi(this.a,this.b,this.c,this.d,this.e,this.f)},C.translate=function(E,D){this.add(1,0,0,1,E,D)},C.scale=function(G,E,F,D){null==E&&(E=G),(F||D)&&this.add(1,0,0,1,F,D),this.add(G,0,0,E,0,0),(F||D)&&this.add(1,0,0,1,-F,-D)},C.rotate=function(G,F,D){G=Bm.rad(G),F=F||0,D=D||0;var E=+AP.cos(G).toFixed(9),H=+AP.sin(G).toFixed(9);this.add(E,H,-H,E,F,D),this.add(1,0,0,1,-F,-D)},C.x=function(E,D){return E*this.a+D*this.c+this.e},C.y=function(E,D){return E*this.b+D*this.d+this.f},C.get=function(D){return +this[AO.fromCharCode(97+D)].toFixed(4)},C.toString=function(){return Bm.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},C.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},C.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},C.split=function(){var F={};F.dx=this.e,F.dy=this.f;var E=[[this.a,this.c],[this.b,this.d]];F.scalex=AP.sqrt(B(E[0])),A(E[0]),F.shear=E[0][0]*E[1][0]+E[0][1]*E[1][1],E[1]=[E[1][0]-E[0][0]*F.shear,E[1][1]-E[0][1]*F.shear],F.scaley=AP.sqrt(B(E[1])),A(E[1]),F.shear/=F.scaley;var G=-E[0][1],D=E[1][1];return 0>D?(F.rotate=Bm.deg(AP.acos(D)),0>G&&(F.rotate=360-F.rotate)):F.rotate=Bm.deg(AP.asin(G)),F.isSimple=!(+F.shear.toFixed(9)||F.scalex.toFixed(9)!=F.scaley.toFixed(9)&&F.rotate),F.isSuperSimple=!+F.shear.toFixed(9)&&F.scalex.toFixed(9)==F.scaley.toFixed(9)&&!F.rotate,F.noRotation=!+F.shear.toFixed(9)&&!F.rotate,F},C.toTransformString=function(E){var D=E||this[AL]();return D.isSimple?(D.scalex=+D.scalex.toFixed(4),D.scaley=+D.scaley.toFixed(4),D.rotate=+D.rotate.toFixed(4),(D.dx||D.dy?"t"+[D.dx,D.dy]:AX)+(1!=D.scalex||1!=D.scaley?"s"+[D.scalex,D.scaley,0,0]:AX)+(D.rotate?"r"+[D.rotate,0,0]:AX)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Bi.prototype);var Bz=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);A8.safari="Apple Computer, Inc."==navigator.vendor&&(Bz&&Bz[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Bz&&Bz[1]<8?function(){var A=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){A.remove()})}:Aa;for(var Bw=function(){this.returnValue=!1},Bx=function(){return this.originalEvent.preventDefault()},BC=function(){this.cancelBubble=!0},BD=function(){return this.originalEvent.stopPropagation()},BA=function(C){var A=AV.doc.documentElement.scrollTop||AV.doc.body.scrollTop,B=AV.doc.documentElement.scrollLeft||AV.doc.body.scrollLeft;return{x:C.clientX+B,y:C.clientY+A}},BB=function(){return AV.doc.addEventListener?function(E,C,D,A){var B=function(H){var G=BA(H);return D.call(A,H,G.x,G.y)};if(E.addEventListener(C,B,!1),AW&&AR[C]){var F=function(J){for(var I=BA(J),K=J,G=0,H=J.targetTouches&&J.targetTouches.length;H>G;G++){if(J.targetTouches[G].target==E){J=J.targetTouches[G],J.originalEvent=K,J.preventDefault=Bx,J.stopPropagation=BD;break}}return D.call(A,J,I.x,I.y)};E.addEventListener(AR[C],F,!1)}return function(){return E.removeEventListener(C,B,!1),AW&&AR[C]&&E.removeEventListener(AR[C],B,!1),!0}}:AV.doc.attachEvent?function(E,C,D,A){var B=function(J){J=J||AV.win.event;var I=AV.doc.documentElement.scrollTop||AV.doc.body.scrollTop,H=AV.doc.documentElement.scrollLeft||AV.doc.body.scrollLeft,K=J.clientX+H,G=J.clientY+I;return J.preventDefault=J.preventDefault||Bw,J.stopPropagation=J.stopPropagation||BC,D.call(A,J,K,G)};E.attachEvent("on"+C,B);var F=function(){return E.detachEvent("on"+C,B),!0};return F}:void 0}(),Bt=[],Bu=function(K){for(var J,N=K.clientX,A=K.clientY,L=AV.doc.documentElement.scrollTop||AV.doc.body.scrollTop,M=AV.doc.documentElement.scrollLeft||AV.doc.body.scrollLeft,D=Bt.length;D--;){if(J=Bt[D],AW&&K.touches){for(var E,B=K.touches.length;B--;){if(E=K.touches[B],E.identifier==J.el._drag.id){N=E.clientX,A=E.clientY,(K.originalEvent?K.originalEvent:K).preventDefault();break}}}else{K.preventDefault()}var C,H=J.el.node,I=H.nextSibling,F=H.parentNode,G=H.style.display;AV.win.opera&&F.removeChild(H),H.style.display="none",C=J.el.paper.getElementByPoint(N,A),H.style.display=G,AV.win.opera&&(I?F.insertBefore(H,I):F.appendChild(H)),C&&Bl("raphael.drag.over."+J.el.id,J.el,C),N+=M,A+=L,Bl("raphael.drag.move."+J.el.id,J.move_scope||J.el,N-J.el._drag.x,A-J.el._drag.y,N,A,K)}},Bs=function(C){Bm.unmousemove(Bu).unmouseup(Bs);for(var A,B=Bt.length;B--;){A=Bt[B],A.el._drag={},Bl("raphael.drag.end."+A.el.id,A.end_scope||A.start_scope||A.move_scope||A.el,C)}Bt=[]},Ay=Bm.el={},Bv=AM.length;Bv--;){!function(A){Bm[A]=Ay[A]=function(C,B){return Bm.is(C,"function")&&(this.events=this.events||[],this.events.push({name:A,f:C,unbind:BB(this.shape||this.node||AV.doc,A,C,B||this)})),this},Bm["un"+A]=Ay["un"+A]=function(D){for(var B=this.events||[],C=B.length;C--;){B[C].name!=A||!Bm.is(D,"undefined")&&B[C].f!=D||(B[C].unbind(),B.splice(C,1),!B.length&&delete this.events)}return this}}(AM[Bv])}Ay.data=function(C,A){var B=B5[this.id]=B5[this.id]||{};if(0==arguments.length){return B}if(1==arguments.length){if(Bm.is(C,"object")){for(var D in C){C[A0](D)&&this.data(D,C[D])}return this}return Bl("raphael.data.get."+this.id,this,B[C],C),B[C]}return B[C]=A,Bl("raphael.data.set."+this.id,this,A,C),this},Ay.removeData=function(A){return null==A?B5[this.id]={}:B5[this.id]&&delete B5[this.id][A],this},Ay.getData=function(){return Bq(B5[this.id]||{})},Ay.hover=function(D,B,C,A){return this.mouseover(D,C).mouseout(B,A||C)},Ay.unhover=function(B,A){return this.unmouseover(B).unmouseout(A)};var At=[];Ay.drag=function(F,B,C,G,A,D){function E(H){(H.originalEvent||H).preventDefault();var M=H.clientX,N=H.clientY,K=AV.doc.documentElement.scrollTop||AV.doc.body.scrollTop,L=AV.doc.documentElement.scrollLeft||AV.doc.body.scrollLeft;if(this._drag.id=H.identifier,AW&&H.touches){for(var I,J=H.touches.length;J--;){if(I=H.touches[J],this._drag.id=I.identifier,I.identifier==this._drag.id){M=I.clientX,N=I.clientY;break}}}this._drag.x=M+L,this._drag.y=N+K,!Bt.length&&Bm.mousemove(Bu).mouseup(Bs),Bt.push({el:this,move_scope:G,start_scope:A,end_scope:D}),B&&Bl.on("raphael.drag.start."+this.id,B),F&&Bl.on("raphael.drag.move."+this.id,F),C&&Bl.on("raphael.drag.end."+this.id,C),Bl("raphael.drag.start."+this.id,A||G||this,H.clientX+L,H.clientY+K,H)}return this._drag={},At.push({el:this,start:E}),this.mousedown(E),this},Ay.onDragOver=function(A){A?Bl.on("raphael.drag.over."+this.id,A):Bl.unbind("raphael.drag.over."+this.id)},Ay.undrag=function(){for(var A=At.length;A--;){At[A].el==this&&(this.unmousedown(At[A].start),At.splice(A,1),Bl.unbind("raphael.drag.*."+this.id))}!At.length&&Bm.unmousemove(Bu).unmouseup(Bs),Bt=[]},A8.circle=function(D,C,A){var B=Bm._engine.circle(this,D||0,C||0,A||0);return this.__set__&&this.__set__.push(B),B},A8.rect=function(E,D,B,C,F){var A=Bm._engine.rect(this,E||0,D||0,B||0,C||0,F||0);return this.__set__&&this.__set__.push(A),A},A8.ellipse=function(D,C,A,B){var E=Bm._engine.ellipse(this,D||0,C||0,A||0,B||0);return this.__set__&&this.__set__.push(E),E},A8.path=function(B){B&&!Bm.is(B,AK)&&!Bm.is(B[0],AH)&&(B+=AX);var A=Bm._engine.path(Bm.format[AY](Bm,arguments),this);return this.__set__&&this.__set__.push(A),A},A8.image=function(E,D,B,C,F){var A=Bm._engine.image(this,E||"about:blank",D||0,B||0,C||0,F||0);return this.__set__&&this.__set__.push(A),A},A8.text=function(D,C,A){var B=Bm._engine.text(this,D||0,C||0,AO(A));return this.__set__&&this.__set__.push(B),B},A8.set=function(B){!Bm.is(B,"array")&&(B=Array.prototype.splice.call(arguments,0,arguments.length));var A=new Aq(B);return this.__set__&&this.__set__.push(A),A.paper=this,A.type="set",A},A8.setStart=function(A){this.__set__=A||this.set()},A8.setFinish=function(){var A=this.__set__;return delete this.__set__,A},A8.setSize=function(B,A){return Bm._engine.setSize.call(this,B,A)},A8.setViewBox=function(D,C,A,B,E){return Bm._engine.setViewBox.call(this,D,C,A,B,E)},A8.top=A8.bottom=null,A8.raphael=Bm;var Ar=function(F){var D=F.getBoundingClientRect(),E=F.ownerDocument,I=E.body,A=E.documentElement,G=A.clientTop||I.clientTop||0,H=A.clientLeft||I.clientLeft||0,B=D.top+(AV.win.pageYOffset||A.scrollTop||I.scrollTop)-G,C=D.left+(AV.win.pageXOffset||A.scrollLeft||I.scrollLeft)-H;return{y:B,x:C}};A8.getElementByPoint=function(E,C){var D=this,H=D.canvas,A=AV.doc.elementFromPoint(E,C);if(AV.win.opera&&"svg"==A.tagName){var F=Ar(H),G=H.createSVGRect();G.x=E-F.x,G.y=C-F.y,G.width=G.height=1;var B=H.getIntersectionList(G,null);B.length&&(A=B[B.length-1])}if(!A){return null}for(;A.parentNode&&A!=H.parentNode&&!A.raphael;){A=A.parentNode}return A==D.canvas.parentNode&&(A=H),A=A&&A.raphael?D.getById(A.raphaelid):null},A8.getElementsByBBox=function(B){var A=this.set();return this.forEach(function(C){Bm.isBBoxIntersect(C.getBBox(),B)&&A.push(C)}),A},A8.getById=function(B){for(var A=this.bottom;A;){if(A.id==B){return A}A=A.next}return null},A8.forEach=function(C,A){for(var B=this.bottom;B;){if(C.call(A,B)===!1){return this}B=B.next}return this},A8.getElementsByPoint=function(C,A){var B=this.set();return this.forEach(function(D){D.isPointInside(C,A)&&B.push(D)}),B},Ay.isPointInside=function(C,B){var A=this.realPath=BZ[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(A=Bm.transformPath(A,this.attr("transform"))),Bm.isPointInsidePath(A,C,B)},Ay.getBBox=function(B){if(this.removed){return{}}var A=this._;return B?((A.dirty||!A.bboxwt)&&(this.realPath=BZ[this.type](this),A.bboxwt=BM(this.realPath),A.bboxwt.toString=A6,A.dirty=0),A.bboxwt):((A.dirty||A.dirtyT||!A.bbox)&&((A.dirty||!this.realPath)&&(A.bboxwt=0,this.realPath=BZ[this.type](this)),A.bbox=BM(BW(this.realPath,this.matrix)),A.bbox.toString=A6,A.dirty=A.dirtyT=0),A.bbox)},Ay.clone=function(){if(this.removed){return null}var A=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(A),A},Ay.glow=function(F){if("text"==this.type){return null}F=F||{};var D={width:(F.width||10)+(+this.attr("stroke-width")||1),fill:F.fill||!1,opacity:F.opacity||0.5,offsetx:F.offsetx||0,offsety:F.offsety||0,color:F.color||"#000"},E=D.width/2,B=this.paper,C=B.set(),G=this.realPath||BZ[this.type](this);G=this.matrix?BW(G,this.matrix):G;for(var A=1;E+1>A;A++){C.push(B.path(G).attr({stroke:D.color,fill:D.fill?D.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(D.width/E*A).toFixed(3),opacity:+(D.opacity/E).toFixed(3)}))}return C.insertBefore(this).translate(D.offsetx,D.offsety)};var As=function(F,E,I,A,G,H,B,C,D){return null==D?Bd(F,E,I,A,G,H,B,C):Bm.findDotsAtSegment(F,E,I,A,G,H,B,C,Be(F,E,I,A,G,H,B,C,D))},Aw=function(B,A){return function(O,C,M){O=BF(O);for(var N,G,H,E,F,K="",L={},I=0,J=0,D=O.length;D>J;J++){if(H=O[J],"M"==H[0]){N=+H[1],G=+H[2]}else{if(E=As(N,G,H[1],H[2],H[3],H[4],H[5],H[6]),I+E>C){if(A&&!L.start){if(F=As(N,G,H[1],H[2],H[3],H[4],H[5],H[6],C-I),K+=["C"+F.start.x,F.start.y,F.m.x,F.m.y,F.x,F.y],M){return K}L.start=K,K=["M"+F.x,F.y+"C"+F.n.x,F.n.y,F.end.x,F.end.y,H[5],H[6]].join(),I+=E,N=+H[5],G=+H[6];continue}if(!B&&!A){return F=As(N,G,H[1],H[2],H[3],H[4],H[5],H[6],C-I),{x:F.x,y:F.y,alpha:F.alpha}}}I+=E,N=+H[5],G=+H[6]}K+=H.shift()+H}return L.end=K,F=B?I:A?L:Bm.findDotsAtSegment(N,G,H[0],H[1],H[2],H[3],H[4],H[5],1),F.alpha&&(F={x:F.x,y:F.y,alpha:F.alpha}),F}},Ax=Aw(1),Au=Aw(),Av=Aw(0,1);Bm.getTotalLength=Ax,Bm.getPointAtLength=Au,Bm.getSubpath=function(D,B,C){if(this.getTotalLength(D)-C<1e-06){return Av(D,B).end}var A=Av(D,C,1);return B?Av(A,B).end:A},Ay.getTotalLength=function(){var A=this.getPath();if(A){return this.node.getTotalLength?this.node.getTotalLength():Ax(A)}},Ay.getPointAtLength=function(B){var A=this.getPath();if(A){return Au(A,B)}},Ay.getPath=function(){var B,A=Bm._getPath[this.type];if("text"!=this.type&&"set"!=this.type){return A&&(B=A(this)),B}},Ay.getSubpath=function(C,B){var A=this.getPath();if(A){return Bm.getSubpath(A,C,B)}};var Al=Bm.easing_formulas={linear:function(A){return A},"<":function(A){return AD(A,1.7)},">":function(A){return AD(A,0.48)},"<>":function(E){var C=0.48-E/1.04,D=AP.sqrt(0.1734+C*C),H=D-C,A=AD(AG(H),1/3)*(0>H?-1:1),F=-D-C,G=AD(AG(F),1/3)*(0>F?-1:1),B=A+G+0.5;return 3*(1-B)*B*B+B*B*B},backIn:function(B){var A=1.70158;return B*B*((A+1)*B-A)},backOut:function(B){B-=1;var A=1.70158;return B*B*((A+1)*B+A)+1},elastic:function(A){return A==!!A?A:AD(2,-10*A)*AP.sin(2*(A-0.075)*AE/0.3)+1},bounce:function(D){var B,C=7.5625,A=2.75;return 1/A>D?B=C*D*D:2/A>D?(D-=1.5/A,B=C*D*D+0.75):2.5/A>D?(D-=2.25/A,B=C*D*D+0.9375):(D-=2.625/A,B=C*D*D+0.984375),B}};Al.easeIn=Al["ease-in"]=Al["<"],Al.easeOut=Al["ease-out"]=Al[">"],Al.easeInOut=Al["ease-in-out"]=Al["<>"],Al["back-in"]=Al.backIn,Al["back-out"]=Al.backOut;var Am=[],Aj=Bn.requestAnimationFrame||Bn.webkitRequestAnimationFrame||Bn.mozRequestAnimationFrame||Bn.oRequestAnimationFrame||Bn.msRequestAnimationFrame||function(A){setTimeout(A,16)},Ak=function(){for(var P=+new Date,S=0;S<Am.length;S++){var T=Am[S];if(!T.el.removed&&!T.paused){var Q,R,J=P-T.start,K=T.ms,H=T.easing,I=T.from,N=T.diff,O=T.to,L=(T.t,T.el),M={},B={};if(T.initstatus?(J=(T.initstatus*T.anim.top-T.prev)/(T.percent-T.prev)*K,T.status=T.initstatus,delete T.initstatus,T.stop&&Am.splice(S--,1)):T.status=(T.prev+(T.percent-T.prev)*(J/K))/T.anim.top,!(0>J)){if(K>J){var C=H(J/K);for(var A in I){if(I[A0](A)){switch(Ah[A]){case AJ:Q=+I[A]+C*K*N[A];break;case"colour":Q="rgb("+[Ap(A1(I[A].r+C*K*N[A].r)),Ap(A1(I[A].g+C*K*N[A].g)),Ap(A1(I[A].b+C*K*N[A].b))].join(",")+")";break;case"path":Q=[];for(var F=0,G=I[A].length;G>F;F++){Q[F]=[I[A][F][0]];for(var D=1,E=I[A][F].length;E>D;D++){Q[F][D]=+I[A][F][D]+C*K*N[A][F][D]}Q[F]=Q[F].join(AN)}Q=Q.join(AN);break;case"transform":if(N[A].real){for(Q=[],F=0,G=I[A].length;G>F;F++){for(Q[F]=[I[A][F][0]],D=1,E=I[A][F].length;E>D;D++){Q[F][D]=I[A][F][D]+C*K*N[A][F][D]}}}else{var U=function(W){return +I[A][W]+C*K*N[A][W]};Q=[["m",U(0),U(1),U(2),U(3),U(4),U(5)]]}break;case"csv":if("clip-rect"==A){for(Q=[],F=4;F--;){Q[F]=+I[A][F]+C*K*N[A][F]}}break;default:var V=[][AZ](I[A]);for(Q=[],F=L.paper.customAttributes[A].length;F--;){Q[F]=+V[F]+C*K*N[A][F]}}M[A]=Q}}L.attr(M),function(Y,X,W){setTimeout(function(){Bl("raphael.anim.frame."+Y,X,W)})}(L.id,L,T.anim)}else{if(function(Y,W,X){setTimeout(function(){Bl("raphael.anim.frame."+W.id,W,X),Bl("raphael.anim.finish."+W.id,W,X),Bm.is(Y,"function")&&Y.call(W)})}(T.callback,L,T.anim),L.attr(O),Am.splice(S--,1),T.repeat>1&&!T.next){for(R in O){O[A0](R)&&(B[R]=T.totalOrigin[R])}T.el.attr(B),A5(T.anim,T.el,T.anim.percents[0],null,T.totalOrigin,T.repeat-1)}T.next&&!T.stop&&A5(T.anim,T.el,T.next,null,T.totalOrigin,T.repeat)}}}}Bm.svg&&L&&L.paper&&L.paper.safari(),Am.length&&Aj(Ak)},Ap=function(A){return A>255?255:0>A?0:A};Ay.animateWith=function(G,F,J,A,H,I){var D=this;if(D.removed){return I&&I.call(D),D}var E=J instanceof A4?J:Bm.animation(J,A,H,I);A5(E,D,E.percents[0],null,D.attr());for(var B=0,C=Am.length;C>B;B++){if(Am[B].anim==F&&Am[B].el==G){Am[C-1].start=Am[B].start;break}}return D},Ay.onAnimation=function(A){return A?Bl.on("raphael.anim.frame."+this.id,A):Bl.unbind("raphael.anim.frame."+this.id),this},A4.prototype.delay=function(B){var A=new A4(this.anim,this.ms);return A.times=this.times,A.del=+B||0,A},A4.prototype.repeat=function(B){var A=new A4(this.anim,this.ms);return A.del=this.del,A.times=AP.floor(AQ(B,0))||1,A},Bm.animation=function(F,E,B,C){if(F instanceof A4){return F}(Bm.is(B,"function")||!B)&&(C=C||B||null,B=null),F=Object(F),E=+E||0;var G,A,D={};for(A in F){F[A0](A)&&AC(A)!=A&&AC(A)+"%"!=A&&(G=!0,D[A]=F[A])}return G?(B&&(D.easing=B),C&&(D.callback=C),new A4({100:D},E)):new A4(F,E)},Ay.animate=function(E,D,B,C){var F=this;if(F.removed){return C&&C.call(F),F}var A=E instanceof A4?E:Bm.animation(E,D,B,C);return A5(A,F,A.percents[0],null,F.attr()),F},Ay.setTime=function(B,A){return B&&null!=A&&this.status(B,AF(A,B.ms)/B.ms),this},Ay.status=function(E,C){var D,A,B=[],F=0;if(null!=C){return A5(E,this,-1,AF(C,1)),this}for(D=Am.length;D>F;F++){if(A=Am[F],A.el.id==this.id&&(!E||A.anim==E)){if(E){return A.status}B.push({anim:A.anim,status:A.status})}}return E?0:B},Ay.pause=function(B){for(var A=0;A<Am.length;A++){Am[A].el.id!=this.id||B&&Am[A].anim!=B||Bl("raphael.anim.pause."+this.id,this,Am[A].anim)!==!1&&(Am[A].paused=!0)}return this},Ay.resume=function(C){for(var B=0;B<Am.length;B++){if(Am[B].el.id==this.id&&(!C||Am[B].anim==C)){var A=Am[B];Bl("raphael.anim.resume."+this.id,this,A.anim)!==!1&&(delete A.paused,this.status(A.anim,A.status))}}return this},Ay.stop=function(B){for(var A=0;A<Am.length;A++){Am[A].el.id!=this.id||B&&Am[A].anim!=B||Bl("raphael.anim.stop."+this.id,this,Am[A].anim)!==!1&&Am.splice(A--,1)}return this},Bl.on("raphael.remove",Ba),Bl.on("raphael.clear",Ba),Ay.toString=function(){return"Raphal object"};var Aq=function(C){if(this.items=[],this.length=0,this.type="set",C){for(var A=0,B=C.length;B>A;A++){!C[A]||C[A].constructor!=Ay.constructor&&C[A].constructor!=Aq||(this[this.items.length]=this.items[this.items.length]=C[A],this.length++)}}},An=Aq.prototype;An.push=function(){for(var D,B,C=0,A=arguments.length;A>C;C++){D=arguments[C],!D||D.constructor!=Ay.constructor&&D.constructor!=Aq||(B=this.items.length,this[B]=this.items[B]=D,this.length++)}return this},An.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},An.forEach=function(D,B){for(var C=0,A=this.items.length;A>C;C++){if(D.call(B,this.items[C],C)===!1){return this}}return this};for(var Ao in Ay){Ay[A0](Ao)&&(An[Ao]=function(A){return function(){var B=arguments;return this.forEach(function(C){C[A][AY](C,B)})}}(Ao))}return An.attr=function(E,D){if(E&&Bm.is(E,AH)&&Bm.is(E[0],"object")){for(var B=0,C=E.length;C>B;B++){this.items[B].attr(E[B])}}else{for(var F=0,A=this.items.length;A>F;F++){this.items[F].attr(E,D)}}return this},An.clear=function(){for(;this.length;){this.pop()}},An.splice=function(F,D){F=0>F?AQ(this.length+F,0):F,D=AQ(0,AF(this.length-F,D));var E,B=[],C=[],G=[];for(E=2;E<arguments.length;E++){G.push(arguments[E])}for(E=0;D>E;E++){C.push(this[F+E])}for(;E<this.length-F;E++){B.push(this[F+E])}var A=G.length;for(E=0;E<A+B.length;E++){this.items[F+E]=this[F+E]=A>E?G[E]:B[E-A]}for(E=this.items.length=this.length-=D-A;this[E];){delete this[E++]}return new Aq(C)},An.exclude=function(C){for(var A=0,B=this.length;B>A;A++){if(this[A]==C){return this.splice(A,1),!0}}},An.animate=function(G,F,J,A){(Bm.is(J,"function")||!J)&&(A=J||null);var H,I,D=this.items.length,E=D,B=this;if(!D){return this}A&&(I=function(){!--D&&A.call(B)}),J=Bm.is(J,AK)?J:I;var C=Bm.animation(G,F,J,I);for(H=this.items[--E].animate(C);E--;){this.items[E]&&!this.items[E].removed&&this.items[E].animateWith(H,C,C),this.items[E]&&!this.items[E].removed||D--}return this},An.insertAfter=function(B){for(var A=this.items.length;A--;){this.items[A].insertAfter(B)}return this},An.getBBox=function(){for(var E=[],C=[],D=[],A=[],B=this.items.length;B--;){if(!this.items[B].removed){var F=this.items[B].getBBox();E.push(F.x),C.push(F.y),D.push(F.x+F.width),A.push(F.y+F.height)}}return E=AF[AY](0,E),C=AF[AY](0,C),D=AQ[AY](0,D),A=AQ[AY](0,A),{x:E,y:C,x2:D,y2:A,width:D-E,height:A-C}},An.clone=function(C){C=this.paper.set();for(var A=0,B=this.items.length;B>A;A++){C.push(this.items[A].clone())}return C},An.toString=function(){return"Raphal set"},An.glow=function(B){var A=this.paper.set();return this.forEach(function(D){var C=D.glow(B);null!=C&&C.forEach(function(E){A.push(E)})}),A},An.isPointInside=function(C,A){var B=!1;return this.forEach(function(D){return D.isPointInside(C,A)?(console.log("runned"),B=!0,!1):void 0}),B},Bm.registerFont=function(F){if(!F.face){return F}this.fonts=this.fonts||{};var D={w:F.w,face:{},glyphs:{}},E=F.face["font-family"];for(var B in F.face){F.face[A0](B)&&(D.face[B]=F.face[B])}if(this.fonts[E]?this.fonts[E].push(D):this.fonts[E]=[D],!F.svg){D.face["units-per-em"]=Ae(F.face["units-per-em"],10);for(var C in F.glyphs){if(F.glyphs[A0](C)){var G=F.glyphs[C];if(D.glyphs[C]={w:G.w,k:{},d:G.d&&"M"+G.d.replace(/[mlcxtrv]/g,function(H){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[H]||"M"})+"z"},G.k){for(var A in G.k){G[A0](A)&&(D.glyphs[C].k[A]=G.k[A])}}}}}return F},A8.getFont=function(G,F,J,A){if(A=A||"normal",J=J||"normal",F=+F||{normal:400,bold:700,lighter:300,bolder:800}[F]||400,Bm.fonts){var H=Bm.fonts[G];if(!H){var I=new RegExp("(^|\\s)"+G.replace(/[^\w\d\s+!~.:_-]/g,AX)+"(\\s|$)","i");for(var D in Bm.fonts){if(Bm.fonts[A0](D)&&I.test(D)){H=Bm.fonts[D];break}}}var E;if(H){for(var B=0,C=H.length;C>B&&(E=H[B],E.face["font-weight"]!=F||E.face["font-style"]!=J&&E.face["font-style"]||E.face["font-stretch"]!=A);B++){}}return E}},A8.print=function(Q,P,T,U,R,S,J,K){S=S||"middle",J=AQ(AF(J||0,1),-1),K=AQ(AF(K||1,3),1);var H,I=AO(T)[AL](AX),N=0,O=0,L=AX;if(Bm.is(U,"string")&&(U=this.getFont(U)),U){H=(R||16)/U.face["units-per-em"];for(var M=U.face.bbox[AL](A9),C=+M[0],D=M[3]-M[1],A=0,B=+M[1]+("baseline"==S?D+ +U.face.descent:D/2),F=0,G=I.length;G>F;F++){if("\n"==I[F]){N=0,V=0,O=0,A+=D*K}else{var E=O&&U.glyphs[I[F-1]]||{},V=U.glyphs[I[F]];N+=O?(E.w||U.w)+(E.k&&E.k[I[F]]||0)+U.w*J:0,O=1}V&&V.d&&(L+=Bm.transformPath(V.d,["t",N*H,A*H,"s",H,H,C,B,"t",(Q-C)/H,(P-B)/H]))}}return this.path(L).attr({fill:"#000",stroke:"none"})},A8.add=function(D){if(Bm.is(D,"array")){for(var C,A=this.set(),B=0,E=D.length;E>B;B++){C=D[B]||{},A2[A0](C.type)&&A.push(this[C.type]().attr(C))}}return A},Bm.format=function(C,B){var A=Bm.is(B,AH)?[0][AZ](B):arguments;return C&&Bm.is(C,AK)&&A.length-1&&(C=C.replace(A3,function(E,D){return null==A[++D]?AX:A[D]})),C||AX},Bm.fullfill=function(){var C=/\{([^\}]+)\}/g,A=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,B=function(G,F,D){var E=D;return F.replace(A,function(K,I,J,H,L){I=I||H,E&&(I in E&&(E=E[I]),"function"==typeof E&&L&&(E=E()))}),E=(null==E||E==D?G:E)+""};return function(E,D){return String(E).replace(C,function(G,F){return B(G,F,D)})}}(),Bm.ninja=function(){return AT.was?AV.win.Raphael=AT.is:delete Raphael,Bm},Bm.st=An,function(D,C,A){function B(){/in/.test(D.readyState)?setTimeout(B,9):Bm.eve("raphael.DOMload")}null==D.readyState&&D.addEventListener&&(D.addEventListener(C,A=function(){D.removeEventListener(C,A,!1),D.readyState="complete"},!1),D.readyState="loading"),B()}(document,"DOMContentLoaded"),Bl.on("raphael.DOMload",function(){Bc=!0}),function(){if(Bm.svg){var U="hasOwnProperty",T=String,X=parseFloat,Y=parseInt,V=Math,W=V.max,N=V.abs,O=V.pow,L=/[, ]+/,M=Bm.eve,R="",S=" ",P="http://www.w3.org/1999/xlink",Q={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},F={};Bm.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var G=function(A,B){if(B){"string"==typeof A&&(A=G(A));for(var C in B){B[U](C)&&("xlink:"==C.substring(0,6)?A.setAttributeNS(P,C.substring(6),T(B[C])):A.setAttribute(C,T(B[C])))}}else{A=Bm._g.doc.createElementNS("http://www.w3.org/2000/svg",A),A.style&&(A.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return A},D=function(Cg,A){var i="linear",l=Cg.id+A,Cd=0.5,q=0.5,z=Cg.node,C=Cg.paper,b=z.style,B=Bm._g.doc.getElementById(l);if(!B){if(A=T(A).replace(Bm._radial_gradient,function(n,k,m){if(i="radial",k&&m){Cd=X(k),q=X(m);var j=2*(q>0.5)-1;O(Cd-0.5,2)+O(q-0.5,2)>0.25&&(q=V.sqrt(0.25-O(Cd-0.5,2))*j+0.5)&&0.5!=q&&(q=q.toFixed(5)-1e-05*j)}return R}),A=A.split(/\s*\-\s*/),"linear"==i){var g=A.shift();if(g=-X(g),isNaN(g)){return null}var h=[0,0,V.cos(Bm.rad(g)),V.sin(Bm.rad(g))],d=1/(W(N(h[2]),N(h[3]))||1);h[2]*=d,h[3]*=d,h[2]<0&&(h[0]=-h[2],h[2]=0),h[3]<0&&(h[1]=-h[3],h[3]=0)}var f=Bm._parseDots(A);if(!f){return null}if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),Cg.gradient&&l!=Cg.gradient.id&&(C.defs.removeChild(Cg.gradient),delete Cg.gradient),!Cg.gradient){B=G(i+"Gradient",{id:l}),Cg.gradient=B,G(B,"radial"==i?{fx:Cd,fy:q}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientTransform:Cg.matrix.invert()}),C.defs.appendChild(B);for(var Ce=0,Cf=f.length;Cf>Ce;Ce++){B.appendChild(G("stop",{offset:f[Ce].offset?f[Ce].offset:Ce?"100%":"0%","stop-color":f[Ce].color||"#fff"}))}}}return G(z,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),b.fill=R,b.opacity=1,b.fillOpacity=1,1},E=function(B){var A=B.getBBox(1);G(B.pattern,{patternTransform:B.matrix.invert()+" translate("+A.x+","+A.y+")"})},J=function(Cn,Co,Cl){if("path"==Cn.type){for(var Cm,Ch,Ci,Cf,Cg,Ck=T(Co).toLowerCase().split("-"),Cj=Cn.paper,b=Cl?"end":"start",l=Cn.node,Cd=Cn.attrs,Ce=Cd["stroke-width"],o=Ck.length,q="classic",Cw=3,Cx=3,Cv=5;o--;){switch(Ck[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":q=Ck[o];break;case"wide":Cx=5;break;case"narrow":Cx=2;break;case"long":Cw=5;break;case"short":Cw=2}}if("open"==q?(Cw+=2,Cx+=2,Cv+=2,Ci=1,Cf=Cl?4:1,Cg={fill:"none",stroke:Cd.stroke}):(Cf=Ci=Cw/2,Cg={fill:Cd.stroke,stroke:"none"}),Cn._.arrows?Cl?(Cn._.arrows.endPath&&F[Cn._.arrows.endPath]--,Cn._.arrows.endMarker&&F[Cn._.arrows.endMarker]--):(Cn._.arrows.startPath&&F[Cn._.arrows.startPath]--,Cn._.arrows.startMarker&&F[Cn._.arrows.startMarker]--):Cn._.arrows={},"none"!=q){var Cr="raphael-marker-"+q,Cp="raphael-marker-"+b+q+Cw+Cx;Bm._g.doc.getElementById(Cr)?F[Cr]++:(Cj.defs.appendChild(G(G("path"),{"stroke-linecap":"round",d:Q[q],id:Cr})),F[Cr]=1);var Cq,Ct=Bm._g.doc.getElementById(Cp);Ct?(F[Cp]++,Cq=Ct.getElementsByTagName("use")[0]):(Ct=G(G("marker"),{id:Cp,markerHeight:Cx,markerWidth:Cw,orient:"auto",refX:Cf,refY:Cx/2}),Cq=G(G("use"),{"xlink:href":"#"+Cr,transform:(Cl?"rotate(180 "+Cw/2+" "+Cx/2+") ":R)+"scale("+Cw/Cv+","+Cx/Cv+")","stroke-width":(1/((Cw/Cv+Cx/Cv)/2)).toFixed(4)}),Ct.appendChild(Cq),Cj.defs.appendChild(Ct),F[Cp]=1),G(Cq,Cg);var Cu=Ci*("diamond"!=q&&"oval"!=q);Cl?(Cm=Cn._.arrows.startdx*Ce||0,Ch=Bm.getTotalLength(Cd.path)-Cu*Ce):(Cm=Cu*Ce,Ch=Bm.getTotalLength(Cd.path)-(Cn._.arrows.enddx*Ce||0)),Cg={},Cg["marker-"+b]="url(#"+Cp+")",(Ch||Cm)&&(Cg.d=Bm.getSubpath(Cd.path,Cm,Ch)),G(l,Cg),Cn._.arrows[b+"Path"]=Cr,Cn._.arrows[b+"Marker"]=Cp,Cn._.arrows[b+"dx"]=Cu,Cn._.arrows[b+"Type"]=q,Cn._.arrows[b+"String"]=Co}else{Cl?(Cm=Cn._.arrows.startdx*Ce||0,Ch=Bm.getTotalLength(Cd.path)-Cm):(Cm=0,Ch=Bm.getTotalLength(Cd.path)-(Cn._.arrows.enddx*Ce||0)),Cn._.arrows[b+"Path"]&&G(l,{d:Bm.getSubpath(Cd.path,Cm,Ch)}),delete Cn._.arrows[b+"Path"],delete Cn._.arrows[b+"Marker"],delete Cn._.arrows[b+"dx"],delete Cn._.arrows[b+"Type"],delete Cn._.arrows[b+"String"]}for(Cg in F){if(F[U](Cg)&&!F[Cg]){var Cs=Bm._g.doc.getElementById(Cg);Cs&&Cs.parentNode.removeChild(Cs)}}}},K={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},H=function(j,i,B){if(i=K[T(i).toLowerCase()]){for(var C=j.attrs["stroke-width"]||"1",k={round:C,square:C,butt:0}[j.attrs["stroke-linecap"]||B["stroke-linecap"]]||0,A=[],b=i.length;b--;){A[b]=i[b]*C+(b%2?1:-1)*k}G(j.node,{"stroke-dasharray":A.join(",")})}},I=function(r,q){var j=r.node,h=r.attrs,n=j.style.visibility;j.style.visibility="hidden";for(var l in q){if(q[U](l)){if(!Bm._availableAttrs[U](l)){continue}var b=q[l];switch(h[l]=b,l){case"blur":r.blur(b);break;case"href":case"title":var g=G("title"),e=Bm._g.doc.createTextNode(b);g.appendChild(e),j.appendChild(g);break;case"target":var Cl=j.parentNode;if("a"!=Cl.tagName.toLowerCase()){var g=G("a");Cl.insertBefore(g,j),g.appendChild(j),Cl=g}"target"==l?Cl.setAttributeNS(P,"show","blank"==b?"new":b):Cl.setAttributeNS(P,l,b);break;case"cursor":j.style.cursor=b;break;case"transform":r.transform(b);break;case"arrow-start":J(r,b);break;case"arrow-end":J(r,b,1);break;case"clip-rect":var Ck=T(b).split(L);if(4==Ck.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var Cf=G("clipPath"),Cd=G("rect");Cf.id=Bm.createUUID(),G(Cd,{x:Ck[0],y:Ck[1],width:Ck[2],height:Ck[3]}),Cf.appendChild(Cd),r.paper.defs.appendChild(Cf),G(j,{"clip-path":"url(#"+Cf.id+")"}),r.clip=Cd}if(!b){var Ce=j.getAttribute("clip-path");if(Ce){var Ci=Bm._g.doc.getElementById(Ce.replace(/(^url\(#|\)$)/g,R));Ci&&Ci.parentNode.removeChild(Ci),G(j,{"clip-path":R}),delete r.clip}}break;case"path":"path"==r.type&&(G(j,{d:b?h.path=Bm._pathToAbsolute(b):"M0,0"}),r._.dirty=1,r._.arrows&&("startString" in r._.arrows&&J(r,r._.arrows.startString),"endString" in r._.arrows&&J(r,r._.arrows.endString,1)));break;case"width":if(j.setAttribute(l,b),r._.dirty=1,!h.fx){break}l="x",b=h.x;case"x":h.fx&&(b=-h.x-(h.width||0));case"rx":if("rx"==l&&"rect"==r.type){break}case"cx":j.setAttribute(l,b),r.pattern&&E(r),r._.dirty=1;break;case"height":if(j.setAttribute(l,b),r._.dirty=1,!h.fy){break}l="y",b=h.y;case"y":h.fy&&(b=-h.y-(h.height||0));case"ry":if("ry"==l&&"rect"==r.type){break}case"cy":j.setAttribute(l,b),r.pattern&&E(r),r._.dirty=1;break;case"r":"rect"==r.type?G(j,{rx:b,ry:b}):j.setAttribute(l,b),r._.dirty=1;break;case"src":"image"==r.type&&j.setAttributeNS(P,"href",b);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(b/=W(N(r._.sx),N(r._.sy))||1),r.paper._vbSize&&(b*=r.paper._vbSize),j.setAttribute(l,b),h["stroke-dasharray"]&&H(r,h["stroke-dasharray"],q),r._.arrows&&("startString" in r._.arrows&&J(r,r._.arrows.startString),"endString" in r._.arrows&&J(r,r._.arrows.endString,1));break;case"stroke-dasharray":H(r,b,q);break;case"fill":var Cj=T(b).match(Bm._ISURL);if(Cj){Cf=G("pattern");var Cg=G("image");Cf.id=Bm.createUUID(),G(Cf,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),G(Cg,{x:0,y:0,"xlink:href":Cj[1]}),Cf.appendChild(Cg),function(A){Bm._preload(Cj[1],function(){var B=this.offsetWidth,C=this.offsetHeight;G(A,{width:B,height:C}),G(Cg,{width:B,height:C}),r.paper.safari()})}(Cf),r.paper.defs.appendChild(Cf),G(j,{fill:"url(#"+Cf.id+")"}),r.pattern=Cf,r.pattern&&E(r);break}var Ch=Bm.getRGB(b);if(Ch.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=T(b).charAt())&&D(r,b)){if("opacity" in h||"fill-opacity" in h){var v=Bm._g.doc.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,R));if(v){var y=v.getElementsByTagName("stop");G(y[y.length-1],{"stop-opacity":("opacity" in h?h.opacity:1)*("fill-opacity" in h?h["fill-opacity"]:1)})}}h.gradient=b,h.fill="none";break}}else{delete q.gradient,delete h.gradient,!Bm.is(h.opacity,"undefined")&&Bm.is(q.opacity,"undefined")&&G(j,{opacity:h.opacity}),!Bm.is(h["fill-opacity"],"undefined")&&Bm.is(q["fill-opacity"],"undefined")&&G(j,{"fill-opacity":h["fill-opacity"]})}Ch[U]("opacity")&&G(j,{"fill-opacity":Ch.opacity>1?Ch.opacity/100:Ch.opacity});case"stroke":Ch=Bm.getRGB(b),j.setAttribute(l,Ch.hex),"stroke"==l&&Ch[U]("opacity")&&G(j,{"stroke-opacity":Ch.opacity>1?Ch.opacity/100:Ch.opacity}),"stroke"==l&&r._.arrows&&("startString" in r._.arrows&&J(r,r._.arrows.startString),"endString" in r._.arrows&&J(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=T(b).charAt())&&D(r,b);break;case"opacity":h.gradient&&!h[U]("stroke-opacity")&&G(j,{"stroke-opacity":b>1?b/100:b});case"fill-opacity":if(h.gradient){v=Bm._g.doc.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,R)),v&&(y=v.getElementsByTagName("stop"),G(y[y.length-1],{"stop-opacity":b}));break}default:"font-size"==l&&(b=Y(b,10)+"px");var s=l.replace(/(\-.)/g,function(A){return A.substring(1).toUpperCase()});j.style[s]=b,r._.dirty=1,j.setAttribute(l,b)}}}Cc(r,q),j.style.visibility=n},Cb=1.2,Cc=function(x,v){if("text"==x.type&&(v[U]("text")||v[U]("font")||v[U]("font-size")||v[U]("x")||v[U]("y"))){var w=x.attrs,e=x.node,l=e.firstChild?Y(Bm._g.doc.defaultView.getComputedStyle(e.firstChild,R).getPropertyValue("font-size"),10):10;if(v[U]("text")){for(w.text=v.text;e.firstChild;){e.removeChild(e.firstChild)}for(var C,b=T(v.text).split("\n"),u=[],q=0,s=b.length;s>q;q++){C=G("tspan"),q&&G(C,{dy:l*Cb,x:w.x}),C.appendChild(Bm._g.doc.createTextNode(b[q])),e.appendChild(C),u[q]=C}}else{for(u=e.getElementsByTagName("tspan"),q=0,s=u.length;s>q;q++){q?G(u[q],{dy:l*Cb,x:w.x}):G(u[0],{dy:0})}}G(e,{x:w.x,y:w.y}),x._.dirty=1;var B=x._getBBox(),A=w.y-(B.y+B.height/2);A&&Bm.is(A,"finite")&&G(u[0],{dy:A})}},Bb=function(B,A){this[0]=this.node=B,B.raphael=!0,this.id=Bm._oid++,B.raphaelid=this.id,this.matrix=Bm.matrix(),this.realPath=null,this.paper=A,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!A.bottom&&(A.bottom=this),this.prev=A.top,A.top&&(A.top.next=this),A.top=this,this.next=null},Ab=Bm.el;Bb.prototype=Ab,Ab.constructor=Bb,Bm._engine.path=function(e,B){var C=G("path");B.canvas&&B.canvas.appendChild(C);var A=new Bb(C,B);return A.type="path",I(A,{fill:"none",stroke:"#000",path:e}),A},Ab.rotate=function(C,B,A){if(this.removed){return this}if(C=T(C).split(L),C.length-1&&(B=X(C[1]),A=X(C[2])),C=X(C[0]),null==A&&(B=A),null==B||null==A){var b=this.getBBox(1);B=b.x+b.width/2,A=b.y+b.height/2}return this.transform(this._.transform.concat([["r",C,B,A]])),this},Ab.scale=function(b,C,B,d){if(this.removed){return this}if(b=T(b).split(L),b.length-1&&(C=X(b[1]),B=X(b[2]),d=X(b[3])),b=X(b[0]),null==C&&(C=b),null==d&&(B=d),null==B||null==d){var A=this.getBBox(1)}return B=null==B?A.x+A.width/2:B,d=null==d?A.y+A.height/2:d,this.transform(this._.transform.concat([["s",b,C,B,d]])),this},Ab.translate=function(B,A){return this.removed?this:(B=T(B).split(L),B.length-1&&(A=X(B[1])),B=X(B[0])||0,A=+A||0,this.transform(this._.transform.concat([["t",B,A]])),this)},Ab.transform=function(C){var A=this._;if(null==C){return A.transform}if(Bm._extractTransform(this,C),this.clip&&G(this.clip,{transform:this.matrix.invert()}),this.pattern&&E(this),this.node&&G(this.node,{transform:this.matrix}),1!=A.sx||1!=A.sy){var B=this.attrs[U]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":B})}return this},Ab.hide=function(){return !this.removed&&this.paper.safari(this.node.style.display="none"),this},Ab.show=function(){return !this.removed&&this.paper.safari(this.node.style.display=""),this},Ab.remove=function(){if(!this.removed&&this.node.parentNode){var B=this.paper;B.__set__&&B.__set__.exclude(this),M.unbind("raphael.*.*."+this.id),this.gradient&&B.defs.removeChild(this.gradient),Bm._tear(this,B),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var A in this){this[A]="function"==typeof this[A]?Bm._removedFactory(A):null}this.removed=!0}},Ab._getBBox=function(){if("none"==this.node.style.display){this.show();var C=!0}var A={};try{A=this.node.getBBox()}catch(B){}finally{A=A||{}}return C&&this.hide(),A},Ab.attr=function(u,x){if(this.removed){return this}if(null==u){var A={};for(var v in this.attrs){this.attrs[U](v)&&(A[v]=this.attrs[v])}return A.gradient&&"none"==A.fill&&(A.fill=A.gradient)&&delete A.gradient,A.transform=this._.transform,A}if(null==x&&Bm.is(u,"string")){if("fill"==u&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}if("transform"==u){return this._.transform}for(var w=u.split(L),C={},j=0,r=w.length;r>j;j++){u=w[j],C[u]=u in this.attrs?this.attrs[u]:Bm.is(this.paper.customAttributes[u],"function")?this.paper.customAttributes[u].def:Bm._availableAttrs[u]}return r-1?C:C[w[0]]}if(null==x&&Bm.is(u,"array")){for(C={},j=0,r=u.length;r>j;j++){C[u[j]]=this.attr(u[j])}return C}if(null!=x){var s={};s[u]=x}else{null!=u&&Bm.is(u,"object")&&(s=u)}for(var k in s){M("raphael.attr."+k+"."+this.id,this,s[k])}for(k in this.paper.customAttributes){if(this.paper.customAttributes[U](k)&&s[U](k)&&Bm.is(this.paper.customAttributes[k],"function")){var q=this.paper.customAttributes[k].apply(this,[].concat(s[k]));this.attrs[k]=s[k];for(var B in q){q[U](B)&&(s[B]=q[B])}}}return I(this,s),this},Ab.toFront=function(){if(this.removed){return this}"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var A=this.paper;return A.top!=this&&Bm._tofront(this,A),this},Ab.toBack=function(){if(this.removed){return this}var A=this.node.parentNode;"a"==A.tagName.toLowerCase()?A.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):A.firstChild!=this.node&&A.insertBefore(this.node,this.node.parentNode.firstChild),Bm._toback(this,this.paper);this.paper;return this},Ab.insertAfter=function(B){if(this.removed){return this}var A=B.node||B[B.length-1].node;return A.nextSibling?A.parentNode.insertBefore(this.node,A.nextSibling):A.parentNode.appendChild(this.node),Bm._insertafter(this,B,this.paper),this},Ab.insertBefore=function(B){if(this.removed){return this}var A=B.node||B[0].node;return A.parentNode.insertBefore(this.node,A),Bm._insertbefore(this,B,this.paper),this},Ab.blur=function(f){var C=this;if(0!==+f){var A=G("filter"),B=G("feGaussianBlur");C.attrs.blur=f,A.id=Bm.createUUID(),G(B,{stdDeviation:+f||1.5}),A.appendChild(B),C.paper.defs.appendChild(A),C._blur=A,G(C.node,{filter:"url(#"+A.id+")"})}else{C._blur&&(C._blur.parentNode.removeChild(C._blur),delete C._blur,delete C.attrs.blur),C.node.removeAttribute("filter")}return C},Bm._engine.circle=function(h,C,g,A){var B=G("circle");h.canvas&&h.canvas.appendChild(B);var i=new Bb(B,h);return i.attrs={cx:C,cy:g,r:A,fill:"none",stroke:"#000"},i.type="circle",G(B,i.attrs),i},Bm._engine.rect=function(j,C,i,m,A,k){var l=G("rect");j.canvas&&j.canvas.appendChild(l);var B=new Bb(l,j);return B.attrs={x:C,y:i,width:m,height:A,r:k||0,rx:k||0,ry:k||0,fill:"none",stroke:"#000"},B.type="rect",G(l,B.attrs),B},Bm._engine.ellipse=function(j,h,i,B,C){var k=G("ellipse");j.canvas&&j.canvas.appendChild(k);var A=new Bb(k,j);return A.attrs={cx:h,cy:i,rx:B,ry:C,fill:"none",stroke:"#000"},A.type="ellipse",G(k,A.attrs),A},Bm._engine.image=function(j,C,i,m,A,k){var l=G("image");G(l,{x:i,y:m,width:A,height:k,preserveAspectRatio:"none"}),l.setAttributeNS(P,"href",C),j.canvas&&j.canvas.appendChild(l);var B=new Bb(l,j);return B.attrs={x:i,y:m,width:A,height:k,src:C},B.type="image",B},Bm._engine.text=function(i,h,B,C){var j=G("text");i.canvas&&i.canvas.appendChild(j);var A=new Bb(j,i);return A.attrs={x:h,y:B,"text-anchor":"middle",text:C,font:Bm._availableAttrs.font,stroke:"none",fill:"#000"},A.type="text",I(A,A.attrs),A},Bm._engine.setSize=function(B,A){return this.width=B||this.width,this.height=A||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},Bm._engine.create=function(){var m=Bm._getContainer.apply(0,arguments),l=m&&m.container,q=m.x,A=m.y,n=m.width,o=m.height;if(!l){throw new Error("SVG container not found.")}var C,k=G("svg"),B="overflow:hidden;";return q=q||0,A=A||0,n=n||512,o=o||342,G(k,{height:o,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg"}),1==l?(k.style.cssText=B+"position:absolute;left:"+q+"px;top:"+A+"px",Bm._g.doc.body.appendChild(k),C=1):(k.style.cssText=B+"position:relative",l.firstChild?l.insertBefore(k,l.firstChild):l.appendChild(k)),l=new Bm._Paper,l.width=n,l.height=o,l.canvas=k,l.clear(),l._left=l._top=0,C&&(l.renderfix=function(){}),l.renderfix(),l},Bm._engine.setViewBox=function(o,m,n,r,A){M("raphael.setViewBox",this,this._viewBox,[o,m,n,r,A]);var q,C,g=W(n/this.width,r/this.height),B=this.top,k=A?"meet":"xMinYMin";for(null==o?(this._vbSize&&(g=1),delete this._vbSize,q="0 0 "+this.width+S+this.height):(this._vbSize=g,q=o+S+m+S+n+S+r),G(this.canvas,{viewBox:q,preserveAspectRatio:k});g&&B;){C="stroke-width" in B.attrs?B.attrs["stroke-width"]:1,B.attr({"stroke-width":C}),B._.dirty=1,B._.dirtyT=1,B=B.prev}return this._viewBox=[o,m,n,r,!!A],this},Bm.prototype.renderfix=function(){var h,C=this.canvas,g=C.style;try{h=C.getScreenCTM()||C.createSVGMatrix()}catch(A){h=C.createSVGMatrix()}var B=-h.e%1,i=-h.f%1;(B||i)&&(B&&(this._left=(this._left+B)%1,g.left=this._left+"px"),i&&(this._top=(this._top+i)%1,g.top=this._top+"px"))},Bm.prototype.clear=function(){Bm.eve("raphael.clear",this);for(var A=this.canvas;A.firstChild;){A.removeChild(A.firstChild)}this.bottom=this.top=null,(this.desc=G("desc")).appendChild(Bm._g.doc.createTextNode("Created with Raphal "+Bm.version)),A.appendChild(this.desc),A.appendChild(this.defs=G("defs"))},Bm.prototype.remove=function(){M("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var A in this){this[A]="function"==typeof this[A]?Bm._removedFactory(A):null}};var Z=Bm.st;for(var c in Ab){Ab[U](c)&&!Z[U](c)&&(Z[c]=function(A){return function(){var B=arguments;return this.forEach(function(C){C[A].apply(C,B)})}}(c))}}}(),function(){if(Bm.vml){var Z="hasOwnProperty",Y=String,Bb=parseFloat,Cb=Math,c=Cb.round,Ab=Cb.max,S=Cb.min,T=Cb.abs,Q="fill",R=/[, ]+/,W=Bm.eve,X=" progid:DXImageTransform.Microsoft",U=" ",V="",K={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},L=/([clmz]),?([^clmz]*)/gi,I=/ progid:\S+Blur\([^\)]+\)/g,J=/-?[^,\s-]+/g,O="position:absolute;left:0;top:0;width:1px;height:1px",P=21600,M={path:1,rect:1,image:1},N={circle:1,ellipse:1},Cl=function(b){var n=/[ahqstv]/gi,A=Bm._pathToAbsolute;if(Y(b).match(n)&&(A=Bm._path2curve),n=/[clmz]/g,A==Bm._pathToAbsolute&&!Y(b).match(n)){var f=Y(b).replace(L,function(m,k,l){var i=[],j="m"==k.toLowerCase(),h=K[k];return l.replace(J,function(d){j&&2==i.length&&(h+=i+K["m"==k?"l":"L"],i=[]),i.push(c(d*P))}),h+i});return f}var E,F,C=A(b);f=[];for(var D=0,G=C.length;G>D;D++){E=C[D],F=C[D][0].toLowerCase(),"z"==F&&(F="x");for(var H=1,B=E.length;B>H;H++){F+=c(E[H]*P)+(H!=B-1?",":V)}f.push(F)}return f.join(U)},Cm=function(D,C,A){var B=Bm.matrix();return B.rotate(-D,0.5,0.5),{dx:B.x(C,A),dy:B.y(C,A)}},Ck=function(v,n,u,y,z,w){var x=v._,G=v.matrix,F=x.fillpos,i=v.node,j=i.style,H=1,C="",D=P/n,A=P/u;if(j.visibility="hidden",n&&u){if(i.coordsize=T(D)+U+T(A),j.rotation=w*(0>n*u?-1:1),w){var B=Cm(w,y,z);y=B.dx,z=B.dy}if(0>n&&(C+="x"),0>u&&(C+=" y")&&(H=-1),j.flip=C,i.coordorigin=y*-D+U+z*-A,F||x.fillsize){var E=i.getElementsByTagName(Q);E=E&&E[0],i.removeChild(E),F&&(B=Cm(w,G.x(F[0],F[1]),G.y(F[0],F[1])),E.position=B.dx*H+U+B.dy*H),x.fillsize&&(E.size=x.fillsize[0]*T(n)+U+x.fillsize[1]*T(u)),i.appendChild(E)}j.visibility="visible"}};Bm.toString=function(){return"Your browser doesn support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var Cf=function(G,F,l){for(var A=Y(F).toLowerCase().split("-"),H=l?"end":"start",b=A.length,D="classic",E="medium",B="medium";b--;){switch(A[b]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":D=A[b];break;case"wide":case"narrow":B=A[b];break;case"long":case"short":E=A[b]}}var C=G.node.getElementsByTagName("stroke")[0];C[H+"arrow"]=D,C[H+"arrowlength"]=E,C[H+"arrowwidth"]=B},Cd=function(A,CB){A.attrs=A.attrs||{};var CC=A.node,CD=A.attrs,Cy=CC.style,Cz=M[A.type]&&(CB.x!=CD.x||CB.y!=CD.y||CB.width!=CD.width||CB.height!=CD.height||CB.cx!=CD.cx||CB.cy!=CD.cy||CB.rx!=CD.rx||CB.ry!=CD.ry||CB.r!=CD.r),Cw=N[A.type]&&(CD.cx!=CB.cx||CD.cy!=CB.cy||CD.r!=CB.r||CD.rx!=CB.rx||CD.ry!=CB.ry),Cx=A;for(var CA in CB){CB[Z](CA)&&(CD[CA]=CB[CA])}if(Cz&&(CD.path=Bm._getPath[A.type](A),A._.dirty=1),CB.href&&(CC.href=CB.href),CB.title&&(CC.title=CB.title),CB.target&&(CC.target=CB.target),CB.cursor&&(Cy.cursor=CB.cursor),"blur" in CB&&A.blur(CB.blur),(CB.path&&"path"==A.type||Cz)&&(CC.path=Cl(~Y(CD.path).toLowerCase().indexOf("r")?Bm._pathToAbsolute(CD.path):CD.path),"image"==A.type&&(A._.fillpos=[CD.x,CD.y],A._.fillsize=[CD.width,CD.height],Ck(A,1,1,0,0,0))),"transform" in CB&&A.transform(CB.transform),Cw){var Cv=+CD.cx,Cr=+CD.cy,Ct=+CD.rx||+CD.r||0,Cu=+CD.ry||+CD.r||0;CC.path=Bm.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",c((Cv-Ct)*P),c((Cr-Cu)*P),c((Cv+Ct)*P),c((Cr+Cu)*P),c(Cv*P)),A._.dirty=1}if("clip-rect" in CB){var Cs=Y(CB["clip-rect"]).split(R);if(4==Cs.length){Cs[2]=+Cs[2]+ +Cs[0],Cs[3]=+Cs[3]+ +Cs[1];var x=CC.clipRect||Bm._g.doc.createElement("div"),z=x.style;z.clip=Bm.format("rect({1}px {2}px {3}px {0}px)",Cs),CC.clipRect||(z.position="absolute",z.top=0,z.left=0,z.width=A.paper.width+"px",z.height=A.paper.height+"px",CC.parentNode.insertBefore(x,CC),x.appendChild(CC),CC.clipRect=x)}CB["clip-rect"]||CC.clipRect&&(CC.clipRect.style.clip="auto")}if(A.textpath){var v=A.textpath.style;CB.font&&(v.font=CB.font),CB["font-family"]&&(v.fontFamily='"'+CB["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,V)+'"'),CB["font-size"]&&(v.fontSize=CB["font-size"]),CB["font-weight"]&&(v.fontWeight=CB["font-weight"]),CB["font-style"]&&(v.fontStyle=CB["font-style"])}if("arrow-start" in CB&&Cf(Cx,CB["arrow-start"]),"arrow-end" in CB&&Cf(Cx,CB["arrow-end"],1),null!=CB.opacity||null!=CB["stroke-width"]||null!=CB.fill||null!=CB.src||null!=CB.stroke||null!=CB["stroke-width"]||null!=CB["stroke-opacity"]||null!=CB["fill-opacity"]||null!=CB["stroke-dasharray"]||null!=CB["stroke-miterlimit"]||null!=CB["stroke-linejoin"]||null!=CB["stroke-linecap"]){var w=CC.getElementsByTagName(Q),Cp=!1;if(w=w&&w[0],!w&&(Cp=w=Cg(Q)),"image"==A.type&&CB.src&&(w.src=CB.src),CB.fill&&(w.on=!0),(null==w.on||"none"==CB.fill||null===CB.fill)&&(w.on=!1),w.on&&CB.fill){var Cq=Y(CB.fill).match(Bm._ISURL);if(Cq){w.parentNode==CC&&CC.removeChild(w),w.rotate=!0,w.src=Cq[1],w.type="tile";var Cn=A.getBBox(1);w.position=Cn.x+U+Cn.y,A._.fillpos=[Cn.x,Cn.y],Bm._preload(Cq[1],function(){A._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{w.color=Bm.getRGB(CB.fill).hex,w.src=V,w.type="solid",Bm.getRGB(CB.fill).error&&(Cx.type in {circle:1,ellipse:1}||"r"!=Y(CB.fill).charAt())&&Ce(Cx,CB.fill,w)&&(CD.fill="none",CD.gradient=CB.fill,w.rotate=!1)}}if("fill-opacity" in CB||"opacity" in CB){var Co=((+CD["fill-opacity"]+1||2)-1)*((+CD.opacity+1||2)-1)*((+Bm.getRGB(CB.fill).o+1||2)-1);Co=S(Ab(Co,0),1),w.opacity=Co,w.src&&(w.color="none")}CC.appendChild(w);var h=CC.getElementsByTagName("stroke")&&CC.getElementsByTagName("stroke")[0],j=!1;!h&&(j=h=Cg("stroke")),(CB.stroke&&"none"!=CB.stroke||CB["stroke-width"]||null!=CB["stroke-opacity"]||CB["stroke-dasharray"]||CB["stroke-miterlimit"]||CB["stroke-linejoin"]||CB["stroke-linecap"])&&(h.on=!0),("none"==CB.stroke||null===CB.stroke||null==h.on||0==CB.stroke||0==CB["stroke-width"])&&(h.on=!1);var f=Bm.getRGB(CB.stroke);h.on&&CB.stroke&&(h.color=f.hex),Co=((+CD["stroke-opacity"]+1||2)-1)*((+CD.opacity+1||2)-1)*((+f.o+1||2)-1);var g=0.75*(Bb(CB["stroke-width"])||1);if(Co=S(Ab(Co,0),1),null==CB["stroke-width"]&&(g=CD["stroke-width"]),CB["stroke-width"]&&(h.weight=g),g&&1>g&&(Co*=g)&&(h.weight=1),h.opacity=Co,CB["stroke-linejoin"]&&(h.joinstyle=CB["stroke-linejoin"]||"miter"),h.miterlimit=CB["stroke-miterlimit"]||8,CB["stroke-linecap"]&&(h.endcap="butt"==CB["stroke-linecap"]?"flat":"square"==CB["stroke-linecap"]?"square":"round"),"stroke-dasharray" in CB){var o={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};h.dashstyle=o[Z](CB["stroke-dasharray"])?o[CB["stroke-dasharray"]]:V}j&&CC.appendChild(h)}if("text"==Cx.type){Cx.paper.canvas.style.display=V;var u=Cx.paper.span,k=100,n=CD.font&&CD.font.match(/\d+(?:\.\d*)?(?=px)/);Cy=u.style,CD.font&&(Cy.font=CD.font),CD["font-family"]&&(Cy.fontFamily=CD["font-family"]),CD["font-weight"]&&(Cy.fontWeight=CD["font-weight"]),CD["font-style"]&&(Cy.fontStyle=CD["font-style"]),n=Bb(CD["font-size"]||n&&n[0])||10,Cy.fontSize=n*k+"px",Cx.textpath.string&&(u.innerHTML=Y(Cx.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var b=u.getBoundingClientRect();Cx.W=CD.w=(b.right-b.left)/k,Cx.H=CD.h=(b.bottom-b.top)/k,Cx.X=CD.x,Cx.Y=CD.y+Cx.H/2,("x" in CB||"y" in CB)&&(Cx.path.v=Bm.format("m{0},{1}l{2},{1}",c(CD.x*P),c(CD.y*P),c(CD.x*P)+1));for(var d=["x","y","text","font","font-family","font-weight","font-style","font-size"],F=0,C=d.length;C>F;F++){if(d[F] in CB){Cx._.dirty=1;break}}switch(CD["text-anchor"]){case"start":Cx.textpath.style["v-text-align"]="left",Cx.bbx=Cx.W/2;break;case"end":Cx.textpath.style["v-text-align"]="right",Cx.bbx=-Cx.W/2;break;default:Cx.textpath.style["v-text-align"]="center",Cx.bbx=0}Cx.textpath.style["v-text-kern"]=!0}},Ce=function(b,d,e){b.attrs=b.attrs||{};var E=(b.attrs,Math.pow),F="linear",C=".5 .5";if(b.attrs.gradient=d,d=Y(d).replace(Bm._radial_gradient,function(h,f,g){return F="radial",f&&g&&(f=Bb(f),g=Bb(g),E(f-0.5,2)+E(g-0.5,2)>0.25&&(g=Cb.sqrt(0.25-E(f-0.5,2))*(2*(g>0.5)-1)+0.5),C=f+U+g),V}),d=d.split(/\s*\-\s*/),"linear"==F){var D=d.shift();if(D=-Bb(D),isNaN(D)){return null}}var G=Bm._parseDots(d);if(!G){return null}if(b=b.shape||b.node,G.length){b.removeChild(e),e.on=!0,e.method="none",e.color=G[0].color,e.color2=G[G.length-1].color;for(var H=[],A=0,B=G.length;B>A;A++){G[A].offset&&H.push(G[A].offset+U+G[A].color)}e.colors=H.length?H.join():"0% "+e.color,"radial"==F?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=C,e.angle=0):(e.type="gradient",e.angle=(270-D)%360),b.appendChild(e)}return 1},Ci=function(B,A){this[0]=this.node=B,B.raphael=!0,this.id=Bm._oid++,B.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=A,this.matrix=Bm.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!A.bottom&&(A.bottom=this),this.prev=A.top,A.top&&(A.top.next=this),A.top=this,this.next=null},Cj=Bm.el;Ci.prototype=Cj,Cj.constructor=Ci,Cj.transform=function(o){if(null==o){return this._.transform}var v,A=this.paper._viewBoxShift,s=A?"s"+[A.scale,A.scale]+"-1-1t"+[A.dx,A.dy]:V;A&&(v=o=Y(o).replace(/\.{3}|\u2026/g,this._.transform||V)),Bm._extractTransform(this,s+o);var u,G=this.matrix.clone(),H=this.skew,E=this.node,F=~Y(this.attrs.fill).indexOf("-"),b=!Y(this.attrs.fill).indexOf("url(");if(G.translate(1,1),b||F||"image"==this.type){if(H.matrix="1 0 0 1",H.offset="0 0",u=G.split(),F&&u.noRotation||!u.isSimple){E.style.filter=G.toFilter();var n=this.getBBox(),B=this.getBBox(1),C=n.x-B.x,D=n.y-B.y;E.coordorigin=C*-P+U+D*-P,Ck(this,1,1,C,D,0)}else{E.style.filter=V,Ck(this,u.scalex,u.scaley,u.dx,u.dy,u.rotate)}}else{E.style.filter=V,H.matrix=Y(G),H.offset=G.offset()}return v&&(this._.transform=v),this},Cj.rotate=function(C,B,A){if(this.removed){return this}if(null!=C){if(C=Y(C).split(R),C.length-1&&(B=Bb(C[1]),A=Bb(C[2])),C=Bb(C[0]),null==A&&(B=A),null==B||null==A){var D=this.getBBox(1);B=D.x+D.width/2,A=D.y+D.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",C,B,A]])),this}},Cj.translate=function(B,A){return this.removed?this:(B=Y(B).split(R),B.length-1&&(A=Bb(B[1])),B=Bb(B[0])||0,A=+A||0,this._.bbox&&(this._.bbox.x+=B,this._.bbox.y+=A),this.transform(this._.transform.concat([["t",B,A]])),this)},Cj.scale=function(D,C,B,E){if(this.removed){return this}if(D=Y(D).split(R),D.length-1&&(C=Bb(D[1]),B=Bb(D[2]),E=Bb(D[3]),isNaN(B)&&(B=null),isNaN(E)&&(E=null)),D=Bb(D[0]),null==C&&(C=D),null==E&&(B=E),null==B||null==E){var A=this.getBBox(1)}return B=null==B?A.x+A.width/2:B,E=null==E?A.y+A.height/2:E,this.transform(this._.transform.concat([["s",D,C,B,E]])),this._.dirtyT=1,this},Cj.hide=function(){return !this.removed&&(this.node.style.display="none"),this},Cj.show=function(){return !this.removed&&(this.node.style.display=V),this},Cj._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},Cj.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),Bm.eve.unbind("raphael.*.*."+this.id),Bm._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var A in this){this[A]="function"==typeof this[A]?Bm._removedFactory(A):null}this.removed=!0}},Cj.attr=function(j,r){if(this.removed){return this}if(null==j){var A={};for(var k in this.attrs){this.attrs[Z](k)&&(A[k]=this.attrs[k])}return A.gradient&&"none"==A.fill&&(A.fill=A.gradient)&&delete A.gradient,A.transform=this._.transform,A}if(null==r&&Bm.is(j,"string")){if(j==Q&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}for(var l=j.split(R),D={},E=0,H=l.length;H>E;E++){j=l[E],D[j]=j in this.attrs?this.attrs[j]:Bm.is(this.paper.customAttributes[j],"function")?this.paper.customAttributes[j].def:Bm._availableAttrs[j]}return H-1?D:D[l[0]]}if(this.attrs&&null==r&&Bm.is(j,"array")){for(D={},E=0,H=j.length;H>E;E++){D[j[E]]=this.attr(j[E])}return D}var F;null!=r&&(F={},F[j]=r),null==r&&Bm.is(j,"object")&&(F=j);for(var G in F){W("raphael.attr."+G+"."+this.id,this,F[G])}if(F){for(G in this.paper.customAttributes){if(this.paper.customAttributes[Z](G)&&F[Z](G)&&Bm.is(this.paper.customAttributes[G],"function")){var B=this.paper.customAttributes[G].apply(this,[].concat(F[G]));this.attrs[G]=F[G];for(var C in B){B[Z](C)&&(F[C]=B[C])}}}F.text&&"text"==this.type&&(this.textpath.string=F.text),Cd(this,F)}return this},Cj.toFront=function(){return !this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&Bm._tofront(this,this.paper),this},Cj.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Bm._toback(this,this.paper)),this)},Cj.insertAfter=function(A){return this.removed?this:(A.constructor==Bm.st.constructor&&(A=A[A.length-1]),A.node.nextSibling?A.node.parentNode.insertBefore(this.node,A.node.nextSibling):A.node.parentNode.appendChild(this.node),Bm._insertafter(this,A,this.paper),this)},Cj.insertBefore=function(A){return this.removed?this:(A.constructor==Bm.st.constructor&&(A=A[0]),A.node.parentNode.insertBefore(this.node,A.node),Bm._insertbefore(this,A,this.paper),this)},Cj.blur=function(C){var B=this.node.runtimeStyle,A=B.filter;return A=A.replace(I,V),0!==+C?(this.attrs.blur=C,B.filter=A+U+X+".Blur(pixelradius="+(+C||1.5)+")",B.margin=Bm.format("-{0}px 0 0 -{0}px",c(+C||1.5))):(B.filter=A,B.margin=0,delete this.attrs.blur),this},Bm._engine.path=function(E,C){var D=Cg("shape");D.style.cssText=O,D.coordsize=P+U+P,D.coordorigin=C.coordorigin;var A=new Ci(D,C),B={fill:"none",stroke:"#000"};E&&(B.path=E),A.type="path",A.path=[],A.Path=V,Cd(A,B),C.canvas.appendChild(D);var F=Cg("skew");return F.on=!0,D.appendChild(F),A.skew=F,A.transform(V),A},Bm._engine.rect=function(F,E,k,A,G,H){var C=Bm._rectPath(E,k,A,G,H),D=F.path(C),B=D.attrs;return D.X=B.x=E,D.Y=B.y=k,D.W=B.width=A,D.H=B.height=G,B.r=H,B.path=C,D.type="rect",D},Bm._engine.ellipse=function(E,C,D,A,B){var F=E.path();F.attrs;return F.X=C-A,F.Y=D-B,F.W=2*A,F.H=2*B,F.type="ellipse",Cd(F,{cx:C,cy:D,rx:A,ry:B}),F},Bm._engine.circle=function(E,C,D,A){var B=E.path();B.attrs;return B.X=C-A,B.Y=D-A,B.W=B.H=2*A,B.type="circle",Cd(B,{cx:C,cy:D,r:A}),B},Bm._engine.image=function(H,G,o,A,j,n){var C=Bm._rectPath(o,A,j,n),D=H.path(C).attr({stroke:"none"}),B=D.attrs,E=D.node,F=E.getElementsByTagName(Q)[0];return B.src=G,D.X=B.x=o,D.Y=B.y=A,D.W=B.width=j,D.H=B.height=n,B.path=C,D.type="image",F.parentNode==E&&E.removeChild(F),F.rotate=!0,F.src=G,F.type="tile",D._.fillpos=[o,A],D._.fillsize=[j,n],E.appendChild(F),Ck(D,1,1,0,0,0),D},Bm._engine.text=function(H,f,A,b){var D=Cg("shape"),E=Cg("path"),B=Cg("textpath");f=f||0,A=A||0,b=b||"",E.v=Bm.format("m{0},{1}l{2},{1}",c(f*P),c(A*P),c(f*P)+1),E.textpathok=!0,B.string=Y(b),B.on=!0,D.style.cssText=O,D.coordsize=P+U+P,D.coordorigin="0 0";var C=new Ci(D,H),F={fill:"#000",stroke:"none",font:Bm._availableAttrs.font,text:b};C.shape=D,C.path=E,C.textpath=B,C.type="text",C.attrs.text=Y(b),C.attrs.x=f,C.attrs.y=A,C.attrs.w=1,C.attrs.h=1,Cd(C,F),D.appendChild(B),D.appendChild(E),H.canvas.appendChild(D);var G=Cg("skew");return G.on=!0,D.appendChild(G),C.skew=G,C.transform(V),C},Bm._engine.setSize=function(C,B){var A=this.canvas.style;return this.width=C,this.height=B,C==+C&&(C+="px"),B==+B&&(B+="px"),A.width=C,A.height=B,A.clip="rect(0 "+C+" "+B+" 0)",this._viewBox&&Bm._engine.setViewBox.apply(this,this._viewBox),this},Bm._engine.setViewBox=function(H,G,m,A,g){Bm.eve("raphael.setViewBox",this,this._viewBox,[H,G,m,A,g]);var D,E,B=this.width,C=this.height,F=1/Ab(m/B,A/C);return g&&(D=C/A,E=B/m,B>m*D&&(H-=(B-m*D)/2/D),C>A*E&&(G-=(C-A*E)/2/E)),this._viewBox=[H,G,m,A,!!g],this._viewBoxShift={dx:-H,dy:-G,scale:F},this.forEach(function(b){b.transform("...")}),this};var Cg;Bm._engine.initWin=function(C){var A=C.document;A.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!A.namespaces.rvml&&A.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Cg=function(D){return A.createElement("<rvml:"+D+' class="rvml">')}}catch(B){Cg=function(D){return A.createElement("<"+D+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},Bm._engine.initWin(Bm._g.win),Bm._engine.create=function(){var F=Bm._getContainer.apply(0,arguments),E=F.container,k=F.height,A=F.width,G=F.x,H=F.y;if(!E){throw new Error("VML container not found.")}var C=new Bm._Paper,D=C.canvas=Bm._g.doc.createElement("div"),B=D.style;return G=G||0,H=H||0,A=A||512,k=k||342,C.width=A,C.height=k,A==+A&&(A+="px"),k==+k&&(k+="px"),C.coordsize=1000*P+U+1000*P,C.coordorigin="0 0",C.span=Bm._g.doc.createElement("span"),C.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",D.appendChild(C.span),B.cssText=Bm.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",A,k),1==E?(Bm._g.doc.body.appendChild(D),B.left=G+"px",B.top=H+"px",B.position="absolute"):E.firstChild?E.insertBefore(D,E.firstChild):E.appendChild(D),C.renderfix=function(){},C},Bm.prototype.clear=function(){Bm.eve("raphael.clear",this),this.canvas.innerHTML=V,this.span=Bm._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},Bm.prototype.remove=function(){Bm.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var A in this){this[A]="function"==typeof this[A]?Bm._removedFactory(A):null}return !0};var Ch=Bm.st;for(var Cc in Cj){Cj[Z](Cc)&&!Ch[Z](Cc)&&(Ch[Cc]=function(A){return function(){var B=arguments;return this.forEach(function(C){C[A].apply(C,B)})}}(Cc))}}}(),AT.was?AV.win.Raphael=Bm:Raphael=Bm,Bm});(function(){var E,H,F,I,G=[].slice,A=function(J,K){return function(){return J.apply(K,arguments)}},C={}.hasOwnProperty,B=function(K,L){for(var J in L){if(C.call(L,J)){K[J]=L[J]}}function M(){this.constructor=K}M.prototype=L.prototype;K.prototype=new M();K.__super__=L.prototype;return K},D=[].indexOf||function(L){for(var J=0,K=this.length;J<K;J++){if(J in this&&this[J]===L){return J}}return -1};H=window.Morris={};E=jQuery;H.EventEmitter=(function(){function J(){}J.prototype.on=function(L,K){if(this.handlers==null){this.handlers={}}if(this.handlers[L]==null){this.handlers[L]=[]}this.handlers[L].push(K);return this};J.prototype.fire=function(){var Q,M,N,L,K,P,O;N=arguments[0],Q=2<=arguments.length?G.call(arguments,1):[];if((this.handlers!=null)&&(this.handlers[N]!=null)){P=this.handlers[N];O=[];for(L=0,K=P.length;L<K;L++){M=P[L];O.push(M.apply(null,Q))}return O}};return J})();H.commas=function(L){var J,M,N,K;if(L!=null){N=L<0?"-":"";J=Math.abs(L);M=Math.floor(J).toFixed(0);N+=M.replace(/(?=(?:\d{3})+$)(?!^)/g,",");K=J.toString();if(K.length>M.length){N+=K.slice(M.length)}return N}else{return"-"}};H.pad2=function(J){return(J<10?"0":"")+J};H.Grid=(function(J){B(K,J);function K(M){this.resizeHandler=A(this.resizeHandler,this);var L=this;if(typeof M.element==="string"){this.el=E(document.getElementById(M.element))}else{this.el=E(M.element)}if((this.el==null)||this.el.length===0){throw new Error("Graph container element not found")}if(this.el.css("position")==="static"){this.el.css("position","relative")}this.options=E.extend({},this.gridDefaults,this.defaults||{},M);if(typeof this.options.units==="string"){this.options.postUnits=M.units}this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=false;this.selectFrom=null;if(this.init){this.init()}this.setData(this.options.data);this.el.bind("mousemove",function(P){var O,N,Q,S,R;N=L.el.offset();R=P.pageX-N.left;if(L.selectFrom){O=L.data[L.hitTest(Math.min(R,L.selectFrom))]._x;Q=L.data[L.hitTest(Math.max(R,L.selectFrom))]._x;S=Q-O;return L.selectionRect.attr({x:O,width:S})}else{return L.fire("hovermove",R,P.pageY-N.top)}});this.el.bind("mouseleave",function(N){if(L.selectFrom){L.selectionRect.hide();L.selectFrom=null}return L.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(O){var N,P;P=O.originalEvent.touches[0]||O.originalEvent.changedTouches[0];N=L.el.offset();L.fire("hover",P.pageX-N.left,P.pageY-N.top);return P});this.el.bind("click",function(O){var N;N=L.el.offset();return L.fire("gridclick",O.pageX-N.left,O.pageY-N.top)});if(this.options.rangeSelect){this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:false}).toBack().hide();this.el.bind("mousedown",function(O){var N;N=L.el.offset();return L.startRange(O.pageX-N.left)});this.el.bind("mouseup",function(O){var N;N=L.el.offset();L.endRange(O.pageX-N.left);return L.fire("hovermove",O.pageX-N.left,O.pageY-N.top)})}if(this.options.resize){E(window).bind("resize",function(N){if(L.timeoutId!=null){window.clearTimeout(L.timeoutId)}return L.timeoutId=window.setTimeout(L.resizeHandler,100)})}if(this.postInit){this.postInit()}}K.prototype.gridDefaults={dateFormat:null,axes:true,grid:true,gridLineColor:"#aaa",gridStrokeWidth:0.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:false,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:true,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:false};K.prototype.setData=function(W,P){var R,b,O,U,c,Z,T,N,V,S,M,Y,L,X,Q;if(P==null){P=true}this.options.data=W;if((W==null)||W.length===0){this.data=[];this.raphael.clear();if(this.hover!=null){this.hover.hide()}return}Y=this.cumulative?0:null;L=this.cumulative?0:null;if(this.options.goals.length>0){c=Math.min.apply(Math,this.options.goals);U=Math.max.apply(Math,this.options.goals);L=L!=null?Math.min(L,c):c;Y=Y!=null?Math.max(Y,U):U}this.data=(function(){var d,f,e;e=[];for(O=d=0,f=W.length;d<f;O=++d){T=W[O];Z={src:T};Z.label=T[this.options.xkey];if(this.options.parseTime){Z.x=H.parseDate(Z.label);if(this.options.dateFormat){Z.label=this.options.dateFormat(Z.x)}else{if(typeof Z.label==="number"){Z.label=new Date(Z.label).toString()}}}else{Z.x=O;if(this.options.xLabelFormat){Z.label=this.options.xLabelFormat(Z)}}V=0;Z.y=(function(){var h,i,j,g;j=this.options.ykeys;g=[];for(b=h=0,i=j.length;h<i;b=++h){M=j[b];X=T[M];if(typeof X==="string"){X=parseFloat(X)}if((X!=null)&&typeof X!=="number"){X=null}if(X!=null){if(this.cumulative){V+=X}else{if(Y!=null){Y=Math.max(X,Y);L=Math.min(X,L)}else{Y=L=X}}}if(this.cumulative&&(V!=null)){Y=Math.max(V,Y);L=Math.min(V,L)}g.push(X)}return g}).call(this);e.push(Z)}return e}).call(this);if(this.options.parseTime){this.data=this.data.sort(function(e,d){return(e.x>d.x)-(d.x>e.x)})}this.xmin=this.data[0].x;this.xmax=this.data[this.data.length-1].x;this.events=[];if(this.options.events.length>0){if(this.options.parseTime){this.events=(function(){var e,g,f,d;f=this.options.events;d=[];for(e=0,g=f.length;e<g;e++){R=f[e];d.push(H.parseDate(R))}return d}).call(this)}else{this.events=this.options.events}this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events));this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))}if(this.xmin===this.xmax){this.xmin-=1;this.xmax+=1}this.ymin=this.yboundary("min",L);this.ymax=this.yboundary("max",Y);if(this.ymin===this.ymax){if(L){this.ymin-=1}this.ymax+=1}if(((Q=this.options.axes)===true||Q==="both"||Q==="y")||this.options.grid===true){if(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin){this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines);this.ymin=Math.min(this.ymin,this.grid[0]);this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])}else{N=(this.ymax-this.ymin)/(this.options.numLines-1);this.grid=(function(){var d,e,f,g;g=[];for(S=d=e=this.ymin,f=this.ymax;N>0?d<=f:d>=f;S=d+=N){g.push(S)}return g}).call(this)}}this.dirty=true;if(P){return this.redraw()}};K.prototype.yboundary=function(L,O){var N,M;N=this.options["y"+L];if(typeof N==="string"){if(N.slice(0,4)==="auto"){if(N.length>5){M=parseInt(N.slice(5),10);if(O==null){return M}return Math[L](O,M)}else{if(O!=null){return O}else{return 0}}}else{return parseInt(N,10)}}else{return N}};K.prototype.autoGridLines=function(Q,T,L){var P,R,V,S,O,N,W,U,M;O=T-Q;M=Math.floor(Math.log(O)/Math.log(10));W=Math.pow(10,M);R=Math.floor(Q/W)*W;P=Math.ceil(T/W)*W;N=(P-R)/(L-1);if(W===1&&N>1&&Math.ceil(N)!==N){N=Math.ceil(N);P=R+N*(L-1)}if(R<0&&P>0){R=Math.floor(Q/N)*N;P=Math.ceil(T/N)*N}if(N<1){S=Math.floor(Math.log(N)/Math.log(10));V=(function(){var X,Y;Y=[];for(U=X=R;N>0?X<=P:X>=P;U=X+=N){Y.push(parseFloat(U.toFixed(1-S)))}return Y})()}else{V=(function(){var X,Y;Y=[];for(U=X=R;N>0?X<=P:X>=P;U=X+=N){Y.push(U)}return Y})()}return V};K.prototype._calc=function(){var M,O,P,Q,N,S,L,R;N=this.el.width();P=this.el.height();if(this.elementWidth!==N||this.elementHeight!==P||this.dirty){this.elementWidth=N;this.elementHeight=P;this.dirty=false;this.left=this.options.padding;this.right=this.elementWidth-this.options.padding;this.top=this.options.padding;this.bottom=this.elementHeight-this.options.padding;if((L=this.options.axes)===true||L==="both"||L==="y"){S=(function(){var T,W,U,V;U=this.grid;V=[];for(T=0,W=U.length;T<W;T++){O=U[T];V.push(this.measureText(this.yAxisFormat(O)).width)}return V}).call(this);this.left+=Math.max.apply(Math,S)}if((R=this.options.axes)===true||R==="both"||R==="x"){M=(function(){var T,U,V;V=[];for(Q=T=0,U=this.data.length;0<=U?T<U:T>U;Q=0<=U?++T:--T){V.push(this.measureText(this.data[Q].text,-this.options.xLabelAngle).height)}return V}).call(this);this.bottom-=Math.max.apply(Math,M)}this.width=Math.max(1,this.right-this.left);this.height=Math.max(1,this.bottom-this.top);this.dx=this.width/(this.xmax-this.xmin);this.dy=this.height/(this.ymax-this.ymin);if(this.calc){return this.calc()}}};K.prototype.transY=function(L){return this.bottom-(L-this.ymin)*this.dy};K.prototype.transX=function(L){if(this.data.length===1){return(this.left+this.right)/2}else{return this.left+(L-this.xmin)*this.dx}};K.prototype.redraw=function(){this.raphael.clear();this._calc();this.drawGrid();this.drawGoals();this.drawEvents();if(this.draw){return this.draw()}};K.prototype.measureText=function(L,O){var M,N;if(O==null){O=0}N=this.raphael.text(100,100,L).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(O);M=N.getBBox();N.remove();return M};K.prototype.yAxisFormat=function(L){return this.yLabelFormat(L)};K.prototype.yLabelFormat=function(L){if(typeof this.options.yLabelFormat==="function"){return this.options.yLabelFormat(L)}else{return""+this.options.preUnits+(H.commas(L))+this.options.postUnits}};K.prototype.drawGrid=function(){var Q,S,N,M,L,O,P,R;if(this.options.grid===false&&((L=this.options.axes)!==true&&L!=="both"&&L!=="y")){return}O=this.grid;R=[];for(N=0,M=O.length;N<M;N++){Q=O[N];S=this.transY(Q);if((P=this.options.axes)===true||P==="both"||P==="y"){this.drawYAxisLabel(this.left-this.options.padding/2,S,this.yAxisFormat(Q))}if(this.options.grid){R.push(this.drawGridLine("M"+this.left+","+S+"H"+(this.left+this.width)))}else{R.push(void 0)}}return R};K.prototype.drawGoals=function(){var Q,L,M,N,R,O,P;O=this.options.goals;P=[];for(M=N=0,R=O.length;N<R;M=++N){L=O[M];Q=this.options.goalLineColors[M%this.options.goalLineColors.length];P.push(this.drawGoal(L,Q))}return P};K.prototype.drawEvents=function(){var Q,P,M,N,R,O,L;O=this.events;L=[];for(M=N=0,R=O.length;N<R;M=++N){P=O[M];Q=this.options.eventLineColors[M%this.options.eventLineColors.length];L.push(this.drawEvent(P,Q))}return L};K.prototype.drawGoal=function(L,M){return this.raphael.path("M"+this.left+","+(this.transY(L))+"H"+this.right).attr("stroke",M).attr("stroke-width",this.options.goalStrokeWidth)};K.prototype.drawEvent=function(L,M){return this.raphael.path("M"+(this.transX(L))+","+this.bottom+"V"+this.top).attr("stroke",M).attr("stroke-width",this.options.eventStrokeWidth)};K.prototype.drawYAxisLabel=function(L,N,M){return this.raphael.text(L,N,M).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")};K.prototype.drawGridLine=function(L){return this.raphael.path(L).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)};K.prototype.startRange=function(L){this.hover.hide();this.selectFrom=L;return this.selectionRect.attr({x:L,width:0}).show()};K.prototype.endRange=function(L){var M,N;if(this.selectFrom){N=Math.min(this.selectFrom,L);M=Math.max(this.selectFrom,L);this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(N)].x,end:this.data[this.hitTest(M)].x});return this.selectFrom=null}};K.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return K})(H.EventEmitter);H.parseDate=function(U){var S,R,N,O,P,L,K,M,J,T,Q;if(typeof U==="number"){return U}R=U.match(/^(\d+) Q(\d)$/);O=U.match(/^(\d+)-(\d+)$/);P=U.match(/^(\d+)-(\d+)-(\d+)$/);K=U.match(/^(\d+) W(\d+)$/);M=U.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/);J=U.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/);if(R){return new Date(parseInt(R[1],10),parseInt(R[2],10)*3-1,1).getTime()}else{if(O){return new Date(parseInt(O[1],10),parseInt(O[2],10)-1,1).getTime()}else{if(P){return new Date(parseInt(P[1],10),parseInt(P[2],10)-1,parseInt(P[3],10)).getTime()}else{if(K){T=new Date(parseInt(K[1],10),0,1);if(T.getDay()!==4){T.setMonth(0,1+((4-T.getDay())+7)%7)}return T.getTime()+parseInt(K[2],10)*604800000}else{if(M){if(!M[6]){return new Date(parseInt(M[1],10),parseInt(M[2],10)-1,parseInt(M[3],10),parseInt(M[4],10),parseInt(M[5],10)).getTime()}else{L=0;if(M[6]!=="Z"){L=parseInt(M[8],10)*60+parseInt(M[9],10);if(M[7]==="+"){L=0-L}}return Date.UTC(parseInt(M[1],10),parseInt(M[2],10)-1,parseInt(M[3],10),parseInt(M[4],10),parseInt(M[5],10)+L)}}else{if(J){Q=parseFloat(J[6]);S=Math.floor(Q);N=Math.round((Q-S)*1000);if(!J[8]){return new Date(parseInt(J[1],10),parseInt(J[2],10)-1,parseInt(J[3],10),parseInt(J[4],10),parseInt(J[5],10),S,N).getTime()}else{L=0;if(J[8]!=="Z"){L=parseInt(J[10],10)*60+parseInt(J[11],10);if(J[9]==="+"){L=0-L}}return Date.UTC(parseInt(J[1],10),parseInt(J[2],10)-1,parseInt(J[3],10),parseInt(J[4],10),parseInt(J[5],10)+L,S,N)}}else{return new Date(parseInt(U,10),0,1).getTime()}}}}}}};H.Hover=(function(){J.defaults={"class":"morris-hover morris-default-style"};function J(K){if(K==null){K={}}this.options=E.extend({},H.Hover.defaults,K);this.el=E("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}J.prototype.update=function(K,L,M){this.html(K);this.show();return this.moveTo(L,M)};J.prototype.html=function(K){return this.el.html(K)};J.prototype.moveTo=function(Q,R){var K,P,O,L,M,N;M=this.options.parent.innerWidth();L=this.options.parent.innerHeight();P=this.el.outerWidth();K=this.el.outerHeight();O=Math.min(Math.max(0,Q-P/2),M-P);if(R!=null){N=R-K-10;if(N<0){N=R+10;if(N+K>L){N=L/2-K/2}}}else{N=L/2-K/2}return this.el.css({left:O+"px",top:parseInt(N)+"px"})};J.prototype.show=function(){return this.el.show()};J.prototype.hide=function(){return this.el.hide()};return J})();H.Line=(function(K){B(J,K);function J(L){this.hilight=A(this.hilight,this);this.onHoverOut=A(this.onHoverOut,this);this.onHoverMove=A(this.onHoverMove,this);this.onGridClick=A(this.onGridClick,this);if(!(this instanceof H.Line)){return new H.Line(L)}J.__super__.constructor.call(this,L)}J.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new H.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};J.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:true,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:true,hideHover:false};J.prototype.calc=function(){this.calcPoints();return this.generatePaths()};J.prototype.calcPoints=function(){var O,P,M,Q,N,L;N=this.data;L=[];for(M=0,Q=N.length;M<Q;M++){O=N[M];O._x=this.transX(O.x);O._y=(function(){var T,U,S,R;S=O.y;R=[];for(T=0,U=S.length;T<U;T++){P=S[T];if(P!=null){R.push(this.transY(P))}else{R.push(P)}}return R}).call(this);L.push(O._ymax=Math.min.apply(Math,[this.bottom].concat((function(){var T,U,S,R;S=O._y;R=[];for(T=0,U=S.length;T<U;T++){P=S[T];if(P!=null){R.push(P)}}return R})())))}return L};J.prototype.hitTest=function(O){var P,L,M,Q,N;if(this.data.length===0){return null}N=this.data.slice(1);for(P=M=0,Q=N.length;M<Q;P=++M){L=N[P];if(O<(L._x+this.data[P]._x)/2){break}}return P};J.prototype.onGridClick=function(M,N){var L;L=this.hitTest(M);return this.fire("click",L,this.data[L].src,M,N)};J.prototype.onHoverMove=function(M,N){var L;L=this.hitTest(M);return this.displayHoverForRow(L)};J.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.displayHoverForRow(null)}};J.prototype.displayHoverForRow=function(M){var L;if(M!=null){(L=this.hover).update.apply(L,this.hoverContentForRow(M));return this.hilight(M)}else{this.hover.hide();return this.hilight()}};J.prototype.hoverContentForRow=function(L){var S,P,Q,R,O,N,M;Q=this.data[L];S="<div class='morris-hover-row-label'>"+Q.label+"</div>";M=Q.y;for(P=O=0,N=M.length;O<N;P=++O){R=M[P];S+="<div class='morris-hover-point' style='color: "+(this.colorFor(Q,P,"label"))+"'>\n  "+this.options.labels[P]+":\n  "+(this.yLabelFormat(R))+"\n</div>"}if(typeof this.options.hoverCallback==="function"){S=this.options.hoverCallback(L,this.options,S,Q.src)}return[S,Q._x,Q._ymax]};J.prototype.generatePaths=function(){var P,N,M,O,L;return this.paths=(function(){var Q,S,R,T;T=[];for(M=Q=0,S=this.options.ykeys.length;0<=S?Q<S:Q>S;M=0<=S?++Q:--Q){L=typeof this.options.smooth==="boolean"?this.options.smooth:(R=this.options.ykeys[M],D.call(this.options.smooth,R)>=0);N=(function(){var W,X,V,U;V=this.data;U=[];for(W=0,X=V.length;W<X;W++){O=V[W];if(O._y[M]!==void 0){U.push({x:O._x,y:O._y[M]})}}return U}).call(this);if(this.options.continuousLine){N=(function(){var V,W,U;U=[];for(V=0,W=N.length;V<W;V++){P=N[V];if(P.y!==null){U.push(P)}}return U})()}if(N.length>1){T.push(H.Line.createPath(N,L,this.bottom))}else{T.push(null)}}return T}).call(this)};J.prototype.draw=function(){var L;if((L=this.options.axes)===true||L==="both"||L==="x"){this.drawXAxis()}this.drawSeries();if(this.options.hideHover===false){return this.displayHoverForRow(this.data.length-1)}};J.prototype.drawXAxis=function(){var O,Q,V,U,S,P,N,L,M,R,T=this;N=this.bottom+this.options.padding/2;S=null;U=null;O=function(d,Z){var W,b,X,c,Y;W=T.drawXAxisLabel(T.transX(Z),N,d);Y=W.getBBox();W.transform("r"+(-T.options.xLabelAngle));b=W.getBBox();W.transform("t0,"+(b.height/2)+"...");if(T.options.xLabelAngle!==0){c=-0.5*Y.width*Math.cos(T.options.xLabelAngle*Math.PI/180);W.transform("t"+c+",0...")}b=W.getBBox();if(((S==null)||S>=b.x+b.width||(U!=null)&&U>=b.x)&&b.x>=0&&(b.x+b.width)<T.el.width()){if(T.options.xLabelAngle!==0){X=1.25*T.options.gridTextSize/Math.sin(T.options.xLabelAngle*Math.PI/180);U=b.x-X}return S=b.x-T.options.xLabelMargin}else{return W.remove()}};if(this.options.parseTime){if(this.data.length===1&&this.options.xLabels==="auto"){V=[[this.data[0].label,this.data[0].x]]}else{V=H.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat)}}else{V=(function(){var X,Z,Y,W;Y=this.data;W=[];for(X=0,Z=Y.length;X<Z;X++){P=Y[X];W.push([P.label,P.x])}return W}).call(this)}V.reverse();R=[];for(L=0,M=V.length;L<M;L++){Q=V[L];R.push(O(Q[0],Q[1]))}return R};J.prototype.drawSeries=function(){var M,N,P,Q,O,L;this.seriesPoints=[];for(M=N=Q=this.options.ykeys.length-1;Q<=0?N<=0:N>=0;M=Q<=0?++N:--N){this._drawLineFor(M)}L=[];for(M=P=O=this.options.ykeys.length-1;O<=0?P<=0:P>=0;M=O<=0?++P:--P){L.push(this._drawPointFor(M))}return L};J.prototype._drawPointFor=function(Q){var L,O,M,R,N,P;this.seriesPoints[Q]=[];N=this.data;P=[];for(M=0,R=N.length;M<R;M++){O=N[M];L=null;if(O._y[Q]!=null){L=this.drawLinePoint(O._x,O._y[Q],this.colorFor(O,Q,"point"),Q)}P.push(this.seriesPoints[Q].push(L))}return P};J.prototype._drawLineFor=function(L){var M;M=this.paths[L];if(M!==null){return this.drawLinePath(M,this.colorFor(null,L,"line"),L)}};J.createPath=function(U,V,S){var T,R,W,O,M,Z,L,c,X,b,N,Y,P,Q;L="";if(V){W=H.Line.gradients(U)}c={y:null};for(O=P=0,Q=U.length;P<Q;O=++P){T=U[O];if(T.y!=null){if(c.y!=null){if(V){R=W[O];Z=W[O-1];M=(T.x-c.x)/4;X=c.x+M;N=Math.min(S,c.y+M*Z);b=T.x-M;Y=Math.min(S,T.y-M*R);L+="C"+X+","+N+","+b+","+Y+","+T.x+","+T.y}else{L+="L"+T.x+","+T.y}}else{if(!V||(W[O]!=null)){L+="M"+T.x+","+T.y}}}c=T}return L};J.gradients=function(S){var P,L,O,Q,T,N,M,R;L=function(V,U){return(V.y-U.y)/(V.x-U.x)};R=[];for(O=N=0,M=S.length;N<M;O=++N){P=S[O];if(P.y!=null){Q=S[O+1]||{y:null};T=S[O-1]||{y:null};if((T.y!=null)&&(Q.y!=null)){R.push(L(T,Q))}else{if(T.y!=null){R.push(L(T,P))}else{if(Q.y!=null){R.push(L(P,Q))}else{R.push(null)}}}}else{R.push(null)}}return R};J.prototype.hilight=function(P){var L,M,O,Q,N;if(this.prevHilight!==null&&this.prevHilight!==P){for(L=M=0,Q=this.seriesPoints.length-1;0<=Q?M<=Q:M>=Q;L=0<=Q?++M:--M){if(this.seriesPoints[L][this.prevHilight]){this.seriesPoints[L][this.prevHilight].animate(this.pointShrinkSeries(L))}}}if(P!==null&&this.prevHilight!==P){for(L=O=0,N=this.seriesPoints.length-1;0<=N?O<=N:O>=N;L=0<=N?++O:--O){if(this.seriesPoints[L][P]){this.seriesPoints[L][P].animate(this.pointGrowSeries(L))}}}return this.prevHilight=P};J.prototype.colorFor=function(M,N,L){if(typeof this.options.lineColors==="function"){return this.options.lineColors.call(this,M,N,L)}else{if(L==="point"){return this.options.pointFillColors[N%this.options.pointFillColors.length]||this.options.lineColors[N%this.options.lineColors.length]}else{return this.options.lineColors[N%this.options.lineColors.length]}}};J.prototype.drawXAxisLabel=function(L,N,M){return this.raphael.text(L,N,M).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};J.prototype.drawLinePath=function(N,M,L){return this.raphael.path(N).attr("stroke",M).attr("stroke-width",this.lineWidthForSeries(L))};J.prototype.drawLinePoint=function(M,O,L,N){return this.raphael.circle(M,O,this.pointSizeForSeries(N)).attr("fill",L).attr("stroke-width",this.pointStrokeWidthForSeries(N)).attr("stroke",this.pointStrokeColorForSeries(N))};J.prototype.pointStrokeWidthForSeries=function(L){return this.options.pointStrokeWidths[L%this.options.pointStrokeWidths.length]};J.prototype.pointStrokeColorForSeries=function(L){return this.options.pointStrokeColors[L%this.options.pointStrokeColors.length]};J.prototype.lineWidthForSeries=function(L){if(this.options.lineWidth instanceof Array){return this.options.lineWidth[L%this.options.lineWidth.length]}else{return this.options.lineWidth}};J.prototype.pointSizeForSeries=function(L){if(this.options.pointSize instanceof Array){return this.options.pointSize[L%this.options.pointSize.length]}else{return this.options.pointSize}};J.prototype.pointGrowSeries=function(L){return Raphael.animation({r:this.pointSizeForSeries(L)+3},25,"linear")};J.prototype.pointShrinkSeries=function(L){return Raphael.animation({r:this.pointSizeForSeries(L)},25,"linear")};return J})(H.Grid);H.labelSeries=function(S,P,Y,U,R){var L,T,J,W,X,K,Q,N,O,V,M;J=200*(P-S)/Y;T=new Date(S);Q=H.LABEL_SPECS[U];if(Q===void 0){M=H.AUTO_LABEL_ORDER;for(O=0,V=M.length;O<V;O++){W=M[O];K=H.LABEL_SPECS[W];if(J>=K.span){Q=K;break}}}if(Q===void 0){Q=H.LABEL_SPECS["second"]}if(R){Q=E.extend({},Q,{fmt:R})}L=Q.start(T);X=[];while((N=L.getTime())<=P){if(N>=S){X.push([Q.fmt(L),N])}Q.incr(L)}return X};F=function(J){return{span:J*60*1000,start:function(K){return new Date(K.getFullYear(),K.getMonth(),K.getDate(),K.getHours())},fmt:function(K){return""+(H.pad2(K.getHours()))+":"+(H.pad2(K.getMinutes()))},incr:function(K){return K.setUTCMinutes(K.getUTCMinutes()+J)}}};I=function(J){return{span:J*1000,start:function(K){return new Date(K.getFullYear(),K.getMonth(),K.getDate(),K.getHours(),K.getMinutes())},fmt:function(K){return""+(H.pad2(K.getHours()))+":"+(H.pad2(K.getMinutes()))+":"+(H.pad2(K.getSeconds()))},incr:function(K){return K.setUTCSeconds(K.getUTCSeconds()+J)}}};H.LABEL_SPECS={"decade":{span:172800000000,start:function(J){return new Date(J.getFullYear()-J.getFullYear()%10,0,1)},fmt:function(J){return""+(J.getFullYear())},incr:function(J){return J.setFullYear(J.getFullYear()+10)}},"year":{span:17280000000,start:function(J){return new Date(J.getFullYear(),0,1)},fmt:function(J){return""+(J.getFullYear())},incr:function(J){return J.setFullYear(J.getFullYear()+1)}},"month":{span:2419200000,start:function(J){return new Date(J.getFullYear(),J.getMonth(),1)},fmt:function(J){return""+(J.getFullYear())+"-"+(H.pad2(J.getMonth()+1))},incr:function(J){return J.setMonth(J.getMonth()+1)}},"week":{span:604800000,start:function(J){return new Date(J.getFullYear(),J.getMonth(),J.getDate())},fmt:function(J){return""+(J.getFullYear())+"-"+(H.pad2(J.getMonth()+1))+"-"+(H.pad2(J.getDate()))},incr:function(J){return J.setDate(J.getDate()+7)}},"day":{span:86400000,start:function(J){return new Date(J.getFullYear(),J.getMonth(),J.getDate())},fmt:function(J){return""+(J.getFullYear())+"-"+(H.pad2(J.getMonth()+1))+"-"+(H.pad2(J.getDate()))},incr:function(J){return J.setDate(J.getDate()+1)}},"hour":F(60),"30min":F(30),"15min":F(15),"10min":F(10),"5min":F(5),"minute":F(1),"30sec":I(30),"15sec":I(15),"10sec":I(10),"5sec":I(5),"second":I(1)};H.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];H.Area=(function(K){var J;B(L,K);J={fillOpacity:"auto",behaveLikeLine:false};function L(N){var M;if(!(this instanceof H.Area)){return new H.Area(N)}M=E.extend({},J,N);this.cumulative=!M.behaveLikeLine;if(M.fillOpacity==="auto"){M.fillOpacity=M.behaveLikeLine?0.8:1}L.__super__.constructor.call(this,M)}L.prototype.calcPoints=function(){var Q,O,R,N,S,P,M;P=this.data;M=[];for(N=0,S=P.length;N<S;N++){Q=P[N];Q._x=this.transX(Q.x);O=0;Q._y=(function(){var V,W,U,T;U=Q.y;T=[];for(V=0,W=U.length;V<W;V++){R=U[V];if(this.options.behaveLikeLine){T.push(this.transY(R))}else{O+=R||0;T.push(this.transY(O))}}return T}).call(this);M.push(Q._ymax=Math.max.apply(Math,Q._y))}return M};L.prototype.drawSeries=function(){var T,W,M,S,Q,P,O,R,V,N,U;this.seriesPoints=[];if(this.options.behaveLikeLine){W=(function(){V=[];for(var X=0,Y=this.options.ykeys.length-1;0<=Y?X<=Y:X>=Y;0<=Y?X++:X--){V.push(X)}return V}).apply(this)}else{W=(function(){N=[];for(var X=R=this.options.ykeys.length-1;R<=0?X<=0:X>=0;R<=0?X++:X--){N.push(X)}return N}).apply(this)}U=[];for(Q=0,P=W.length;Q<P;Q++){T=W[Q];this._drawFillFor(T);this._drawLineFor(T);U.push(this._drawPointFor(T))}return U};L.prototype._drawFillFor=function(M){var N;N=this.paths[M];if(N!==null){N=N+("L"+(this.transX(this.xmax))+","+this.bottom+"L"+(this.transX(this.xmin))+","+this.bottom+"Z");return this.drawFilledPath(N,this.fillForSeries(M))}};L.prototype.fillForSeries=function(M){var N;N=Raphael.rgb2hsl(this.colorFor(this.data[M],M,"line"));return Raphael.hsl(N.h,this.options.behaveLikeLine?N.s*0.9:N.s*0.75,Math.min(0.98,this.options.behaveLikeLine?N.l*1.2:N.l*1.25))};L.prototype.drawFilledPath=function(N,M){return this.raphael.path(N).attr("fill",M).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")};return L})(H.Line);H.Bar=(function(K){B(J,K);function J(L){this.onHoverOut=A(this.onHoverOut,this);this.onHoverMove=A(this.onHoverMove,this);this.onGridClick=A(this.onGridClick,this);if(!(this instanceof H.Bar)){return new H.Bar(L)}J.__super__.constructor.call(this,E.extend({},L,{parseTime:false}))}J.prototype.init=function(){this.cumulative=this.options.stacked;if(this.options.hideHover!=="always"){this.hover=new H.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};J.prototype.defaults={barSizeRatio:0.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50};J.prototype.calc=function(){var L;this.calcBars();if(this.options.hideHover===false){return(L=this.hover).update.apply(L,this.hoverContentForRow(this.data.length-1))}};J.prototype.calcBars=function(){var P,O,Q,M,R,N,L;N=this.data;L=[];for(P=M=0,R=N.length;M<R;P=++M){O=N[P];O._x=this.left+this.width*(P+0.5)/this.data.length;L.push(O._y=(function(){var U,V,T,S;T=O.y;S=[];for(U=0,V=T.length;U<V;U++){Q=T[U];if(Q!=null){S.push(this.transY(Q))}else{S.push(null)}}return S}).call(this))}return L};J.prototype.draw=function(){var L;if((L=this.options.axes)===true||L==="both"||L==="x"){this.drawXAxis()}return this.drawSeries()};J.prototype.drawXAxis=function(){var P,S,N,L,M,R,U,Q,V,W,O,X,T;W=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2);U=null;R=null;T=[];for(P=O=0,X=this.data.length;0<=X?O<X:O>X;P=0<=X?++O:--O){Q=this.data[this.data.length-1-P];S=this.drawXAxisLabel(Q._x,W,Q.label);V=S.getBBox();S.transform("r"+(-this.options.xLabelAngle));N=S.getBBox();S.transform("t0,"+(N.height/2)+"...");if(this.options.xLabelAngle!==0){M=-0.5*V.width*Math.cos(this.options.xLabelAngle*Math.PI/180);S.transform("t"+M+",0...")}if(((U==null)||U>=N.x+N.width||(R!=null)&&R>=N.x)&&N.x>=0&&(N.x+N.width)<this.el.width()){if(this.options.xLabelAngle!==0){L=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180);R=N.x-L}T.push(U=N.x-this.options.xLabelMargin)}else{T.push(S.remove())}}return T};J.prototype.drawSeries=function(){var O,W,V,P,U,R,M,Y,S,T,N,X,Q,Z,L;V=this.width/this.options.data.length;Y=this.options.stacked!=null?1:this.options.ykeys.length;O=(V*this.options.barSizeRatio-this.options.barGap*(Y-1))/Y;if(this.options.barSize){O=Math.min(O,this.options.barSize)}X=V-O*Y-this.options.barGap*(Y-1);M=X/2;L=this.ymin<=0&&this.ymax>=0?this.transY(0):null;return this.bars=(function(){var c,e,d,b;d=this.data;b=[];for(P=c=0,e=d.length;c<e;P=++c){S=d[P];U=0;b.push((function(){var h,i,g,f;g=S._y;f=[];for(T=h=0,i=g.length;h<i;T=++h){Z=g[T];if(Z!==null){if(L){Q=Math.min(Z,L);W=Math.max(Z,L)}else{Q=Z;W=this.bottom}R=this.left+P*V+M;if(!this.options.stacked){R+=T*(O+this.options.barGap)}N=W-Q;if(this.options.stacked){Q-=U}this.drawBar(R,Q,O,N,this.colorFor(S,T,"bar"),this.options.barOpacity,this.options.barRadius);f.push(U+=N)}else{f.push(null)}}return f}).call(this))}return b}).call(this)};J.prototype.colorFor=function(O,P,L){var M,N;if(typeof this.options.barColors==="function"){M={x:O.x,y:O.y[P],label:O.label};N={index:P,key:this.options.ykeys[P],label:this.options.labels[P]};return this.options.barColors.call(this,M,N,L)}else{return this.options.barColors[P%this.options.barColors.length]}};J.prototype.hitTest=function(L){if(this.data.length===0){return null}L=Math.max(Math.min(L,this.right),this.left);return Math.min(this.data.length-1,Math.floor((L-this.left)/(this.width/this.data.length)))};J.prototype.onGridClick=function(M,N){var L;L=this.hitTest(M);return this.fire("click",L,this.data[L].src,M,N)};J.prototype.onHoverMove=function(N,O){var L,M;L=this.hitTest(N);return(M=this.hover).update.apply(M,this.hoverContentForRow(L))};J.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.hover.hide()}};J.prototype.hoverContentForRow=function(L){var T,P,Q,R,S,O,N,M;Q=this.data[L];T="<div class='morris-hover-row-label'>"+Q.label+"</div>";M=Q.y;for(P=O=0,N=M.length;O<N;P=++O){S=M[P];T+="<div class='morris-hover-point' style='color: "+(this.colorFor(Q,P,"label"))+"'>\n  "+this.options.labels[P]+":\n  "+(this.yLabelFormat(S))+"\n</div>"}if(typeof this.options.hoverCallback==="function"){T=this.options.hoverCallback(L,this.options,T,Q.src)}R=this.left+(L+0.5)*this.width/this.data.length;return[T,R]};J.prototype.drawXAxisLabel=function(M,O,N){var L;return L=this.raphael.text(M,O,N).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};J.prototype.drawBar=function(P,L,Q,T,R,O,M){var N,S;N=Math.max.apply(Math,M);if(N===0||N>T){S=this.raphael.rect(P,L,Q,T)}else{S=this.raphael.path(this.roundedRect(P,L,Q,T,M))}return S.attr("fill",R).attr("fill-opacity",O).attr("stroke","none")};J.prototype.roundedRect=function(N,O,P,L,M){if(M==null){M=[0,0,0,0]}return["M",N,M[0]+O,"Q",N,O,N+M[0],O,"L",N+P-M[1],O,"Q",N+P,O,N+P,O+M[1],"L",N+P,O+L-M[2],"Q",N+P,O+L,N+P-M[2],O+L,"L",N+M[3],O+L,"Q",N,O+L,N,O+L-M[3],"Z"]};return J})(H.Grid);H.Donut=(function(J){B(K,J);K.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:H.commas,resize:false};function K(M){this.resizeHandler=A(this.resizeHandler,this);this.select=A(this.select,this);this.click=A(this.click,this);var L=this;if(!(this instanceof H.Donut)){return new H.Donut(M)}this.options=E.extend({},this.defaults,M);if(typeof M.element==="string"){this.el=E(document.getElementById(M.element))}else{this.el=E(M.element)}if(this.el===null||this.el.length===0){throw new Error("Graph placeholder not found.")}if(M.data===void 0||M.data.length===0){return}this.raphael=new Raphael(this.el[0]);if(this.options.resize){E(window).bind("resize",function(N){if(L.timeoutId!=null){window.clearTimeout(L.timeoutId)}return L.timeoutId=window.setTimeout(L.resizeHandler,100)})}this.setData(M.data)}K.prototype.redraw=function(){var b,P,Z,R,Q,c,f,W,Y,g,d,e,N,S,U,j,V,O,M,X,h,L,T;this.raphael.clear();P=this.el.width()/2;Z=this.el.height()/2;N=(Math.min(P,Z)-10)/3;d=0;X=this.values;for(S=0,V=X.length;S<V;S++){e=X[S];d+=e}W=5/(2*N);b=1.9999*Math.PI-W*this.data.length;c=0;Q=0;this.segments=[];h=this.values;for(R=U=0,O=h.length;U<O;R=++U){e=h[R];Y=c+W+b*(e/d);g=new H.DonutSegment(P,Z,N*2,N,c,Y,this.data[R].color||this.options.colors[Q%this.options.colors.length],this.options.backgroundColor,Q,this.raphael);g.render();this.segments.push(g);g.on("hover",this.select);g.on("click",this.click);c=Y;Q+=1}this.text1=this.drawEmptyDonutLabel(P,Z-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(P,Z+10,this.options.labelColor,14);f=Math.max.apply(Math,this.values);Q=0;L=this.values;T=[];for(j=0,M=L.length;j<M;j++){e=L[j];if(e===f){this.select(Q);break}T.push(Q+=1)}return T};K.prototype.setData=function(M){var L;this.data=M;this.values=(function(){var O,Q,P,N;P=this.data;N=[];for(O=0,Q=P.length;O<Q;O++){L=P[O];N.push(parseFloat(L.value))}return N}).call(this);return this.redraw()};K.prototype.click=function(L){return this.fire("click",L,this.data[L])};K.prototype.select=function(Q){var O,M,P,R,L,N;N=this.segments;for(R=0,L=N.length;R<L;R++){M=N[R];M.deselect()}P=this.segments[Q];P.select();O=this.data[Q];return this.setLabels(O.label,this.options.formatter(O.value,O))};K.prototype.setLabels=function(U,L){var M,N,T,Q,P,S,R,O;M=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3;Q=1.8*M;T=M/2;N=M/3;this.text1.attr({text:U,transform:""});P=this.text1.getBBox();S=Math.min(Q/P.width,T/P.height);this.text1.attr({transform:"S"+S+","+S+","+(P.x+P.width/2)+","+(P.y+P.height)});this.text2.attr({text:L,transform:""});R=this.text2.getBBox();O=Math.min(Q/R.width,N/R.height);return this.text2.attr({transform:"S"+O+","+O+","+(R.x+R.width/2)+","+R.y})};K.prototype.drawEmptyDonutLabel=function(L,P,M,N,Q){var O;O=this.raphael.text(L,P,"").attr("font-size",N).attr("fill",M);if(Q!=null){O.attr("font-weight",Q)}return O};K.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return K})(H.EventEmitter);H.DonutSegment=(function(J){B(K,J);function K(R,P,M,L,T,S,O,U,N,Q){this.cx=R;this.cy=P;this.inner=M;this.outer=L;this.color=O;this.backgroundColor=U;this.index=N;this.raphael=Q;this.deselect=A(this.deselect,this);this.select=A(this.select,this);this.sin_p0=Math.sin(T);this.cos_p0=Math.cos(T);this.sin_p1=Math.sin(S);this.cos_p1=Math.cos(S);this.is_long=(S-T)>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}K.prototype.calcArcPoints=function(L){return[this.cx+L*this.sin_p0,this.cy+L*this.cos_p0,this.cx+L*this.sin_p1,this.cy+L*this.cos_p1]};K.prototype.calcSegment=function(O,R){var V,U,T,S,M,L,Q,P,W,N;W=this.calcArcPoints(O),V=W[0],T=W[1],U=W[2],S=W[3];N=this.calcArcPoints(R),M=N[0],Q=N[1],L=N[2],P=N[3];return("M"+V+","+T)+("A"+O+","+O+",0,"+this.is_long+",0,"+U+","+S)+("L"+L+","+P)+("A"+R+","+R+",0,"+this.is_long+",1,"+M+","+Q)+"Z"};K.prototype.calcArc=function(L){var N,M,P,O,Q;Q=this.calcArcPoints(L),N=Q[0],P=Q[1],M=Q[2],O=Q[3];return("M"+N+","+P)+("A"+L+","+L+",0,"+this.is_long+",0,"+M+","+O)};K.prototype.render=function(){var L=this;this.arc=this.drawDonutArc(this.hilight,this.color);return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return L.fire("hover",L.index)},function(){return L.fire("click",L.index)})};K.prototype.drawDonutArc=function(M,L){return this.raphael.path(M).attr({stroke:L,"stroke-width":2,opacity:0})};K.prototype.drawDonutSegment=function(P,N,O,L,M){return this.raphael.path(P).attr({fill:N,stroke:O,"stroke-width":3}).hover(L).click(M)};K.prototype.select=function(){if(!this.selected){this.seg.animate({path:this.selectedPath},150,"<>");this.arc.animate({opacity:1},150,"<>");return this.selected=true}};K.prototype.deselect=function(){if(this.selected){this.seg.animate({path:this.path},150,"<>");this.arc.animate({opacity:0},150,"<>");return this.selected=false}};return K})(H.EventEmitter)}).call(this);(function(B){B.color={};B.color.make=function(D,C,F,G){var E={};E.r=D||0;E.g=C||0;E.b=F||0;E.a=G!=null?G:1;E.add=function(J,H){for(var I=0;I<J.length;++I){E[J.charAt(I)]+=H}return E.normalize()};E.scale=function(I,J){for(var H=0;H<I.length;++H){E[I.charAt(H)]*=J}return E.normalize()};E.toString=function(){if(E.a>=1){return"rgb("+[E.r,E.g,E.b].join(",")+")"}else{return"rgba("+[E.r,E.g,E.b,E.a].join(",")+")"}};E.normalize=function(){function H(I,J,K){return J<I?I:J>K?K:J}E.r=H(0,parseInt(E.r),255);E.g=H(0,parseInt(E.g),255);E.b=H(0,parseInt(E.b),255);E.a=H(0,E.a,1);return E};E.clone=function(){return B.color.make(E.r,E.b,E.g,E.a)};return E.normalize()};B.color.extract=function(C,D){var E;do{E=C.css(D).toLowerCase();if(E!=""&&E!="transparent"){break}C=C.parent()}while(C.length&&!B.nodeName(C.get(0),"body"));if(E=="rgba(0, 0, 0, 0)"){E="transparent"}return B.color.parse(E)};B.color.parse=function(D){var C,E=B.color.make;if(C=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(D)){return E(parseInt(C[1],10),parseInt(C[2],10),parseInt(C[3],10))}if(C=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(D)){return E(parseInt(C[1],10),parseInt(C[2],10),parseInt(C[3],10),parseFloat(C[4]))}if(C=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(D)){return E(parseFloat(C[1])*2.55,parseFloat(C[2])*2.55,parseFloat(C[3])*2.55)}if(C=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(D)){return E(parseFloat(C[1])*2.55,parseFloat(C[2])*2.55,parseFloat(C[3])*2.55,parseFloat(C[4]))}if(C=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(D)){return E(parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16))}if(C=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(D)){return E(parseInt(C[1]+C[1],16),parseInt(C[2]+C[2],16),parseInt(C[3]+C[3],16))}var F=B.trim(D).toLowerCase();if(F=="transparent"){return E(255,255,255,0)}else{C=A[F]||[0,0,0];return E(C[0],C[1],C[2])}};var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(E){var C=Object.prototype.hasOwnProperty;function D(G,H){var I=H.children("."+G)[0];if(I==null){I=document.createElement("canvas");I.className=G;E(I).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(H);if(!I.getContext){if(window.G_vmlCanvasManager){I=window.G_vmlCanvasManager.initElement(I)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=I;var F=this.context=I.getContext("2d");var K=window.devicePixelRatio||1,J=F.webkitBackingStorePixelRatio||F.mozBackingStorePixelRatio||F.msBackingStorePixelRatio||F.oBackingStorePixelRatio||F.backingStorePixelRatio||1;this.pixelRatio=K/J;this.resize(H.width(),H.height());this.textContainer=null;this.text={};this._textCache={}}D.prototype.resize=function(J,G){if(J<=0||G<=0){throw new Error("Invalid dimensions for plot, width = "+J+", height = "+G)}var H=this.element,F=this.context,I=this.pixelRatio;if(this.width!=J){H.width=J*I;H.style.width=J+"px";this.width=J}if(this.height!=G){H.height=G*I;H.style.height=G+"px";this.height=G}F.restore();F.save();F.scale(I,I)};D.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};D.prototype.render=function(){var O=this._textCache;for(var H in O){if(C.call(O,H)){var K=this.getTextLayer(H),F=O[H];K.hide();for(var M in F){if(C.call(F,M)){var N=F[M];for(var J in N){if(C.call(N,J)){var G=N[J].positions;for(var I=0,L;L=G[I];I++){if(L.active){if(!L.rendered){K.append(L.element);L.rendered=true}}else{G.splice(I--,1);if(L.rendered){L.element.detach()}}}if(G.length==0){delete N[J]}}}}}K.show()}}};D.prototype.getTextLayer=function(G){var F=this.text[G];if(F==null){if(this.textContainer==null){this.textContainer=E("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}F=this.text[G]=E("<div></div>").addClass(G).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return F};D.prototype.getTextInfo=function(O,J,H,L,K){var I,F,M,N;J=""+J;if(typeof H==="object"){I=H.style+" "+H.variant+" "+H.weight+" "+H.size+"px/"+H.lineHeight+"px "+H.family}else{I=H}F=this._textCache[O];if(F==null){F=this._textCache[O]={}}M=F[I];if(M==null){M=F[I]={}}N=M[J];if(N==null){var G=E("<div></div>").html(J).css({position:"absolute","max-width":K,top:-9999}).appendTo(this.getTextLayer(O));if(typeof H==="object"){G.css({font:I,color:H.color})}else{if(typeof H==="string"){G.addClass(H)}}N=M[J]={width:G.outerWidth(true),height:G.outerHeight(true),element:G,positions:[]};G.detach()}return N};D.prototype.addText=function(R,O,P,K,I,N,M,G,F){var Q=this.getTextInfo(R,K,I,N,M),H=Q.positions;if(G=="center"){O-=Q.width/2}else{if(G=="right"){O-=Q.width}}if(F=="middle"){P-=Q.height/2}else{if(F=="bottom"){P-=Q.height}}for(var J=0,L;L=H[J];J++){if(L.x==O&&L.y==P){L.active=true;return}}L={active:true,rendered:false,element:H.length?Q.element.clone():Q.element,x:O,y:P};H.push(L);L.element.css({top:Math.round(P),left:Math.round(O),"text-align":G})};D.prototype.removeText=function(R,P,Q,L,H,O){if(L==null){var F=this._textCache[R];if(F!=null){for(var N in F){if(C.call(F,N)){var M=F[N];for(var K in M){if(C.call(M,K)){var G=M[K].positions;for(var J=0,I;I=G[J];J++){I.active=false}}}}}}}else{var G=this.getTextInfo(R,L,H,O).positions;for(var J=0,I;I=G[J];J++){if(I.x==P&&I.y==Q){I.active=false}}}};function A(Am,z,J,n){var Aj=[],S={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},Az=null,Aa=null,Ax=null,Y=null,T=null,j=[],Ap=[],q={left:0,right:0,top:0,bottom:0},Al=0,As=0,l={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},Ak=this;Ak.setData=m;Ak.setupGrid=Ar;Ak.draw=M;Ak.getPlaceholder=function(){return Am};Ak.getCanvas=function(){return Az.element};Ak.getPlotOffset=function(){return q};Ak.width=function(){return Al};Ak.height=function(){return As};Ak.offset=function(){var AA=Ax.offset();AA.left+=q.left;AA.top+=q.top;return AA};Ak.getData=function(){return Aj};Ak.getAxes=function(){var AB={},AA;E.each(j.concat(Ap),function(AD,AC){if(AC){AB[AC.direction+(AC.n!=1?AC.n:"")+"axis"]=AC}});return AB};Ak.getXAxes=function(){return j};Ak.getYAxes=function(){return Ap};Ak.c2p=Ao;Ak.p2c=c;Ak.getOptions=function(){return S};Ak.highlight=H;Ak.unhighlight=R;Ak.triggerRedrawOverlay=V;Ak.pointOffset=function(AA){return{left:parseInt(j[i(AA,"x")-1].p2c(+AA.x)+q.left,10),top:parseInt(Ap[i(AA,"y")-1].p2c(+AA.y)+q.top,10)}};Ak.shutdown=U;Ak.destroy=function(){U();Am.removeData("plot").empty();Aj=[];S=null;Az=null;Aa=null;Ax=null;Y=null;T=null;j=[];Ap=[];l=null;u=[];Ak=null};Ak.resize=function(){var AB=Am.width(),AA=Am.height();Az.resize(AB,AA);Aa.resize(AB,AA)};Ak.hooks=l;y(Ak);Aw(J);Ac();m(z);Ar();M();N();function g(AB,AC){AC=[Ak].concat(AC);for(var AA=0;AA<AB.length;++AA){AB[AA].apply(this,AC)}}function y(){var AC={Canvas:D};for(var AA=0;AA<n.length;++AA){var AB=n[AA];AB.init(Ak,AC);if(AB.options){E.extend(true,S,AB.options)}}}function Aw(AE){E.extend(true,S,AE);if(AE&&AE.colors){S.colors=AE.colors}if(S.xaxis.color==null){S.xaxis.color=E.color.parse(S.grid.color).scale("a",0.22).toString()}if(S.yaxis.color==null){S.yaxis.color=E.color.parse(S.grid.color).scale("a",0.22).toString()}if(S.xaxis.tickColor==null){S.xaxis.tickColor=S.grid.tickColor||S.xaxis.color}if(S.yaxis.tickColor==null){S.yaxis.tickColor=S.grid.tickColor||S.yaxis.color}if(S.grid.borderColor==null){S.grid.borderColor=S.grid.color}if(S.grid.tickColor==null){S.grid.tickColor=E.color.parse(S.grid.color).scale("a",0.22).toString()}var AD,AA,AB,AF=Am.css("font-size"),AC=AF?+AF.replace("px",""):13,AH={style:Am.css("font-style"),size:Math.round(0.8*AC),variant:Am.css("font-variant"),weight:Am.css("font-weight"),family:Am.css("font-family")};AB=S.xaxes.length||1;for(AD=0;AD<AB;++AD){AA=S.xaxes[AD];if(AA&&!AA.tickColor){AA.tickColor=AA.color}AA=E.extend(true,{},S.xaxis,AA);S.xaxes[AD]=AA;if(AA.font){AA.font=E.extend({},AH,AA.font);if(!AA.font.color){AA.font.color=AA.color}if(!AA.font.lineHeight){AA.font.lineHeight=Math.round(AA.font.size*1.15)}}}AB=S.yaxes.length||1;for(AD=0;AD<AB;++AD){AA=S.yaxes[AD];if(AA&&!AA.tickColor){AA.tickColor=AA.color}AA=E.extend(true,{},S.yaxis,AA);S.yaxes[AD]=AA;if(AA.font){AA.font=E.extend({},AH,AA.font);if(!AA.font.color){AA.font.color=AA.color}if(!AA.font.lineHeight){AA.font.lineHeight=Math.round(AA.font.size*1.15)}}}if(S.xaxis.noTicks&&S.xaxis.ticks==null){S.xaxis.ticks=S.xaxis.noTicks}if(S.yaxis.noTicks&&S.yaxis.ticks==null){S.yaxis.ticks=S.yaxis.noTicks}if(S.x2axis){S.xaxes[1]=E.extend(true,{},S.xaxis,S.x2axis);S.xaxes[1].position="top"}if(S.y2axis){S.yaxes[1]=E.extend(true,{},S.yaxis,S.y2axis);S.yaxes[1].position="right"}if(S.grid.coloredAreas){S.grid.markings=S.grid.coloredAreas}if(S.grid.coloredAreasColor){S.grid.markingsColor=S.grid.coloredAreasColor}if(S.lines){E.extend(true,S.series.lines,S.lines)}if(S.points){E.extend(true,S.series.points,S.points)}if(S.bars){E.extend(true,S.series.bars,S.bars)}if(S.shadowSize!=null){S.series.shadowSize=S.shadowSize}if(S.highlightColor!=null){S.series.highlightColor=S.highlightColor}for(AD=0;AD<S.xaxes.length;++AD){Ae(j,AD+1).options=S.xaxes[AD]}for(AD=0;AD<S.yaxes.length;++AD){Ae(Ap,AD+1).options=S.yaxes[AD]}for(var AG in l){if(S.hooks[AG]&&S.hooks[AG].length){l[AG]=l[AG].concat(S.hooks[AG])}}g(l.processOptions,[S])}function m(AA){Aj=Ag(AA);An();d()}function Ag(AA){var AD=[];for(var AB=0;AB<AA.length;++AB){var AC=E.extend(true,{},S.series);if(AA[AB].data!=null){AC.data=AA[AB].data;delete AA[AB].data;E.extend(true,AC,AA[AB]);AA[AB].data=AC.data}else{AC.data=AA[AB]}AD.push(AC)}return AD}function i(AA,AB){var AC=AA[AB+"axis"];if(typeof AC=="object"){AC=AC.n}if(typeof AC!="number"){AC=1}return AC}function L(){return E.grep(j.concat(Ap),function(AA){return AA})}function Ao(AB){var AC={},AA,AD;for(AA=0;AA<j.length;++AA){AD=j[AA];if(AD&&AD.used){AC["x"+AD.n]=AD.c2p(AB.left)}}for(AA=0;AA<Ap.length;++AA){AD=Ap[AA];if(AD&&AD.used){AC["y"+AD.n]=AD.c2p(AB.top)}}if(AC.x1!==undefined){AC.x=AC.x1}if(AC.y1!==undefined){AC.y=AC.y1}return AC}function c(AC){var AD={},AB,AE,AA;for(AB=0;AB<j.length;++AB){AE=j[AB];if(AE&&AE.used){AA="x"+AE.n;if(AC[AA]==null&&AE.n==1){AA="x"}if(AC[AA]!=null){AD.left=AE.p2c(AC[AA]);break}}}for(AB=0;AB<Ap.length;++AB){AE=Ap[AB];if(AE&&AE.used){AA="y"+AE.n;if(AC[AA]==null&&AE.n==1){AA="y"}if(AC[AA]!=null){AD.top=AE.p2c(AC[AA]);break}}}return AD}function Ae(AA,AB){if(!AA[AB-1]){AA[AB-1]={n:AB,direction:AA==j?"x":"y",options:E.extend(true,{},AA==j?S.xaxis:S.yaxis)}}return AA[AB-1]}function An(){var AC=Aj.length,AI=-1,AH;for(AH=0;AH<Aj.length;++AH){var AF=Aj[AH].color;if(AF!=null){AC--;if(typeof AF=="number"&&AF>AI){AI=AF}}}if(AC<=AI){AC=AI+1}var AJ,AK=[],AL=S.colors,AE=AL.length,AG=0;for(AH=0;AH<AC;AH++){AJ=E.color.parse(AL[AH%AE]||"#666");if(AH%AE==0&&AH){if(AG>=0){if(AG<0.5){AG=-AG-0.2}else{AG=0}}else{AG=-AG}}AK[AH]=AJ.scale("rgb",1+AG)}var AA=0,AB;for(AH=0;AH<Aj.length;++AH){AB=Aj[AH];if(AB.color==null){AB.color=AK[AA].toString();++AA}else{if(typeof AB.color=="number"){AB.color=AK[AB.color].toString()}}if(AB.lines.show==null){var AD,AM=true;for(AD in AB){if(AB[AD]&&AB[AD].show){AM=false;break}}if(AM){AB.lines.show=true}}if(AB.lines.zero==null){AB.lines.zero=!!AB.lines.fill}AB.xaxis=Ae(j,i(AB,"x"));AB.yaxis=Ae(Ap,i(AB,"y"))}}function d(){var AG=Number.POSITIVE_INFINITY,AO=Number.NEGATIVE_INFINITY,AJ=Number.MAX_VALUE,AH,AE,AF,AI,AA,AR,AM,AB,AY,AZ,AP,AT,AK,AC,AW,AS;function AQ(A4,A2,A3){if(A2<A4.datamin&&A2!=-AJ){A4.datamin=A2}if(A3>A4.datamax&&A3!=AJ){A4.datamax=A3}}E.each(L(),function(A3,A2){A2.datamin=AG;A2.datamax=AO;A2.used=false});for(AH=0;AH<Aj.length;++AH){AR=Aj[AH];AR.datapoints={points:[]};g(l.processRawData,[AR,AR.data,AR.datapoints])}for(AH=0;AH<Aj.length;++AH){AR=Aj[AH];AW=AR.data;AS=AR.datapoints.format;if(!AS){AS=[];AS.push({x:true,number:true,required:true});AS.push({y:true,number:true,required:true});if(AR.bars.show||(AR.lines.show&&AR.lines.fill)){var AV=!!((AR.bars.show&&AR.bars.zero)||(AR.lines.show&&AR.lines.zero));AS.push({y:true,number:true,required:false,defaultValue:0,autoscale:AV});if(AR.bars.horizontal){delete AS[AS.length-1].y;AS[AS.length-1].x=true}}AR.datapoints.format=AS}if(AR.datapoints.pointsize!=null){continue}AR.datapoints.pointsize=AS.length;AB=AR.datapoints.pointsize;AM=AR.datapoints.points;var AL=AR.lines.show&&AR.lines.steps;AR.xaxis.used=AR.yaxis.used=true;for(AE=AF=0;AE<AW.length;++AE,AF+=AB){AC=AW[AE];var AU=AC==null;if(!AU){for(AI=0;AI<AB;++AI){AT=AC[AI];AK=AS[AI];if(AK){if(AK.number&&AT!=null){AT=+AT;if(isNaN(AT)){AT=null}else{if(AT==Infinity){AT=AJ}else{if(AT==-Infinity){AT=-AJ}}}}if(AT==null){if(AK.required){AU=true}if(AK.defaultValue!=null){AT=AK.defaultValue}}}AM[AF+AI]=AT}}if(AU){for(AI=0;AI<AB;++AI){AT=AM[AF+AI];if(AT!=null){AK=AS[AI];if(AK.autoscale!==false){if(AK.x){AQ(AR.xaxis,AT,AT)}if(AK.y){AQ(AR.yaxis,AT,AT)}}}AM[AF+AI]=null}}else{if(AL&&AF>0&&AM[AF-AB]!=null&&AM[AF-AB]!=AM[AF]&&AM[AF-AB+1]!=AM[AF+1]){for(AI=0;AI<AB;++AI){AM[AF+AB+AI]=AM[AF+AI]}AM[AF+1]=AM[AF-AB+1];AF+=AB}}}}for(AH=0;AH<Aj.length;++AH){AR=Aj[AH];g(l.processDatapoints,[AR,AR.datapoints])}for(AH=0;AH<Aj.length;++AH){AR=Aj[AH];AM=AR.datapoints.points;AB=AR.datapoints.pointsize;AS=AR.datapoints.format;var AD=AG,A0=AG,AN=AO,AX=AO;for(AE=0;AE<AM.length;AE+=AB){if(AM[AE]==null){continue}for(AI=0;AI<AB;++AI){AT=AM[AE+AI];AK=AS[AI];if(!AK||AK.autoscale===false||AT==AJ||AT==-AJ){continue}if(AK.x){if(AT<AD){AD=AT}if(AT>AN){AN=AT}}if(AK.y){if(AT<A0){A0=AT}if(AT>AX){AX=AT}}}}if(AR.bars.show){var A1;switch(AR.bars.align){case"left":A1=0;break;case"right":A1=-AR.bars.barWidth;break;default:A1=-AR.bars.barWidth/2}if(AR.bars.horizontal){A0+=A1;AX+=A1+AR.bars.barWidth}else{AD+=A1;AN+=A1+AR.bars.barWidth}}AQ(AR.xaxis,AD,AN);AQ(AR.yaxis,A0,AX)}E.each(L(),function(A3,A2){if(A2.datamin==AG){A2.datamin=null}if(A2.datamax==AO){A2.datamax=null}})}function Ac(){Am.css("padding",0).children().filter(function(){return !E(this).hasClass("flot-overlay")&&!E(this).hasClass("flot-base")}).remove();if(Am.css("position")=="static"){Am.css("position","relative")}Az=new D("flot-base",Am);Aa=new D("flot-overlay",Am);Y=Az.context;T=Aa.context;Ax=E(Aa.element).unbind();var AA=Am.data("plot");if(AA){AA.shutdown();Aa.clear()}Am.data("plot",Ak)}function N(){if(S.grid.hoverable){Ax.mousemove(Af);Ax.bind("mouseleave",F)}if(S.grid.clickable){Ax.click(Ai)}g(l.bindEvents,[Ax])}function U(){if(Ab){clearTimeout(Ab)}Ax.unbind("mousemove",Af);Ax.unbind("mouseleave",F);Ax.unbind("click",Ai);g(l.shutdown,[Ax])}function v(AF){function AE(AG){return AG}var AB,AC,AD=AF.options.transform||AE,AA=AF.options.inverseTransform;if(AF.direction=="x"){AB=AF.scale=Al/Math.abs(AD(AF.max)-AD(AF.min));AC=Math.min(AD(AF.max),AD(AF.min))}else{AB=AF.scale=As/Math.abs(AD(AF.max)-AD(AF.min));AB=-AB;AC=Math.max(AD(AF.max),AD(AF.min))}if(AD==AE){AF.p2c=function(AG){return(AG-AC)*AB}}else{AF.p2c=function(AG){return(AD(AG)-AC)*AB}}if(!AA){AF.c2p=function(AG){return AC+AG/AB}}else{AF.c2p=function(AG){return AA(AC+AG/AB)}}}function Ad(AA){var AF=AA.options,AJ=AA.ticks||[],AE=AF.labelWidth||0,AC=AF.labelHeight||0,AG=AE||(AA.direction=="x"?Math.floor(Az.width/(AJ.length||1)):null),AH=AA.direction+"Axis "+AA.direction+AA.n+"Axis",AL="flot-"+AA.direction+"-axis flot-"+AA.direction+AA.n+"-axis "+AH,AI=AF.font||"flot-tick-label tickLabel";for(var AD=0;AD<AJ.length;++AD){var AB=AJ[AD];if(!AB.label){continue}var AK=Az.getTextInfo(AL,AB.label,AI,null,AG);AE=Math.max(AE,AK.width);AC=Math.max(AC,AK.height)}AA.labelWidth=AF.labelWidth||AE;AA.labelHeight=AF.labelHeight||AC}function I(AB){var AI=AB.labelWidth,AF=AB.labelHeight,AH=AB.options.position,AE=AB.direction==="x",AL=AB.options.tickLength,AK=S.grid.axisMargin,AC=S.grid.labelMargin,AJ=true,AA=true,AD=true,AG=false;E.each(AE?j:Ap,function(AM,AN){if(AN&&AN.reserveSpace){if(AN===AB){AG=true}else{if(AN.options.position===AH){if(AG){AA=false}else{AJ=false}}}if(!AG){AD=false}}});if(AA){AK=0}if(AL==null){AL=AD?"full":5}if(!isNaN(+AL)){AC+=+AL}if(AE){AF+=AC;if(AH=="bottom"){q.bottom+=AF+AK;AB.box={top:Az.height-q.bottom,height:AF}}else{AB.box={top:q.top+AK,height:AF};q.top+=AF+AK}}else{AI+=AC;if(AH=="left"){AB.box={left:q.left+AK,width:AI};q.left+=AI+AK}else{q.right+=AI+AK;AB.box={left:Az.width-q.right,width:AI}}}AB.position=AH;AB.tickLength=AL;AB.box.padding=AC;AB.innermost=AJ}function e(AA){if(AA.direction=="x"){AA.box.left=q.left-AA.labelWidth/2;AA.box.width=Az.width-q.left-q.right+AA.labelWidth}else{AA.box.top=q.top-AA.labelHeight/2;AA.box.height=Az.height-q.bottom-q.top+AA.labelHeight}}function h(){var AD=S.grid.minBorderMargin,AC,AA;if(AD==null){AD=0;for(AA=0;AA<Aj.length;++AA){AD=Math.max(AD,2*(Aj[AA].points.radius+Aj[AA].points.lineWidth/2))}}var AB={left:AD,right:AD,top:AD,bottom:AD};E.each(L(),function(AG,AF){if(AF.reserveSpace&&AF.ticks&&AF.ticks.length){var AE=AF.ticks[AF.ticks.length-1];if(AF.direction==="x"){AB.left=Math.max(AB.left,AF.labelWidth/2);if(AE.v<=AF.max){AB.right=Math.max(AB.right,AF.labelWidth/2)}}else{AB.bottom=Math.max(AB.bottom,AF.labelHeight/2);if(AE.v<=AF.max){AB.top=Math.max(AB.top,AF.labelHeight/2)}}}});q.left=Math.ceil(Math.max(AB.left,q.left));q.right=Math.ceil(Math.max(AB.right,q.right));q.top=Math.ceil(Math.max(AB.top,q.top));q.bottom=Math.ceil(Math.max(AB.bottom,q.bottom))}function Ar(){var AB,AA=L(),AD=S.grid.show;for(var AF in q){var AC=S.grid.margin||0;q[AF]=typeof AC=="number"?AC:AC[AF]||0}g(l.processOffset,[q]);for(var AF in q){if(typeof(S.grid.borderWidth)=="object"){q[AF]+=AD?S.grid.borderWidth[AF]:0}else{q[AF]+=AD?S.grid.borderWidth:0}}E.each(AA,function(AH,AG){AG.show=AG.options.show;if(AG.show==null){AG.show=AG.used}AG.reserveSpace=AG.show||AG.options.reserveSpace;K(AG)});if(AD){var AE=E.grep(AA,function(AG){return AG.reserveSpace});E.each(AE,function(AH,AG){b(AG);f(AG);Q(AG,AG.ticks);Ad(AG)});for(AB=AE.length-1;AB>=0;--AB){I(AE[AB])}h();E.each(AE,function(AH,AG){e(AG)})}Al=Az.width-q.left-q.right;As=Az.height-q.bottom-q.top;E.each(AA,function(AH,AG){v(AG)});if(AD){o()}At()}function K(AG){var AC=AG.options,AA=+(AC.min!=null?AC.min:AG.datamin),AE=+(AC.max!=null?AC.max:AG.datamax),AF=AE-AA;if(AF==0){var AB=AE==0?1:0.01;if(AC.min==null){AA-=AB}if(AC.max==null||AC.min!=null){AE+=AB}}else{var AD=AC.autoscaleMargin;if(AD!=null){if(AC.min==null){AA-=AF*AD;if(AA<0&&AG.datamin!=null&&AG.datamin>=0){AA=0}}if(AC.max==null){AE+=AF*AD;if(AE>0&&AG.datamax!=null&&AG.datamax<=0){AE=0}}}}AG.min=AA;AG.max=AE}function b(AB){var AF=AB.options;var AD;if(typeof AF.ticks=="number"&&AF.ticks>0){AD=AF.ticks}else{AD=0.3*Math.sqrt(AB.direction=="x"?Az.width:Az.height)}var AL=(AB.max-AB.min)/AD,AJ=-Math.floor(Math.log(AL)/Math.LN10),AH=AF.tickDecimals;if(AH!=null&&AJ>AH){AJ=AH}var AM=Math.pow(10,-AJ),AG=AL/AM,AE;if(AG<1.5){AE=1}else{if(AG<3){AE=2;if(AG>2.25&&(AH==null||AJ+1<=AH)){AE=2.5;++AJ}}else{if(AG<7.5){AE=5}else{AE=10}}}AE*=AM;if(AF.minTickSize!=null&&AE<AF.minTickSize){AE=AF.minTickSize}AB.delta=AL;AB.tickDecimals=Math.max(0,AH!=null?AH:AJ);AB.tickSize=AF.tickSize||AE;if(AF.mode=="time"&&!AB.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!AB.tickGenerator){AB.tickGenerator=function(AS){var AR=[],AN=B(AS.min,AS.tickSize),AO=0,AQ=Number.NaN,AP;do{AP=AQ;AQ=AN+AO*AS.tickSize;AR.push(AQ);++AO}while(AQ<AS.max&&AQ!=AP);return AR};AB.tickFormatter=function(AQ,AS){var AO=AS.tickDecimals?Math.pow(10,AS.tickDecimals):1;var AN=""+Math.round(AQ*AO)/AO;if(AS.tickDecimals!=null){var AR=AN.indexOf(".");var AP=AR==-1?0:AN.length-AR-1;if(AP<AS.tickDecimals){return(AP?AN:AN+".")+(""+AO).substr(1,AS.tickDecimals-AP)}}return AN}}if(E.isFunction(AF.tickFormatter)){AB.tickFormatter=function(AN,AO){return""+AF.tickFormatter(AN,AO)}}if(AF.alignTicksWithAxis!=null){var AC=(AB.direction=="x"?j:Ap)[AF.alignTicksWithAxis-1];if(AC&&AC.used&&AC!=AB){var AK=AB.tickGenerator(AB);if(AK.length>0){if(AF.min==null){AB.min=Math.min(AB.min,AK[0])}if(AF.max==null&&AK.length>1){AB.max=Math.max(AB.max,AK[AK.length-1])}}AB.tickGenerator=function(AQ){var AP=[],AO,AN;for(AN=0;AN<AC.ticks.length;++AN){AO=(AC.ticks[AN].v-AC.min)/(AC.max-AC.min);AO=AQ.min+AO*(AQ.max-AQ.min);AP.push(AO)}return AP};if(!AB.mode&&AF.tickDecimals==null){var AI=Math.max(0,-Math.floor(Math.log(AB.delta)/Math.LN10)+1),AA=AB.tickGenerator(AB);if(!(AA.length>1&&/\..*0$/.test((AA[1]-AA[0]).toFixed(AI)))){AB.tickDecimals=AI}}}}}function f(AG){var AE=AG.options.ticks,AF=[];if(AE==null||(typeof AE=="number"&&AE>0)){AF=AG.tickGenerator(AG)}else{if(AE){if(E.isFunction(AE)){AF=AE(AG)}else{AF=AE}}}var AB,AC;AG.ticks=[];for(AB=0;AB<AF.length;++AB){var AA=null;var AD=AF[AB];if(typeof AD=="object"){AC=+AD[0];if(AD.length>1){AA=AD[1]}}else{AC=+AD}if(AA==null){AA=AG.tickFormatter(AC,AG)}if(!isNaN(AC)){AG.ticks.push({v:AC,label:AA})}}}function Q(AB,AA){if(AB.options.autoscaleMargin&&AA.length>0){if(AB.options.min==null){AB.min=Math.min(AB.min,AA[0].v)}if(AB.options.max==null&&AA.length>1){AB.max=Math.max(AB.max,AA[AA.length-1].v)}}}function M(){Az.clear();g(l.drawBackground,[Y]);var AB=S.grid;if(AB.show&&AB.backgroundColor){x()}if(AB.show&&!AB.aboveData){k()}for(var AA=0;AA<Aj.length;++AA){g(l.drawSeries,[Y,Aj[AA]]);r(Aj[AA])}g(l.draw,[Y]);if(AB.show&&AB.aboveData){k()}Az.render();V()}function G(AC,AF){var AB,AA,AI,AH,AG=L();for(var AE=0;AE<AG.length;++AE){AB=AG[AE];if(AB.direction==AF){AH=AF+AB.n+"axis";if(!AC[AH]&&AB.n==1){AH=AF+"axis"}if(AC[AH]){AA=AC[AH].from;AI=AC[AH].to;break}}}if(!AC[AH]){AB=AF=="x"?j[0]:Ap[0];AA=AC[AF+"1"];AI=AC[AF+"2"]}if(AA!=null&&AI!=null&&AA>AI){var AD=AA;AA=AI;AI=AD}return{from:AA,to:AI,axis:AB}}function x(){Y.save();Y.translate(q.left,q.top);Y.fillStyle=P(S.grid.backgroundColor,As,0,"rgba(255, 255, 255, 0)");Y.fillRect(0,0,Al,As);Y.restore()}function k(){var AF,AO,AL,AH;Y.save();Y.translate(q.left,q.top);var AA=S.grid.markings;if(AA){if(E.isFunction(AA)){AO=Ak.getAxes();AO.xmin=AO.xaxis.min;AO.xmax=AO.xaxis.max;AO.ymin=AO.yaxis.min;AO.ymax=AO.yaxis.max;AA=AA(AO)}for(AF=0;AF<AA.length;++AF){var AG=AA[AF],AE=G(AG,"x"),AN=G(AG,"y");if(AE.from==null){AE.from=AE.axis.min}if(AE.to==null){AE.to=AE.axis.max}if(AN.from==null){AN.from=AN.axis.min}if(AN.to==null){AN.to=AN.axis.max}if(AE.to<AE.axis.min||AE.from>AE.axis.max||AN.to<AN.axis.min||AN.from>AN.axis.max){continue}AE.from=Math.max(AE.from,AE.axis.min);AE.to=Math.min(AE.to,AE.axis.max);AN.from=Math.max(AN.from,AN.axis.min);AN.to=Math.min(AN.to,AN.axis.max);if(AE.from==AE.to&&AN.from==AN.to){continue}AE.from=AE.axis.p2c(AE.from);AE.to=AE.axis.p2c(AE.to);AN.from=AN.axis.p2c(AN.from);AN.to=AN.axis.p2c(AN.to);if(AE.from==AE.to||AN.from==AN.to){Y.beginPath();Y.strokeStyle=AG.color||S.grid.markingsColor;Y.lineWidth=AG.lineWidth||S.grid.markingsLineWidth;Y.moveTo(AE.from,AN.from);Y.lineTo(AE.to,AN.to);Y.stroke()}else{Y.fillStyle=AG.color||S.grid.markingsColor;Y.fillRect(AE.from,AN.to,AE.to-AE.from,AN.from-AN.to)}}}AO=L();AL=S.grid.borderWidth;for(var AM=0;AM<AO.length;++AM){var AJ=AO[AM],AD=AJ.box,AC=AJ.tickLength,AP,AQ,AI,AK;if(!AJ.show||AJ.ticks.length==0){continue}Y.lineWidth=1;if(AJ.direction=="x"){AP=0;if(AC=="full"){AQ=(AJ.position=="top"?0:As)}else{AQ=AD.top-q.top+(AJ.position=="top"?AD.height:0)}}else{AQ=0;if(AC=="full"){AP=(AJ.position=="left"?0:Al)}else{AP=AD.left-q.left+(AJ.position=="left"?AD.width:0)}}if(!AJ.innermost){Y.strokeStyle=AJ.options.color;Y.beginPath();AI=AK=0;if(AJ.direction=="x"){AI=Al+1}else{AK=As+1}if(Y.lineWidth==1){if(AJ.direction=="x"){AQ=Math.floor(AQ)+0.5}else{AP=Math.floor(AP)+0.5}}Y.moveTo(AP,AQ);Y.lineTo(AP+AI,AQ+AK);Y.stroke()}Y.strokeStyle=AJ.options.tickColor;Y.beginPath();for(AF=0;AF<AJ.ticks.length;++AF){var AB=AJ.ticks[AF].v;AI=AK=0;if(isNaN(AB)||AB<AJ.min||AB>AJ.max||(AC=="full"&&((typeof AL=="object"&&AL[AJ.position]>0)||AL>0)&&(AB==AJ.min||AB==AJ.max))){continue}if(AJ.direction=="x"){AP=AJ.p2c(AB);AK=AC=="full"?-As:AC;if(AJ.position=="top"){AK=-AK}}else{AQ=AJ.p2c(AB);AI=AC=="full"?-Al:AC;if(AJ.position=="left"){AI=-AI}}if(Y.lineWidth==1){if(AJ.direction=="x"){AP=Math.floor(AP)+0.5}else{AQ=Math.floor(AQ)+0.5}}Y.moveTo(AP,AQ);Y.lineTo(AP+AI,AQ+AK)}Y.stroke()}if(AL){AH=S.grid.borderColor;if(typeof AL=="object"||typeof AH=="object"){if(typeof AL!=="object"){AL={top:AL,right:AL,bottom:AL,left:AL}}if(typeof AH!=="object"){AH={top:AH,right:AH,bottom:AH,left:AH}}if(AL.top>0){Y.strokeStyle=AH.top;Y.lineWidth=AL.top;Y.beginPath();Y.moveTo(0-AL.left,0-AL.top/2);Y.lineTo(Al,0-AL.top/2);Y.stroke()}if(AL.right>0){Y.strokeStyle=AH.right;Y.lineWidth=AL.right;Y.beginPath();Y.moveTo(Al+AL.right/2,0-AL.top);Y.lineTo(Al+AL.right/2,As);Y.stroke()}if(AL.bottom>0){Y.strokeStyle=AH.bottom;Y.lineWidth=AL.bottom;Y.beginPath();Y.moveTo(Al+AL.right,As+AL.bottom/2);Y.lineTo(0,As+AL.bottom/2);Y.stroke()}if(AL.left>0){Y.strokeStyle=AH.left;Y.lineWidth=AL.left;Y.beginPath();Y.moveTo(0-AL.left/2,As+AL.bottom);Y.lineTo(0-AL.left/2,0);Y.stroke()}}else{Y.lineWidth=AL;Y.strokeStyle=S.grid.borderColor;Y.strokeRect(-AL/2,-AL/2,Al+AL,As+AL)}}Y.restore()}function o(){E.each(L(),function(AE,AB){var AD=AB.box,AH=AB.direction+"Axis "+AB.direction+AB.n+"Axis",AF="flot-"+AB.direction+"-axis flot-"+AB.direction+AB.n+"-axis "+AH,AI=AB.options.font||"flot-tick-label tickLabel",AL,AJ,AK,AC,AA;Az.removeText(AF);if(!AB.show||AB.ticks.length==0){return}for(var AG=0;AG<AB.ticks.length;++AG){AL=AB.ticks[AG];if(!AL.label||AL.v<AB.min||AL.v>AB.max){continue}if(AB.direction=="x"){AC="center";AJ=q.left+AB.p2c(AL.v);if(AB.position=="bottom"){AK=AD.top+AD.padding}else{AK=AD.top+AD.height-AD.padding;AA="bottom"}}else{AA="middle";AK=q.top+AB.p2c(AL.v);if(AB.position=="left"){AJ=AD.left+AD.width-AD.padding;AC="right"}else{AJ=AD.left+AD.padding}}Az.addText(AF,AJ,AK,AL.label,AI,null,null,AC,AA)}})}function r(AA){if(AA.lines.show){Aq(AA)}if(AA.bars.show){Z(AA)}if(AA.points.show){w(AA)}}function Aq(AE){function AF(AQ,AH,AI,AU,AJ){var AS=AQ.points,AN=AQ.pointsize,AP=null,AO=null;Y.beginPath();for(var AT=AN;AT<AS.length;AT+=AN){var AR=AS[AT-AN],AK=AS[AT-AN+1],AL=AS[AT],AM=AS[AT+1];if(AR==null||AL==null){continue}if(AK<=AM&&AK<AJ.min){if(AM<AJ.min){continue}AR=(AJ.min-AK)/(AM-AK)*(AL-AR)+AR;AK=AJ.min}else{if(AM<=AK&&AM<AJ.min){if(AK<AJ.min){continue}AL=(AJ.min-AK)/(AM-AK)*(AL-AR)+AR;AM=AJ.min}}if(AK>=AM&&AK>AJ.max){if(AM>AJ.max){continue}AR=(AJ.max-AK)/(AM-AK)*(AL-AR)+AR;AK=AJ.max}else{if(AM>=AK&&AM>AJ.max){if(AK>AJ.max){continue}AL=(AJ.max-AK)/(AM-AK)*(AL-AR)+AR;AM=AJ.max}}if(AR<=AL&&AR<AU.min){if(AL<AU.min){continue}AK=(AU.min-AR)/(AL-AR)*(AM-AK)+AK;AR=AU.min}else{if(AL<=AR&&AL<AU.min){if(AR<AU.min){continue}AM=(AU.min-AR)/(AL-AR)*(AM-AK)+AK;AL=AU.min}}if(AR>=AL&&AR>AU.max){if(AL>AU.max){continue}AK=(AU.max-AR)/(AL-AR)*(AM-AK)+AK;AR=AU.max}else{if(AL>=AR&&AL>AU.max){if(AR>AU.max){continue}AM=(AU.max-AR)/(AL-AR)*(AM-AK)+AK;AL=AU.max}}if(AR!=AP||AK!=AO){Y.moveTo(AU.p2c(AR)+AH,AJ.p2c(AK)+AI)}AP=AL;AO=AM;Y.lineTo(AU.p2c(AL)+AH,AJ.p2c(AM)+AI)}Y.stroke()}function AG(AN,AY,AH){var AP=AN.points,AI=AN.pointsize,AO=Math.min(Math.max(0,AH.min),AH.max),AK=0,AS,AL=false,AM=1,AX=0,AV=0;while(true){if(AI>0&&AK>AP.length+AI){break}AK+=AI;var AT=AP[AK-AI],AU=AP[AK-AI+AM],AW=AP[AK],AR=AP[AK+AM];if(AL){if(AI>0&&AT!=null&&AW==null){AV=AK;AI=-AI;AM=2;continue}if(AI<0&&AK==AX+AI){Y.fill();AL=false;AI=-AI;AM=1;AK=AX=AV+AI;continue}}if(AT==null||AW==null){continue}if(AT<=AW&&AT<AY.min){if(AW<AY.min){continue}AU=(AY.min-AT)/(AW-AT)*(AR-AU)+AU;AT=AY.min}else{if(AW<=AT&&AW<AY.min){if(AT<AY.min){continue}AR=(AY.min-AT)/(AW-AT)*(AR-AU)+AU;AW=AY.min}}if(AT>=AW&&AT>AY.max){if(AW>AY.max){continue}AU=(AY.max-AT)/(AW-AT)*(AR-AU)+AU;AT=AY.max}else{if(AW>=AT&&AW>AY.max){if(AT>AY.max){continue}AR=(AY.max-AT)/(AW-AT)*(AR-AU)+AU;AW=AY.max}}if(!AL){Y.beginPath();Y.moveTo(AY.p2c(AT),AH.p2c(AO));AL=true}if(AU>=AH.max&&AR>=AH.max){Y.lineTo(AY.p2c(AT),AH.p2c(AH.max));Y.lineTo(AY.p2c(AW),AH.p2c(AH.max));continue}else{if(AU<=AH.min&&AR<=AH.min){Y.lineTo(AY.p2c(AT),AH.p2c(AH.min));Y.lineTo(AY.p2c(AW),AH.p2c(AH.min));continue}}var AQ=AT,AJ=AW;if(AU<=AR&&AU<AH.min&&AR>=AH.min){AT=(AH.min-AU)/(AR-AU)*(AW-AT)+AT;AU=AH.min}else{if(AR<=AU&&AR<AH.min&&AU>=AH.min){AW=(AH.min-AU)/(AR-AU)*(AW-AT)+AT;AR=AH.min}}if(AU>=AR&&AU>AH.max&&AR<=AH.max){AT=(AH.max-AU)/(AR-AU)*(AW-AT)+AT;AU=AH.max}else{if(AR>=AU&&AR>AH.max&&AU<=AH.max){AW=(AH.max-AU)/(AR-AU)*(AW-AT)+AT;AR=AH.max}}if(AT!=AQ){Y.lineTo(AY.p2c(AQ),AH.p2c(AU))}Y.lineTo(AY.p2c(AT),AH.p2c(AU));Y.lineTo(AY.p2c(AW),AH.p2c(AR));if(AW!=AJ){Y.lineTo(AY.p2c(AW),AH.p2c(AR));Y.lineTo(AY.p2c(AJ),AH.p2c(AR))}}}Y.save();Y.translate(q.left,q.top);Y.lineJoin="round";var AC=AE.lines.lineWidth,AA=AE.shadowSize;if(AC>0&&AA>0){Y.lineWidth=AA;Y.strokeStyle="rgba(0,0,0,0.1)";var AD=Math.PI/18;AF(AE.datapoints,Math.sin(AD)*(AC/2+AA/2),Math.cos(AD)*(AC/2+AA/2),AE.xaxis,AE.yaxis);Y.lineWidth=AA/2;AF(AE.datapoints,Math.sin(AD)*(AC/2+AA/4),Math.cos(AD)*(AC/2+AA/4),AE.xaxis,AE.yaxis)}Y.lineWidth=AC;Y.strokeStyle=AE.color;var AB=X(AE.lines,AE.color,0,As);if(AB){Y.fillStyle=AB;AG(AE.datapoints,AE.xaxis,AE.yaxis)}if(AC>0){AF(AE.datapoints,0,0,AE.xaxis,AE.yaxis)}Y.restore()}function w(AE){function AC(AQ,AO,AI,AJ,AK,AT,AH,AN){var AP=AQ.points,AL=AQ.pointsize;for(var AM=0;AM<AP.length;AM+=AL){var AR=AP[AM],AS=AP[AM+1];if(AR==null||AR<AT.min||AR>AT.max||AS<AH.min||AS>AH.max){continue}Y.beginPath();AR=AT.p2c(AR);AS=AH.p2c(AS)+AJ;if(AN=="circle"){Y.arc(AR,AS,AO,0,AK?Math.PI:Math.PI*2,false)}else{AN(Y,AR,AS,AO,AK)}Y.closePath();if(AI){Y.fillStyle=AI;Y.fill()}Y.stroke()}}Y.save();Y.translate(q.left,q.top);var AB=AE.points.lineWidth,AA=AE.shadowSize,AD=AE.points.radius,AG=AE.points.symbol;if(AB==0){AB=0.0001}if(AB>0&&AA>0){var AF=AA/2;Y.lineWidth=AF;Y.strokeStyle="rgba(0,0,0,0.1)";AC(AE.datapoints,AD,null,AF+AF/2,true,AE.xaxis,AE.yaxis,AG);Y.strokeStyle="rgba(0,0,0,0.2)";AC(AE.datapoints,AD,null,AF/2,true,AE.xaxis,AE.yaxis,AG)}Y.lineWidth=AB;Y.strokeStyle=AE.color;AC(AE.datapoints,AD,X(AE.points,AE.color),0,false,AE.xaxis,AE.yaxis,AG);Y.restore()}function O(AQ,AR,AG,AB,AL,AI,AT,AA,AH,AS,AN){var AO,AD,AK,AM,AP,AF,AJ,AE,AC;if(AS){AE=AF=AJ=true;AP=false;AO=AG;AD=AQ;AM=AR+AB;AK=AR+AL;if(AD<AO){AC=AD;AD=AO;AO=AC;AP=true;AF=false}}else{AP=AF=AJ=true;AE=false;AO=AQ+AB;AD=AQ+AL;AK=AG;AM=AR;if(AM<AK){AC=AM;AM=AK;AK=AC;AE=true;AJ=false}}if(AD<AT.min||AO>AT.max||AM<AA.min||AK>AA.max){return}if(AO<AT.min){AO=AT.min;AP=false}if(AD>AT.max){AD=AT.max;AF=false}if(AK<AA.min){AK=AA.min;AE=false}if(AM>AA.max){AM=AA.max;AJ=false}AO=AT.p2c(AO);AK=AA.p2c(AK);AD=AT.p2c(AD);AM=AA.p2c(AM);if(AI){AH.fillStyle=AI(AK,AM);AH.fillRect(AO,AM,AD-AO,AK-AM)}if(AN>0&&(AP||AF||AJ||AE)){AH.beginPath();AH.moveTo(AO,AK);if(AP){AH.lineTo(AO,AM)}else{AH.moveTo(AO,AM)}if(AJ){AH.lineTo(AD,AM)}else{AH.moveTo(AD,AM)}if(AF){AH.lineTo(AD,AK)}else{AH.moveTo(AD,AK)}if(AE){AH.lineTo(AO,AK)}else{AH.moveTo(AO,AK)}AH.stroke()}}function Z(AC){function AD(AK,AF,AG,AH,AM,AE){var AL=AK.points,AI=AK.pointsize;for(var AJ=0;AJ<AL.length;AJ+=AI){if(AL[AJ]==null){continue}O(AL[AJ],AL[AJ+1],AL[AJ+2],AF,AG,AH,AM,AE,Y,AC.bars.horizontal,AC.bars.lineWidth)}}Y.save();Y.translate(q.left,q.top);Y.lineWidth=AC.bars.lineWidth;Y.strokeStyle=AC.color;var AA;switch(AC.bars.align){case"left":AA=0;break;case"right":AA=-AC.bars.barWidth;break;default:AA=-AC.bars.barWidth/2}var AB=AC.bars.fill?function(AF,AE){return X(AC.bars,AC.color,AF,AE)}:null;AD(AC.datapoints,AA,AA+AC.bars.barWidth,AB,AC.xaxis,AC.yaxis);Y.restore()}function X(AB,AC,AF,AD){var AA=AB.fill;if(!AA){return null}if(AB.fillColor){return P(AB.fillColor,AF,AD,AC)}var AE=E.color.parse(AC);AE.a=typeof AA=="number"?AA:0.4;AE.normalize();return AE.toString()}function At(){if(S.legend.container!=null){E(S.legend.container).html("")}else{Am.find(".legend").remove()}if(!S.legend.show){return}var AK=[],AN=[],AA=false,AM=S.legend.labelFormatter,AC,AJ;for(var AH=0;AH<Aj.length;++AH){AC=Aj[AH];if(AC.label){AJ=AM?AM(AC.label,AC):AC.label;if(AJ){AN.push({label:AJ,color:AC.color})}}}if(S.legend.sorted){if(E.isFunction(S.legend.sorted)){AN.sort(S.legend.sorted)}else{if(S.legend.sorted=="reverse"){AN.reverse()}else{var AE=S.legend.sorted!="descending";AN.sort(function(AR,AQ){return AR.label==AQ.label?0:((AR.label<AQ.label)!=AE?1:-1)})}}}for(var AH=0;AH<AN.length;++AH){var AD=AN[AH];if(AH%S.legend.noColumns==0){if(AA){AK.push("</tr>")}AK.push("<tr>");AA=true}AK.push('<td class="legendColorBox"><div style="border:1px solid '+S.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+AD.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+AD.label+"</td>")}if(AA){AK.push("</tr>")}if(AK.length==0){return}var AP='<table style="font-size:smaller;color:'+S.grid.color+'">'+AK.join("")+"</table>";if(S.legend.container!=null){E(S.legend.container).html(AP)}else{var AI="",AB=S.legend.position,AO=S.legend.margin;if(AO[0]==null){AO=[AO,AO]}if(AB.charAt(0)=="n"){AI+="top:"+(AO[1]+q.top)+"px;"}else{if(AB.charAt(0)=="s"){AI+="bottom:"+(AO[1]+q.bottom)+"px;"}}if(AB.charAt(1)=="e"){AI+="right:"+(AO[0]+q.right)+"px;"}else{if(AB.charAt(1)=="w"){AI+="left:"+(AO[0]+q.left)+"px;"}}var AG=E('<div class="legend">'+AP.replace('style="','style="position:absolute;'+AI+";")+"</div>").appendTo(Am);if(S.legend.backgroundOpacity!=0){var AL=S.legend.backgroundColor;if(AL==null){AL=S.grid.backgroundColor;if(AL&&typeof AL=="string"){AL=E.color.parse(AL)}else{AL=E.color.extract(AG,"background-color")}AL.a=1;AL=AL.toString()}var AF=AG.children();E('<div style="position:absolute;width:'+AF.width()+"px;height:"+AF.height()+"px;"+AI+"background-color:"+AL+';"> </div>').prependTo(AG).css("opacity",S.legend.backgroundOpacity)}}}var u=[],Ab=null;function Ay(AK,AV,AC){var AR=S.grid.mouseActiveRadius,AD=AR*AR+1,AE=null,AP=false,AH,AG,AB;for(AH=Aj.length-1;AH>=0;--AH){if(!AC(Aj[AH])){continue}var AQ=Aj[AH],AZ=AQ.xaxis,AA=AQ.yaxis,AM=AQ.datapoints.points,AF=AZ.c2p(AK),AO=AA.c2p(AV),AX=AR/AZ.scale,AL=AR/AA.scale;AB=AQ.datapoints.pointsize;if(AZ.options.inverseTransform){AX=Number.MAX_VALUE}if(AA.options.inverseTransform){AL=Number.MAX_VALUE}if(AQ.lines.show||AQ.points.show){for(AG=0;AG<AM.length;AG+=AB){var AW=AM[AG],AT=AM[AG+1];if(AW==null){continue}if(AW-AF>AX||AW-AF<-AX||AT-AO>AL||AT-AO<-AL){continue}var AI=Math.abs(AZ.p2c(AW)-AK),AU=Math.abs(AA.p2c(AT)-AV),AY=AI*AI+AU*AU;if(AY<AD){AD=AY;AE=[AH,AG/AB]}}}if(AQ.bars.show&&!AE){var AS,AN;switch(AQ.bars.align){case"left":AS=0;break;case"right":AS=-AQ.bars.barWidth;break;default:AS=-AQ.bars.barWidth/2}AN=AS+AQ.bars.barWidth;for(AG=0;AG<AM.length;AG+=AB){var AW=AM[AG],AT=AM[AG+1],AJ=AM[AG+2];if(AW==null){continue}if(Aj[AH].bars.horizontal?(AF<=Math.max(AJ,AW)&&AF>=Math.min(AJ,AW)&&AO>=AT+AS&&AO<=AT+AN):(AF>=AW+AS&&AF<=AW+AN&&AO>=Math.min(AJ,AT)&&AO<=Math.max(AJ,AT))){AE=[AH,AG/AB]}}}}if(AE){AH=AE[0];AG=AE[1];AB=Aj[AH].datapoints.pointsize;return{datapoint:Aj[AH].datapoints.points.slice(AG*AB,(AG+1)*AB),dataIndex:AG,series:Aj[AH],seriesIndex:AH}}return null}function Af(AA){if(S.grid.hoverable){Ah("plothover",AA,function(AB){return AB["hoverable"]!=false})}}function F(AA){if(S.grid.hoverable){Ah("plothover",AA,function(AB){return false})}}function Ai(AA){Ah("plotclick",AA,function(AB){return AB["clickable"]!=false})}function Ah(AH,AC,AB){var AA=Ax.offset(),AD=AC.pageX-AA.left-q.left,AE=AC.pageY-AA.top-q.top,AG=Ao({left:AD,top:AE});AG.pageX=AC.pageX;AG.pageY=AC.pageY;var AJ=Ay(AD,AE,AB);if(AJ){AJ.pageX=parseInt(AJ.series.xaxis.p2c(AJ.datapoint[0])+AA.left+q.left,10);AJ.pageY=parseInt(AJ.series.yaxis.p2c(AJ.datapoint[1])+AA.top+q.top,10)}if(S.grid.autoHighlight){for(var AI=0;AI<u.length;++AI){var AF=u[AI];if(AF.auto==AH&&!(AJ&&AF.series==AJ.series&&AF.point[0]==AJ.datapoint[0]&&AF.point[1]==AJ.datapoint[1])){R(AF.series,AF.point)}}if(AJ){H(AJ.series,AJ.datapoint,AH)}}Am.trigger(AH,[AG,AJ])}function V(){var AA=S.interaction.redrawOverlayInterval;if(AA==-1){s();return}if(!Ab){Ab=setTimeout(s,AA)}}function s(){Ab=null;T.save();Aa.clear();T.translate(q.left,q.top);var AA,AB;for(AA=0;AA<u.length;++AA){AB=u[AA];if(AB.series.bars.show){Av(AB.series,AB.point)}else{W(AB.series,AB.point)}}T.restore();g(l.drawOverlay,[T])}function H(AB,AC,AE){if(typeof AB=="number"){AB=Aj[AB]}if(typeof AC=="number"){var AD=AB.datapoints.pointsize;AC=AB.datapoints.points.slice(AD*AC,AD*(AC+1))}var AA=Au(AB,AC);if(AA==-1){u.push({series:AB,point:AC,auto:AE});V()}else{if(!AE){u[AA].auto=false}}}function R(AB,AC){if(AB==null&&AC==null){u=[];V();return}if(typeof AB=="number"){AB=Aj[AB]}if(typeof AC=="number"){var AD=AB.datapoints.pointsize;AC=AB.datapoints.points.slice(AD*AC,AD*(AC+1))}var AA=Au(AB,AC);if(AA!=-1){u.splice(AA,1);V()}}function Au(AC,AD){for(var AB=0;AB<u.length;++AB){var AA=u[AB];if(AA.series==AC&&AA.point[0]==AD[0]&&AA.point[1]==AD[1]){return AB}}return -1}function W(AE,AG){var AH=AG[0],AF=AG[1],AI=AE.xaxis,AA=AE.yaxis,AC=(typeof AE.highlightColor==="string")?AE.highlightColor:E.color.parse(AE.color).scale("a",0.5).toString();if(AH<AI.min||AH>AI.max||AF<AA.min||AF>AA.max){return}var AB=AE.points.radius+AE.points.lineWidth/2;T.lineWidth=AB;T.strokeStyle=AC;var AD=1.5*AB;AH=AI.p2c(AH);AF=AA.p2c(AF);T.beginPath();if(AE.points.symbol=="circle"){T.arc(AH,AF,AD,0,2*Math.PI,false)}else{AE.points.symbol(T,AH,AF,AD,false)}T.closePath();T.stroke()}function Av(AC,AB){var AA=(typeof AC.highlightColor==="string")?AC.highlightColor:E.color.parse(AC.color).scale("a",0.5).toString(),AE=AA,AD;switch(AC.bars.align){case"left":AD=0;break;case"right":AD=-AC.bars.barWidth;break;default:AD=-AC.bars.barWidth/2}T.lineWidth=AC.bars.lineWidth;T.strokeStyle=AA;O(AB[0],AB[1],AB[2]||0,AD,AD+AC.bars.barWidth,function(){return AE},AC.xaxis,AC.yaxis,T,AC.bars.horizontal,AC.bars.lineWidth)}function P(AB,AG,AC,AI){if(typeof AB=="string"){return AB}else{var AE=Y.createLinearGradient(0,AC,0,AG);for(var AD=0,AF=AB.colors.length;AD<AF;++AD){var AH=AB.colors[AD];if(typeof AH!="string"){var AA=E.color.parse(AI);if(AH.brightness!=null){AA=AA.scale("rgb",AH.brightness)}if(AH.opacity!=null){AA.a*=AH.opacity}AH=AA.toString()}AE.addColorStop(AD/(AF-1),AH)}return AE}}}E.plot=function(G,I,F){var H=new A(E(G),I,F,E.plot.plugins);return H};E.plot.version="0.8.2";E.plot.plugins=[];E.fn.plot=function(G,F){return this.each(function(){E.plot(this,G,F)})};function B(F,G){return G*Math.floor(F/G)}})(jQuery);(function(E){var A=10;var C=0.95;function D(X){var F=null,Z=null,W=null,b=null,Y=null,L=null,K=false,M=null;var P=[];X.hooks.processOptions.push(function(e,d){if(d.series.pie.show){d.grid.show=false;if(d.series.pie.label.show=="auto"){if(d.legend.show){d.series.pie.label.show=false}else{d.series.pie.label.show=true}}if(d.series.pie.radius=="auto"){if(d.series.pie.label.show){d.series.pie.radius=3/4}else{d.series.pie.radius=1}}if(d.series.pie.tilt>1){d.series.pie.tilt=1}else{if(d.series.pie.tilt<0){d.series.pie.tilt=0}}}});X.hooks.bindEvents.push(function(f,e){var d=f.getOptions();if(d.series.pie.show){if(d.grid.hoverable){e.unbind("mousemove").mousemove(S)}if(d.grid.clickable){e.unbind("click").click(Q)}}});X.hooks.processDatapoints.push(function(f,g,h,e){var d=f.getOptions();if(d.series.pie.show){H(f,g,h,e)}});X.hooks.drawOverlay.push(function(f,d){var e=f.getOptions();if(e.series.pie.show){J(f,d)}});X.hooks.draw.push(function(f,d){var e=f.getOptions();if(e.series.pie.show){I(f,d)}});function H(e,f,d){if(!K){K=true;F=e.getCanvas();Z=E(F).parent();W=e.getOptions();e.setData(R(e.getData()))}}function R(d){var j=0,l=0,k=0,e=W.series.pie.combine.color,f=[];for(var h=0;h<d.length;++h){var g=d[h].data;if(E.isArray(g)&&g.length==1){g=g[0]}if(E.isArray(g)){if(!isNaN(parseFloat(g[1]))&&isFinite(g[1])){g[1]=+g[1]}else{g[1]=0}}else{if(!isNaN(parseFloat(g))&&isFinite(g)){g=[1,+g]}else{g=[1,0]}}d[h].data=[g]}for(var h=0;h<d.length;++h){j+=d[h].data[0][1]}for(var h=0;h<d.length;++h){var g=d[h].data[0][1];if(g/j<=W.series.pie.combine.threshold){l+=g;k++;if(!e){e=d[h].color}}}for(var h=0;h<d.length;++h){var g=d[h].data[0][1];if(k<2||g/j>W.series.pie.combine.threshold){f.push({data:[[1,g]],color:d[h].color,label:d[h].label,angle:g*Math.PI*2/j,percent:g/(j/100)})}}if(k>1){f.push({data:[[1,l]],color:e,label:W.series.pie.combine.label,angle:l*Math.PI*2/j,percent:l/(j/100)})}return f}function I(e,i){if(!Z){return}var d=e.getPlaceholder().width(),j=e.getPlaceholder().height(),k=Z.children().filter(".legend").children().width()||0;M=i;K=false;b=Math.min(d,j/W.series.pie.tilt)/2;L=j/2+W.series.pie.offset.top;Y=d/2;if(W.series.pie.offset.left=="auto"){if(W.legend.position.match("w")){Y+=k/2}else{Y-=k/2}if(Y<b){Y=b}else{if(Y>d-b){Y=d-b}}}else{Y+=W.series.pie.offset.left}var h=e.getData(),f=0;do{if(f>0){b*=C}f+=1;m();if(W.series.pie.tilt<=0.8){g()}}while(!l()&&f<A);if(f>=A){m();Z.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(e.setSeries&&e.insertLegend){e.setSeries(h);e.insertLegend()}function m(){M.clearRect(0,0,d,j);Z.children().filter(".pieLabel, .pieLabelBackground").remove()}function g(){var q=W.series.pie.shadow.left;var r=W.series.pie.shadow.top;var o=10;var u=W.series.pie.shadow.alpha;var s=W.series.pie.radius>1?W.series.pie.radius:b*W.series.pie.radius;if(s>=d/2-q||s*W.series.pie.tilt>=j/2-r||s<=o){return}M.save();M.translate(q,r);M.globalAlpha=u;M.fillStyle="#000";M.translate(Y,L);M.scale(1,W.series.pie.tilt);for(var n=1;n<=o;n++){M.beginPath();M.arc(0,0,s,0,Math.PI*2,false);M.fill();s-=n}M.restore()}function l(){var r=Math.PI*W.series.pie.startAngle;var q=W.series.pie.radius>1?W.series.pie.radius:b*W.series.pie.radius;M.save();M.translate(Y,L);M.scale(1,W.series.pie.tilt);M.save();var s=r;for(var o=0;o<h.length;++o){h[o].startAngle=s;n(h[o].angle,h[o].color,true)}M.restore();if(W.series.pie.stroke.width>0){M.save();M.lineWidth=W.series.pie.stroke.width;s=r;for(var o=0;o<h.length;++o){n(h[o].angle,W.series.pie.stroke.color,false)}M.restore()}U(M);M.restore();if(W.series.pie.label.show){return u()}else{return true}function n(x,w,v){if(x<=0||isNaN(x)){return}if(v){M.fillStyle=w}else{M.strokeStyle=w;M.lineJoin="round"}M.beginPath();if(Math.abs(x-Math.PI*2)>1e-09){M.moveTo(0,0)}M.arc(0,0,q,s,s+x/2,false);M.arc(0,0,q,s+x/2,s+x,false);M.closePath();s+=x;if(v){M.fill()}else{M.stroke()}}function u(){var y=r;var x=W.series.pie.label.radius>1?W.series.pie.label.radius:b*W.series.pie.label.radius;for(var v=0;v<h.length;++v){if(h[v].percent>=W.series.pie.label.threshold*100){if(!w(h[v],y,v)){return false}}y+=h[v].angle}return true;function w(z,An,Ac){if(z.data[0][1]==0){return true}var Ak=W.legend.labelFormatter,Ag,Am=W.series.pie.label.formatter;if(Ak){Ag=Ak(z.label,z)}else{Ag=z.label}if(Am){Ag=Am(Ag,z)}var Af=((An+z.angle)+An)/2;var Aj=Y+Math.round(Math.cos(Af)*x);var Aa=L+Math.round(Math.sin(Af)*x)*W.series.pie.tilt;var Al="<span class='pieLabel' id='pieLabel"+Ac+"' style='position:absolute;top:"+Aa+"px;left:"+Aj+"px;'>"+Ag+"</span>";Z.append(Al);var Ai=Z.children("#pieLabel"+Ac);var Ad=(Aa-Ai.height()/2);var Ae=(Aj-Ai.width()/2);Ai.css("top",Ad);Ai.css("left",Ae);if(0-Ad>0||0-Ae>0||j-(Ad+Ai.height())<0||d-(Ae+Ai.width())<0){return false}if(W.series.pie.label.background.opacity!=0){var Ab=W.series.pie.label.background.color;if(Ab==null){Ab=z.color}var Ah="top:"+Ad+"px;left:"+Ae+"px;";E("<div class='pieLabelBackground' style='position:absolute;width:"+Ai.width()+"px;height:"+Ai.height()+"px;"+Ah+"background-color:"+Ab+";'></div>").css("opacity",W.series.pie.label.background.opacity).insertBefore(Ai)}return true}}}}function U(e){if(W.series.pie.innerRadius>0){e.save();var d=W.series.pie.innerRadius>1?W.series.pie.innerRadius:b*W.series.pie.innerRadius;e.globalCompositeOperation="destination-out";e.beginPath();e.fillStyle=W.series.pie.stroke.color;e.arc(0,0,d,0,Math.PI*2,false);e.fill();e.closePath();e.restore();e.save();e.beginPath();e.strokeStyle=W.series.pie.stroke.color;e.arc(0,0,d,0,Math.PI*2,false);e.stroke();e.closePath();e.restore()}}function N(d,f){for(var h=false,e=-1,g=d.length,k=g-1;++e<g;k=e){((d[e][1]<=f[1]&&f[1]<d[k][1])||(d[k][1]<=f[1]&&f[1]<d[e][1]))&&(f[0]<(d[k][0]-d[e][0])*(f[1]-d[e][1])/(d[k][1]-d[e][1])+d[e][0])&&(h=!h)}return h}function T(o,Aa){var g=X.getData(),z=X.getOptions(),m=z.series.pie.radius>1?z.series.pie.radius:b*z.series.pie.radius,Ab,Ac;for(var l=0;l<g.length;++l){var d=g[l];if(d.pie.show){M.save();M.beginPath();M.moveTo(0,0);M.arc(0,0,m,d.startAngle,d.startAngle+d.angle/2,false);M.arc(0,0,m,d.startAngle+d.angle/2,d.startAngle+d.angle,false);M.closePath();Ab=o-Y;Ac=Aa-L;if(M.isPointInPath){if(M.isPointInPath(o-Y,Aa-L)){M.restore();return{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:l}}}else{var e=m*Math.cos(d.startAngle),f=m*Math.sin(d.startAngle),j=m*Math.cos(d.startAngle+d.angle/4),k=m*Math.sin(d.startAngle+d.angle/4),u=m*Math.cos(d.startAngle+d.angle/2),v=m*Math.sin(d.startAngle+d.angle/2),r=m*Math.cos(d.startAngle+d.angle/1.5),Ad=m*Math.sin(d.startAngle+d.angle/1.5),h=m*Math.cos(d.startAngle+d.angle),q=m*Math.sin(d.startAngle+d.angle),w=[[0,0],[e,f],[j,k],[u,v],[r,Ad],[h,q]],n=[Ab,Ac];if(N(w,n)){M.restore();return{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:l}}}M.restore()}}return null}function S(d){O("plothover",d)}function Q(d){O("plotclick",d)}function O(n,d){var f=X.offset();var j=parseInt(d.pageX-f.left);var k=parseInt(d.pageY-f.top);var o=T(j,k);if(W.grid.autoHighlight){for(var m=0;m<P.length;++m){var l=P[m];if(l.auto==n&&!(o&&l.series==o.series)){G(l.series)}}}if(o){V(o.series,n)}var g={pageX:d.pageX,pageY:d.pageY};Z.trigger(n,[g,o])}function V(e,f){var d=c(e);if(d==-1){P.push({series:e,auto:f});X.triggerRedrawOverlay()}else{if(!f){P[d].auto=false}}}function G(e){if(e==null){P=[];X.triggerRedrawOverlay()}var d=c(e);if(d!=-1){P.splice(d,1);X.triggerRedrawOverlay()}}function c(f){for(var e=0;e<P.length;++e){var d=P[e];if(d.series==f){return e}}return -1}function J(h,f){var g=h.getOptions();var j=g.series.pie.radius>1?g.series.pie.radius:b*g.series.pie.radius;f.save();f.translate(Y,L);f.scale(1,g.series.pie.tilt);for(var d=0;d<P.length;++d){e(P[d].series)}U(f);f.restore();function e(i){if(i.angle<=0||isNaN(i.angle)){return}f.fillStyle="rgba(255, 255, 255, "+g.series.pie.highlight.opacity+")";f.beginPath();if(Math.abs(i.angle-Math.PI*2)>1e-09){f.moveTo(0,0)}f.arc(0,0,j,i.startAngle,i.startAngle+i.angle/2,false);f.arc(0,0,j,i.startAngle+i.angle/2,i.startAngle+i.angle,false);f.closePath();f.fill()}}}var B={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:0.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(F,G){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+G.color+";'>"+F+"<br/>"+Math.round(G.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};E.plot.plugins.push({init:D,options:B,name:"pie",version:"1.1"})})(jQuery);(function(){var PixelPlot;if(!$.fn.plot){throw new Error("jquery.flot.js required")}PixelPlot=function($graph,graph_data,plot_options,options){var available_colors,d,data,dataItem,previousPoint,timer,_i,_j,_len,_len1;if(options==null){options={}}this.options=$.extend(true,{},PixelPlot.DEFAULTS,options||{});this.plot_options=$.extend(true,{},PixelPlot.PLOT_DEFAULTS,plot_options||{});data=[];this.current_width=null;this.plot_obj=null;timer=null;available_colors=window.PixelAdmin.settings.consts.COLORS.slice(0);for(_i=0,_len=graph_data.length;_i<_len;_i++){d=graph_data[_i];data.push($.extend({},d))}this.$graph=$graph.addClass("pa-flot-graph");this.$graph_container=$('<div class="pa-flot-container"></div>');this.$graph_info=$('<div class="pa-flot-info"></div>');this.$graph_container.insertAfter(this.$graph).append(this.$graph_info).append(this.$graph);this.resizeContainer();if(!data.length){return}for(_j=0,_len1=data.length;_j<_len1;_j++){dataItem=data[_j];if(dataItem.color===void 0){dataItem.color=available_colors.shift()}if(dataItem.filledPoints===true){$.extend(true,dataItem,{points:{radius:this.options.pointRadius,fillColor:dataItem.color}});delete dataItem["filledPoints"]}this.$graph_info.append($('<span><i style="background: '+dataItem.color+'"></i>'+dataItem.label+"</span>"))}this.plot_obj=$.plot($graph,data,this.plot_options);if(this.plot_options.series.pie===void 0){previousPoint=null;$graph.bind("plothover",(function(_this){return function(event,pos,item){var x,y;if(item){if(previousPoint!==item.dataIndex){previousPoint=item.dataIndex;$(".pa-flot-tooltip").remove();x=item.datapoint[0];y=item.datapoint[1];return _this.showTooltip(item.pageX,item.pageY,eval(_this.options.tooltipText))}}else{$(".pa-flot-tooltip").remove();return previousPoint=null}}})(this))}return $(window).on("pa.resize",$.proxy(this.resizeContainer,this))};PixelPlot.prototype.resizeContainer=function(){var height,width;width=this.$graph_container.innerWidth();if(width===this.current_width){return}height=this.options.height===null?Math.ceil(width*this.options.heightRatio):this.options.height;this.$graph.css({width:width,height:height});this.current_width=width;if(this.plot_obj){this.plot_obj.getPlaceholder().css({width:width,height:height});this.plot_obj.resize();this.plot_obj.setupGrid();return this.plot_obj.draw()}};PixelPlot.prototype.showTooltip=function(x,y,contents){var tooltip;tooltip=$('<div class="pa-flot-tooltip">'+contents+"</div>").appendTo("body");if((x+20+tooltip.width())>(this.$graph_container.offset().left+this.$graph_container.width())){x-=40+tooltip.width()}else{x+=20}return tooltip.css({top:y-16,left:x}).fadeIn()};PixelPlot.DEFAULTS={pointRadius:4,height:null,heightRatio:0.5,tooltipText:"x - y"};PixelPlot.PLOT_DEFAULTS={series:{shadowSize:0},grid:{color:"#999",borderColor:"#fff",borderWidth:1,hoverable:true},xaxis:{tickColor:"#fff"},legend:{show:false}};$.fn.pixelPlot=function(graph_data,plot_options,options){return this.each(function(){var pflot;pflot=$.data(this,"PixelPlot");if(!pflot){return $.data(this,"PixelPlot",new PixelPlot($(this),graph_data,plot_options,options))}else{if(plot_options==="resizeContainer"){return pflot.resizeContainer()}}})};$.fn.pixelPlot.Constructor=PixelPlot}).call(this);(function(){var D,C,F,B,A,E;if(!$.fn.modal||!$.fn.Vague||!$("html").hasClass("not-ie")){return}A=$.fn.modal.Constructor.prototype.show;B=$.fn.modal.Constructor.prototype.hide;D=null;E=false;F=function(){if(E){return}if(!D){D=$("#main-wrapper").Vague({intensity:3,forceSVGUrl:false})}D.blur();return E=true};C=function(){if(!E){return}if(D){D.unblur()}return E=false};$.fn.modal.Constructor.prototype.show=function(){A.call(this);if(this.$element.hasClass("modal-blur")){$("body").append(this.$element);if(getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"){F()}return $(window).on("pa.resize.modal_blur",function(){if(getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"){return F()}else{return C()}})}else{return C()}};$.fn.modal.Constructor.prototype.hide=function(){B.call(this);C();return $(window).off("pa.resize.modal_blur").on("hidden",".modal",function(){return alert("asd")})}}).call(this);(function(){var A;if(!$.fn.datepicker){throw new Error("bootstrap-datepicker.js required")}A=$.fn.datepicker;$.fn.datepicker=function(B){B=$.extend({rtl:$("body").hasClass("right-to-left")},B||{});return A.call($(this),B)}}).call(this);(function(){var A;if(!$.fn.timepicker){throw new Error("bootstrap-timepicker.js required")}A=$.fn.timepicker.Constructor.prototype._init;$.fn.timepicker.Constructor.prototype._init=function(){if(this.$element.parent().hasClass("input-group")){this.$element.parent(".input-group").find(".input-group-addon").on("click.timepicker",$.proxy(this.showWidget,this));this.$element.on({"focus.timepicker":$.proxy(this.highlightUnit,this),"click.timepicker":$.proxy(this.highlightUnit,this),"keydown.timepicker":$.proxy(this.elementKeydown,this),"blur.timepicker":$.proxy(this.blurElement,this)})}return A.call(this)};$.fn.timepicker.Constructor.prototype.getTemplate=function(){var B,D,E,F,G,C;if(this.showInputs){B='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>';E='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>';F='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>';D='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'}else{B='<span class="bootstrap-timepicker-hour"></span>';E='<span class="bootstrap-timepicker-minute"></span>';F='<span class="bootstrap-timepicker-second"></span>';D='<span class="bootstrap-timepicker-meridian"></span>'}C="<table>";C+="<tr>";C+='<td><a href="#" data-action="incrementHour" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>';C+='<td class="separator">&nbsp;</td>';C+='<td><a href="#" data-action="incrementMinute" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>';if(this.showSeconds){C+='<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>'}if(this.showMeridian){C+='<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>'}C+="</tr>";C+="<tr>";C+="<td>"+B+"</td> ";C+='<td class="separator">:</td>';C+="<td>"+E+"</td> ";if(this.showSeconds){C+='<td class="separator">:</td><td>'+F+"</td>"}if(this.showMeridian){C+='<td class="separator">&nbsp;</td><td>'+D+"</td>"}C+="</tr>";C+="<tr>";C+='<td><a href="#" data-action="decrementHour" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>';C+='<td class="separator"></td>';C+='<td><a href="#" data-action="decrementMinute" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>';if(this.showSeconds){C+='<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>'}if(this.showMeridian){C+='<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>'}C+="</tr>";C+="</table>";if(this.template==="modal"){G='<div class="bootstrap-timepicker-widget modal fade" tabindex="-1" role="dialog" style="display: none;">';G+='<div class="modal-dialog modal-sm">';G+='<div class="modal-content">';G+='<div class="modal-header">';G+='<button type="button" class="close" data-dismiss="modal"></button>';G+="<h4>Pick a Time</h4>";G+="</div>";G+='<div class="modal-body">'+C+"</div>";G+='<div class="modal-footer">';G+='<buttom class="btn btn-primary" data-dismiss="modal">OK</buttom>';G+="</div>";G+="</div>";G+="</div>";G+="</div>"}else{if(this.template==="dropdown"){G='<div class="bootstrap-timepicker-widget dropdown-menu">'+C+"</div>"}}return G}}).call(this);(function(){var A;if(!$.fn.datepaginator){throw new Error("bootstrap-datepaginator.js required")}A=$.fn.datepaginator;$.fn.datepaginator=function(B,C){return A.call(this,$.extend({},{injectStyle:false,itemWidth:45,selectedItemWidth:160},B||{}),C)}}).call(this);(function(){var A;if(!$.fn.tabdrop){throw new Error("bootstrap-tabdrop.js required")}A=$.fn.tabdrop;$.fn.tabdrop=function(B){B=$.extend({},$.fn.tabdrop.defaults,B);return this.each(function(){var C,D;C=$(this);A.call(C,B);D=C.data("tabdrop");if(D){D.dropdown.on("click","li",function(){$(this).parent().parent().find("a.dropdown-toggle").empty().html('<span class="display-tab"> '+$(this).text()+' </span><b class="caret"></b>');return D.layout()});return D.element.on("click","> li",function(){if($(this).hasClass("tabdrop")){return}D.element.find("> .tabdrop > a.dropdown-toggle").empty().html(B.text+' <b class="caret"></b>');return D.layout()})}})};$.fn.tabdrop.defaults={text:'<i class="fa fa-bars"></i>'}}).call(this);(function(){if(!$.validator){throw new Error("jquery.validate.js required")}$.validator.setDefaults({highlight:function(A){return $(A).closest(".form-group").addClass("has-error")},unhighlight:function(A){return $(A).closest(".form-group").removeClass("has-error").find("help-block-hidden").removeClass("help-block-hidden").addClass("help-block").show()},errorElement:"div",errorClass:"jquery-validate-error",errorPlacement:function(D,B){var A,C,E;E=B.is('input[type="checkbox"]')||B.is('input[type="radio"]');C=B.closest(".form-group").find(".jquery-validate-error").length;if(!E||!C){if(!C){B.closest(".form-group").find(".help-block").removeClass("help-block").addClass("help-block-hidden").hide()}D.addClass("help-block");if(E){return B.closest('[class*="col-"]').append(D)}else{A=B.parent();if(A.is(".input-group")){return A.parent().append(D)}else{return A.append(D)}}}}})}).call(this);(function(){var A;if(!$.fn.knob){throw new Error("jquery.knob.js required")}A=$.fn.knob;$.fn.knob=function(B){var C;C=$("body");return A.call(this,B).each(function(){var D;if(C.hasClass("right-to-left")){D=$(this).find("input");return D.css({"margin-left":0,"margin-right":D.css("margin-left")})}})}}).call(this);(function(){var A;if(!$.fn.sparkline){throw new Error("jquery.sparkline.js required")}A=function(F,B,D){var C,E;E=F.outerWidth();C=parseInt(D)*(B-1);return Math.floor((E-C)/B)};$.fn.pixelSparkline=function(){var D,B,C,E;B=arguments;C=false;E=0;D="2px";if(B[0] instanceof Array&&B[1] instanceof Object&&B[1].type==="bar"&&B[1].width==="100%"){C=true;E=B[0].length;if(B[1].barSpacing){D=B[1].barSpacing}B[1].barWidth=A($(this),E,D)}$.fn.sparkline.apply(this,B);return $(window).on("pa.resize",(function(F){return function(){if(C){B[1].barWidth=A($(F),E,D)}return $.fn.sparkline.apply(F,B)}})(this))}}).call(this);